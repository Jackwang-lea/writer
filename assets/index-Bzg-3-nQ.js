var jA=Object.defineProperty;var DA=(e,t,n)=>t in e?jA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Yl=(e,t,n)=>DA(e,typeof t!="symbol"?t+"":t,n);function LA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function jC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ax={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function IA(){if(Gw)return Gl;Gw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:c,ref:i!==void 0?i:null,props:a}}return Gl.Fragment=t,Gl.jsx=n,Gl.jsxs=n,Gl}var qw;function $A(){return qw||(qw=1,Ax.exports=IA()),Ax.exports}var v=$A(),Rx={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function PA(){if(Xw)return et;Xw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function k(B,H,W){this.props=B,this.context=H,this.refs=S,this.updater=W||b}k.prototype.isReactComponent={},k.prototype.setState=function(B,H){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,H,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function C(){}C.prototype=k.prototype;function R(B,H,W){this.props=B,this.context=H,this.refs=S,this.updater=W||b}var O=R.prototype=new C;O.constructor=R,w(O,k.prototype),O.isPureReactComponent=!0;var M=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function P(B,H,W,re,ae,ye){return W=ye.ref,{$$typeof:e,type:B,key:H,ref:W!==void 0?W:null,props:ye}}function $(B,H){return P(B.type,H,void 0,void 0,void 0,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function _(B){var H={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(W){return H[W]})}var F=/\/+/g;function ee(B,H){return typeof B=="object"&&B!==null&&B.key!=null?_(""+B.key):H.toString(36)}function K(){}function L(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(K,K):(B.status="pending",B.then(function(H){B.status==="pending"&&(B.status="fulfilled",B.value=H)},function(H){B.status==="pending"&&(B.status="rejected",B.reason=H)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,H,W,re,ae){var ye=typeof B;(ye==="undefined"||ye==="boolean")&&(B=null);var me=!1;if(B===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(B.$$typeof){case e:case t:me=!0;break;case p:return me=B._init,Y(me(B._payload),H,W,re,ae)}}if(me)return ae=ae(B),me=re===""?"."+ee(B,0):re,M(ae)?(W="",me!=null&&(W=me.replace(F,"$&/")+"/"),Y(ae,H,W,"",function(be){return be})):ae!=null&&(I(ae)&&(ae=$(ae,W+(ae.key==null||B&&B.key===ae.key?"":(""+ae.key).replace(F,"$&/")+"/")+me)),H.push(ae)),1;me=0;var Ne=re===""?".":re+":";if(M(B))for(var ue=0;ue<B.length;ue++)re=B[ue],ye=Ne+ee(re,ue),me+=Y(re,H,W,ye,ae);else if(ue=y(B),typeof ue=="function")for(B=ue.call(B),ue=0;!(re=B.next()).done;)re=re.value,ye=Ne+ee(re,ue++),me+=Y(re,H,W,ye,ae);else if(ye==="object"){if(typeof B.then=="function")return Y(L(B),H,W,re,ae);throw H=String(B),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return me}function j(B,H,W){if(B==null)return B;var re=[],ae=0;return Y(B,re,"","",function(ye){return H.call(W,ye,ae++)}),re}function G(B){if(B._status===-1){var H=B._result;H=H(),H.then(function(W){(B._status===0||B._status===-1)&&(B._status=1,B._result=W)},function(W){(B._status===0||B._status===-1)&&(B._status=2,B._result=W)}),B._status===-1&&(B._status=0,B._result=H)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function V(){}return et.Children={map:j,forEach:function(B,H,W){j(B,function(){H.apply(this,arguments)},W)},count:function(B){var H=0;return j(B,function(){H++}),H},toArray:function(B){return j(B,function(H){return H})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},et.Component=k,et.Fragment=n,et.Profiler=i,et.PureComponent=R,et.StrictMode=r,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,et.__COMPILER_RUNTIME={__proto__:null,c:function(B){return A.H.useMemoCache(B)}},et.cache=function(B){return function(){return B.apply(null,arguments)}},et.cloneElement=function(B,H,W){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var re=w({},B.props),ae=B.key,ye=void 0;if(H!=null)for(me in H.ref!==void 0&&(ye=void 0),H.key!==void 0&&(ae=""+H.key),H)!N.call(H,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&H.ref===void 0||(re[me]=H[me]);var me=arguments.length-2;if(me===1)re.children=W;else if(1<me){for(var Ne=Array(me),ue=0;ue<me;ue++)Ne[ue]=arguments[ue+2];re.children=Ne}return P(B.type,ae,void 0,void 0,ye,re)},et.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},et.createElement=function(B,H,W){var re,ae={},ye=null;if(H!=null)for(re in H.key!==void 0&&(ye=""+H.key),H)N.call(H,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ae[re]=H[re]);var me=arguments.length-2;if(me===1)ae.children=W;else if(1<me){for(var Ne=Array(me),ue=0;ue<me;ue++)Ne[ue]=arguments[ue+2];ae.children=Ne}if(B&&B.defaultProps)for(re in me=B.defaultProps,me)ae[re]===void 0&&(ae[re]=me[re]);return P(B,ye,void 0,void 0,null,ae)},et.createRef=function(){return{current:null}},et.forwardRef=function(B){return{$$typeof:u,render:B}},et.isValidElement=I,et.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:G}},et.memo=function(B,H){return{$$typeof:h,type:B,compare:H===void 0?null:H}},et.startTransition=function(B){var H=A.T,W={};A.T=W;try{var re=B(),ae=A.S;ae!==null&&ae(W,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(V,Q)}catch(ye){Q(ye)}finally{A.T=H}},et.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},et.use=function(B){return A.H.use(B)},et.useActionState=function(B,H,W){return A.H.useActionState(B,H,W)},et.useCallback=function(B,H){return A.H.useCallback(B,H)},et.useContext=function(B){return A.H.useContext(B)},et.useDebugValue=function(){},et.useDeferredValue=function(B,H){return A.H.useDeferredValue(B,H)},et.useEffect=function(B,H,W){var re=A.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(B,H)},et.useId=function(){return A.H.useId()},et.useImperativeHandle=function(B,H,W){return A.H.useImperativeHandle(B,H,W)},et.useInsertionEffect=function(B,H){return A.H.useInsertionEffect(B,H)},et.useLayoutEffect=function(B,H){return A.H.useLayoutEffect(B,H)},et.useMemo=function(B,H){return A.H.useMemo(B,H)},et.useOptimistic=function(B,H){return A.H.useOptimistic(B,H)},et.useReducer=function(B,H,W){return A.H.useReducer(B,H,W)},et.useRef=function(B){return A.H.useRef(B)},et.useState=function(B){return A.H.useState(B)},et.useSyncExternalStore=function(B,H,W){return A.H.useSyncExternalStore(B,H,W)},et.useTransition=function(){return A.H.useTransition()},et.version="19.1.0",et}var Kw;function Vc(){return Kw||(Kw=1,Rx.exports=PA()),Rx.exports}var E=Vc();const le=jC(E),Zw=LA({__proto__:null,default:le},[E]);var Ox={exports:{}},ql={},Bx={exports:{}},jx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function zA(){return Ww||(Ww=1,function(e){function t(j,G){var Q=j.length;j.push(G);e:for(;0<Q;){var V=Q-1>>>1,B=j[V];if(0<i(B,G))j[V]=G,j[Q]=B,Q=V;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],Q=j.pop();if(Q!==G){j[0]=Q;e:for(var V=0,B=j.length,H=B>>>1;V<H;){var W=2*(V+1)-1,re=j[W],ae=W+1,ye=j[ae];if(0>i(re,Q))ae<B&&0>i(ye,re)?(j[V]=ye,j[ae]=Q,V=ae):(j[V]=re,j[W]=Q,V=W);else if(ae<B&&0>i(ye,Q))j[V]=ye,j[ae]=Q,V=ae;else break e}}return G}function i(j,G){var Q=j.sortIndex-G.sortIndex;return Q!==0?Q:j.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,y=3,b=!1,w=!1,S=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(j){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=j)r(h),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(h)}}function A(j){if(S=!1,M(j),!w)if(n(f)!==null)w=!0,N||(N=!0,ee());else{var G=n(h);G!==null&&Y(A,G.startTime-j)}}var N=!1,P=-1,$=5,I=-1;function _(){return k?!0:!(e.unstable_now()-I<$)}function F(){if(k=!1,N){var j=e.unstable_now();I=j;var G=!0;try{e:{w=!1,S&&(S=!1,R(P),P=-1),b=!0;var Q=y;try{t:{for(M(j),g=n(f);g!==null&&!(g.expirationTime>j&&_());){var V=g.callback;if(typeof V=="function"){g.callback=null,y=g.priorityLevel;var B=V(g.expirationTime<=j);if(j=e.unstable_now(),typeof B=="function"){g.callback=B,M(j),G=!0;break t}g===n(f)&&r(f),M(j)}else r(f);g=n(f)}if(g!==null)G=!0;else{var H=n(h);H!==null&&Y(A,H.startTime-j),G=!1}}break e}finally{g=null,y=Q,b=!1}G=void 0}}finally{G?ee():N=!1}}}var ee;if(typeof O=="function")ee=function(){O(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,L=K.port2;K.port1.onmessage=F,ee=function(){L.postMessage(null)}}else ee=function(){C(F,0)};function Y(j,G){P=C(function(){j(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(j){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var Q=y;y=G;try{return j()}finally{y=Q}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=y;y=j;try{return G()}finally{y=Q}},e.unstable_scheduleCallback=function(j,G,Q){var V=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,j={id:p++,callback:G,priorityLevel:j,startTime:Q,expirationTime:B,sortIndex:-1},Q>V?(j.sortIndex=Q,t(h,j),n(f)===null&&j===n(h)&&(S?(R(P),P=-1):S=!0,Y(A,Q-V))):(j.sortIndex=B,t(f,j),w||b||(w=!0,N||(N=!0,ee()))),j},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(j){var G=y;return function(){var Q=y;y=G;try{return j.apply(this,arguments)}finally{y=Q}}}}(jx)),jx}var Qw;function HA(){return Qw||(Qw=1,Bx.exports=zA()),Bx.exports}var Dx={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function UA(){if(Jw)return In;Jw=1;var e=Vc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(f,h,null,p)},In.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},In.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},In.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},In.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},In.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},In.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},In.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},In.requestFormReset=function(f){r.d.r(f)},In.unstable_batchedUpdates=function(f,h){return f(h)},In.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},In.useFormStatus=function(){return c.H.useHostTransitionStatus()},In.version="19.1.0",In}var eS;function DC(){if(eS)return Dx.exports;eS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dx.exports=UA(),Dx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function FA(){if(tS)return ql;tS=1;var e=HA(),t=Vc(),n=DC();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function c(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function f(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var l=o,d=s;;){var x=l.return;if(x===null)break;var m=x.alternate;if(m===null){if(d=x.return,d!==null){l=d;continue}break}if(x.child===m.child){for(m=x.child;m;){if(m===l)return u(x),o;if(m===d)return u(x),s;m=m.sibling}throw Error(r(188))}if(l.return!==d.return)l=x,d=m;else{for(var T=!1,D=x.child;D;){if(D===l){T=!0,l=x,d=m;break}if(D===d){T=!0,d=x,l=m;break}D=D.sibling}if(!T){for(D=m.child;D;){if(D===l){T=!0,l=m,d=x;break}if(D===d){T=!0,d=m,l=x;break}D=D.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),_=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function L(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList";case I:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case O:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case M:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return s=o.displayName||null,s!==null?s:L(o.type)||"Memo";case $:s=o._payload,o=o._init;try{return L(o(s))}catch{}}return null}var Y=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},V=[],B=-1;function H(o){return{current:o}}function W(o){0>B||(o.current=V[B],V[B]=null,B--)}function re(o,s){B++,V[B]=o.current,o.current=s}var ae=H(null),ye=H(null),me=H(null),Ne=H(null);function ue(o,s){switch(re(me,s),re(ye,o),re(ae,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?bw(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=bw(s),o=ww(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(ae),re(ae,o)}function be(){W(ae),W(ye),W(me)}function Ce(o){o.memoizedState!==null&&re(Ne,o);var s=ae.current,l=ww(s,o.type);s!==l&&(re(ye,o),re(ae,l))}function Ue(o){ye.current===o&&(W(ae),W(ye)),Ne.current===o&&(W(Ne),zl._currentValue=Q)}var Te=Object.prototype.hasOwnProperty,Ke=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,Fe=e.unstable_shouldYield,Ve=e.unstable_requestPaint,_e=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,ze=e.unstable_ImmediatePriority,ft=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,Oe=e.unstable_LowPriority,tn=e.unstable_IdlePriority,ln=e.log,En=e.unstable_setDisableYieldValue,Ct=null,ut=null;function Bt(o){if(typeof ln=="function"&&En(o),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Ct,o)}catch{}}var _t=Math.clz32?Math.clz32:ce,jn=Math.log,mt=Math.LN2;function ce(o){return o>>>=0,o===0?32:31-(jn(o)/mt|0)|0}var ve=256,Ie=4194304;function Ze(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ht(o,s,l){var d=o.pendingLanes;if(d===0)return 0;var x=0,m=o.suspendedLanes,T=o.pingedLanes;o=o.warmLanes;var D=d&134217727;return D!==0?(d=D&~m,d!==0?x=Ze(d):(T&=D,T!==0?x=Ze(T):l||(l=D&~o,l!==0&&(x=Ze(l))))):(D=d&~m,D!==0?x=Ze(D):T!==0?x=Ze(T):l||(l=d&~o,l!==0&&(x=Ze(l)))),x===0?0:s!==0&&s!==x&&(s&m)===0&&(m=x&-x,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:x}function yt(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function Cn(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kn(){var o=ve;return ve<<=1,(ve&4194048)===0&&(ve=256),o}function Dn(){var o=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),o}function Hn(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function Un(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Fn(o,s,l,d,x,m){var T=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var D=o.entanglements,U=o.expirationTimes,ne=o.hiddenUpdates;for(l=T&~l;0<l;){var he=31-_t(l),ge=1<<he;D[he]=0,U[he]=-1;var oe=ne[he];if(oe!==null)for(ne[he]=null,he=0;he<oe.length;he++){var ie=oe[he];ie!==null&&(ie.lane&=-536870913)}l&=~ge}d!==0&&fn(o,d,0),m!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=m&~(T&~s))}function fn(o,s,l){o.pendingLanes|=s,o.suspendedLanes&=~s;var d=31-_t(s);o.entangledLanes|=s,o.entanglements[d]=o.entanglements[d]|1073741824|l&4194090}function hn(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var d=31-_t(l),x=1<<d;x&s|o[d]&s&&(o[d]|=s),l&=~x}}function Er(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Co(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function q(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:zw(o.type))}function z(o,s){var l=G.p;try{return G.p=o,s()}finally{G.p=l}}var X=Math.random().toString(36).slice(2),se="__reactFiber$"+X,fe="__reactProps$"+X,Ee="__reactContainer$"+X,Me="__reactEvents$"+X,ke="__reactListeners$"+X,Re="__reactHandles$"+X,je="__reactResources$"+X,$e="__reactMarker$"+X;function De(o){delete o[se],delete o[fe],delete o[Me],delete o[ke],delete o[Re]}function Ye(o){var s=o[se];if(s)return s;for(var l=o.parentNode;l;){if(s=l[Ee]||l[se]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=kw(o);o!==null;){if(l=o[se])return l;o=kw(o)}return s}o=l,l=o.parentNode}return null}function dt(o){if(o=o[se]||o[Ee]){var s=o.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return o}return null}function jt(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Ut(o){var s=o[je];return s||(s=o[je]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(o){o[$e]=!0}var st=new Set,eo={};function Tn(o,s){Kn(o,s),Kn(o+"Capture",s)}function Kn(o,s){for(eo[o]=s,o=0;o<s.length;o++)st.add(s[o])}var _n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},no={};function qi(o){return Te.call(no,o)?!0:Te.call(to,o)?!1:_n.test(o)?no[o]=!0:(to[o]=!0,!1)}function Zn(o,s,l){if(qi(s))if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+l)}}function Ur(o,s,l){if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+l)}}function tt(o,s,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(s,l,""+d)}}var pn,ir;function sr(o){if(pn===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);pn=s&&s[1]||"",ir=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pn+o+ir}var ko=!1;function Nt(o,s){if(!o||ko)return"";ko=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ie){var oe=ie}Reflect.construct(o,[],ge)}else{try{ge.call()}catch(ie){oe=ie}o.call(ge.prototype)}}else{try{throw Error()}catch(ie){oe=ie}(ge=o())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ie){if(ie&&oe&&typeof ie.stack=="string")return[ie.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=d.DetermineComponentFrameRoot(),T=m[0],D=m[1];if(T&&D){var U=T.split(`
`),ne=D.split(`
`);for(x=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(d===U.length||x===ne.length)for(d=U.length-1,x=ne.length-1;1<=d&&0<=x&&U[d]!==ne[x];)x--;for(;1<=d&&0<=x;d--,x--)if(U[d]!==ne[x]){if(d!==1||x!==1)do if(d--,x--,0>x||U[d]!==ne[x]){var he=`
`+U[d].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=d&&0<=x);break}}}finally{ko=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?sr(l):""}function ri(o){switch(o.tag){case 26:case 27:case 5:return sr(o.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return Nt(o.type,!1);case 11:return Nt(o.type.render,!1);case 1:return Nt(o.type,!0);case 31:return sr("Activity");default:return""}}function Qa(o){try{var s="";do s+=ri(o),o=o.return;while(o);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Wn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function xv(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function MN(o){var s=xv(o)?"checked":"value",l=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),d=""+o[s];if(!o.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,m=l.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return x.call(this)},set:function(T){d=""+T,m.call(this,T)}}),Object.defineProperty(o,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function su(o){o._valueTracker||(o._valueTracker=MN(o))}function gv(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return o&&(d=xv(o)?o.checked?"true":"false":o.value),o=d,o!==l?(s.setValue(o),!0):!1}function au(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var AN=/[\n"\\]/g;function Cr(o){return o.replace(AN,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _h(o,s,l,d,x,m,T,D){o.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?o.type=T:o.removeAttribute("type"),s!=null?T==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+Wn(s)):o.value!==""+Wn(s)&&(o.value=""+Wn(s)):T!=="submit"&&T!=="reset"||o.removeAttribute("value"),s!=null?Nh(o,T,Wn(s)):l!=null?Nh(o,T,Wn(l)):d!=null&&o.removeAttribute("value"),x==null&&m!=null&&(o.defaultChecked=!!m),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+Wn(D):o.removeAttribute("name")}function mv(o,s,l,d,x,m,T,D){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(o.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;l=l!=null?""+Wn(l):"",s=s!=null?""+Wn(s):l,D||s===o.value||(o.value=s),o.defaultValue=s}d=d??x,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=D?o.checked:!!d,o.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.name=T)}function Nh(o,s,l){s==="number"&&au(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function Ls(o,s,l,d){if(o=o.options,s){s={};for(var x=0;x<l.length;x++)s["$"+l[x]]=!0;for(l=0;l<o.length;l++)x=s.hasOwnProperty("$"+o[l].value),o[l].selected!==x&&(o[l].selected=x),x&&d&&(o[l].defaultSelected=!0)}else{for(l=""+Wn(l),s=null,x=0;x<o.length;x++){if(o[x].value===l){o[x].selected=!0,d&&(o[x].defaultSelected=!0);return}s!==null||o[x].disabled||(s=o[x])}s!==null&&(s.selected=!0)}}function yv(o,s,l){if(s!=null&&(s=""+Wn(s),s!==o.value&&(o.value=s),l==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=l!=null?""+Wn(l):""}function vv(o,s,l,d){if(s==null){if(d!=null){if(l!=null)throw Error(r(92));if(Y(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),s=l}l=Wn(s),o.defaultValue=l,d=o.textContent,d===l&&d!==""&&d!==null&&(o.value=d)}function Is(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var RN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bv(o,s,l){var d=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":d?o.setProperty(s,l):typeof l!="number"||l===0||RN.has(s)?s==="float"?o.cssFloat=l:o[s]=(""+l).trim():o[s]=l+"px"}function wv(o,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var x in s)d=s[x],s.hasOwnProperty(x)&&l[x]!==d&&bv(o,x,d)}else for(var m in s)s.hasOwnProperty(m)&&bv(o,m,s[m])}function Mh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ON=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(o){return BN.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ah=null;function Rh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $s=null,Ps=null;function Sv(o){var s=dt(o);if(s&&(o=s.stateNode)){var l=o[fe]||null;e:switch(o=s.stateNode,s.type){case"input":if(_h(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==o&&d.form===o.form){var x=d[fe]||null;if(!x)throw Error(r(90));_h(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(s=0;s<l.length;s++)d=l[s],d.form===o.form&&gv(d)}break e;case"textarea":yv(o,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ls(o,!!l.multiple,s,!1)}}}var Oh=!1;function Ev(o,s,l){if(Oh)return o(s,l);Oh=!0;try{var d=o(s);return d}finally{if(Oh=!1,($s!==null||Ps!==null)&&(qu(),$s&&(s=$s,o=Ps,Ps=$s=null,Sv(s),o)))for(s=0;s<o.length;s++)Sv(o[s])}}function Ja(o,s){var l=o.stateNode;if(l===null)return null;var d=l[fe]||null;if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bh=!1;if(To)try{var el={};Object.defineProperty(el,"passive",{get:function(){Bh=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Bh=!1}var oi=null,jh=null,cu=null;function Cv(){if(cu)return cu;var o,s=jh,l=s.length,d,x="value"in oi?oi.value:oi.textContent,m=x.length;for(o=0;o<l&&s[o]===x[o];o++);var T=l-o;for(d=1;d<=T&&s[l-d]===x[m-d];d++);return cu=x.slice(o,1<d?1-d:void 0)}function uu(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function du(){return!0}function kv(){return!1}function Qn(o){function s(l,d,x,m,T){this._reactName=l,this._targetInst=x,this.type=d,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(l=o[D],this[D]=l?l(m):m[D]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?du:kv,this.isPropagationStopped=kv,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Qn(Xi),tl=p({},Xi,{view:0,detail:0}),jN=Qn(tl),Dh,Lh,nl,hu=p({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==nl&&(nl&&o.type==="mousemove"?(Dh=o.screenX-nl.screenX,Lh=o.screenY-nl.screenY):Lh=Dh=0,nl=o),Dh)},movementY:function(o){return"movementY"in o?o.movementY:Lh}}),Tv=Qn(hu),DN=p({},hu,{dataTransfer:0}),LN=Qn(DN),IN=p({},tl,{relatedTarget:0}),Ih=Qn(IN),$N=p({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),PN=Qn($N),zN=p({},Xi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),HN=Qn(zN),UN=p({},Xi,{data:0}),_v=Qn(UN),FN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GN(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=YN[o])?!!s[o]:!1}function $h(){return GN}var qN=p({},tl,{key:function(o){if(o.key){var s=FN[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=uu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?VN[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(o){return o.type==="keypress"?uu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?uu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),XN=Qn(qN),KN=p({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nv=Qn(KN),ZN=p({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),WN=Qn(ZN),QN=p({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=Qn(QN),eM=p({},hu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),tM=Qn(eM),nM=p({},Xi,{newState:0,oldState:0}),rM=Qn(nM),oM=[9,13,27,32],Ph=To&&"CompositionEvent"in window,rl=null;To&&"documentMode"in document&&(rl=document.documentMode);var iM=To&&"TextEvent"in window&&!rl,Mv=To&&(!Ph||rl&&8<rl&&11>=rl),Av=" ",Rv=!1;function Ov(o,s){switch(o){case"keyup":return oM.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var zs=!1;function sM(o,s){switch(o){case"compositionend":return Bv(s);case"keypress":return s.which!==32?null:(Rv=!0,Av);case"textInput":return o=s.data,o===Av&&Rv?null:o;default:return null}}function aM(o,s){if(zs)return o==="compositionend"||!Ph&&Ov(o,s)?(o=Cv(),cu=jh=oi=null,zs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mv&&s.locale!=="ko"?null:s.data;default:return null}}var lM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!lM[o.type]:s==="textarea"}function Dv(o,s,l,d){$s?Ps?Ps.push(d):Ps=[d]:$s=d,s=Ju(s,"onChange"),0<s.length&&(l=new fu("onChange","change",null,l,d),o.push({event:l,listeners:s}))}var ol=null,il=null;function cM(o){xw(o,0)}function pu(o){var s=jt(o);if(gv(s))return o}function Lv(o,s){if(o==="change")return s}var Iv=!1;if(To){var zh;if(To){var Hh="oninput"in document;if(!Hh){var $v=document.createElement("div");$v.setAttribute("oninput","return;"),Hh=typeof $v.oninput=="function"}zh=Hh}else zh=!1;Iv=zh&&(!document.documentMode||9<document.documentMode)}function Pv(){ol&&(ol.detachEvent("onpropertychange",zv),il=ol=null)}function zv(o){if(o.propertyName==="value"&&pu(il)){var s=[];Dv(s,il,o,Rh(o)),Ev(cM,s)}}function uM(o,s,l){o==="focusin"?(Pv(),ol=s,il=l,ol.attachEvent("onpropertychange",zv)):o==="focusout"&&Pv()}function dM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pu(il)}function fM(o,s){if(o==="click")return pu(s)}function hM(o,s){if(o==="input"||o==="change")return pu(s)}function pM(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var ar=typeof Object.is=="function"?Object.is:pM;function sl(o,s){if(ar(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var x=l[d];if(!Te.call(s,x)||!ar(o[x],s[x]))return!1}return!0}function Hv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Uv(o,s){var l=Hv(o);o=0;for(var d;l;){if(l.nodeType===3){if(d=o+l.textContent.length,o<=s&&d>=s)return{node:l,offset:s-o};o=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hv(l)}}function Fv(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Fv(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Vv(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=au(o.document);s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=au(o.document)}return s}function Uh(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var xM=To&&"documentMode"in document&&11>=document.documentMode,Hs=null,Fh=null,al=null,Vh=!1;function Yv(o,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vh||Hs==null||Hs!==au(d)||(d=Hs,"selectionStart"in d&&Uh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),al&&sl(al,d)||(al=d,d=Ju(Fh,"onSelect"),0<d.length&&(s=new fu("onSelect","select",null,s,l),o.push({event:s,listeners:d}),s.target=Hs)))}function Ki(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var Us={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},Yh={},Gv={};To&&(Gv=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Zi(o){if(Yh[o])return Yh[o];if(!Us[o])return o;var s=Us[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in Gv)return Yh[o]=s[l];return o}var qv=Zi("animationend"),Xv=Zi("animationiteration"),Kv=Zi("animationstart"),gM=Zi("transitionrun"),mM=Zi("transitionstart"),yM=Zi("transitioncancel"),Zv=Zi("transitionend"),Wv=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Fr(o,s){Wv.set(o,s),Tn(s,[o])}var Qv=new WeakMap;function kr(o,s){if(typeof o=="object"&&o!==null){var l=Qv.get(o);return l!==void 0?l:(s={value:o,source:s,stack:Qa(s)},Qv.set(o,s),s)}return{value:o,source:s,stack:Qa(s)}}var Tr=[],Fs=0,qh=0;function xu(){for(var o=Fs,s=qh=Fs=0;s<o;){var l=Tr[s];Tr[s++]=null;var d=Tr[s];Tr[s++]=null;var x=Tr[s];Tr[s++]=null;var m=Tr[s];if(Tr[s++]=null,d!==null&&x!==null){var T=d.pending;T===null?x.next=x:(x.next=T.next,T.next=x),d.pending=x}m!==0&&Jv(l,x,m)}}function gu(o,s,l,d){Tr[Fs++]=o,Tr[Fs++]=s,Tr[Fs++]=l,Tr[Fs++]=d,qh|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function Xh(o,s,l,d){return gu(o,s,l,d),mu(o)}function Vs(o,s){return gu(o,null,null,s),mu(o)}function Jv(o,s,l){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l);for(var x=!1,m=o.return;m!==null;)m.childLanes|=l,d=m.alternate,d!==null&&(d.childLanes|=l),m.tag===22&&(o=m.stateNode,o===null||o._visibility&1||(x=!0)),o=m,m=m.return;return o.tag===3?(m=o.stateNode,x&&s!==null&&(x=31-_t(l),o=m.hiddenUpdates,d=o[x],d===null?o[x]=[s]:d.push(s),s.lane=l|536870912),m):null}function mu(o){if(50<Ol)throw Ol=0,ex=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Ys={};function vM(o,s,l,d){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(o,s,l,d){return new vM(o,s,l,d)}function Kh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _o(o,s){var l=o.alternate;return l===null?(l=lr(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function eb(o,s){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function yu(o,s,l,d,x,m){var T=0;if(d=o,typeof o=="function")Kh(o)&&(T=1);else if(typeof o=="string")T=wA(o,l,ae.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case I:return o=lr(31,l,s,x),o.elementType=I,o.lanes=m,o;case w:return Wi(l.children,x,m,s);case S:T=8,x|=24;break;case k:return o=lr(12,l,s,x|2),o.elementType=k,o.lanes=m,o;case A:return o=lr(13,l,s,x),o.elementType=A,o.lanes=m,o;case N:return o=lr(19,l,s,x),o.elementType=N,o.lanes=m,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:case O:T=10;break e;case R:T=9;break e;case M:T=11;break e;case P:T=14;break e;case $:T=16,d=null;break e}T=29,l=Error(r(130,o===null?"null":typeof o,"")),d=null}return s=lr(T,l,s,x),s.elementType=o,s.type=d,s.lanes=m,s}function Wi(o,s,l,d){return o=lr(7,o,d,s),o.lanes=l,o}function Zh(o,s,l){return o=lr(6,o,null,s),o.lanes=l,o}function Wh(o,s,l){return s=lr(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Gs=[],qs=0,vu=null,bu=0,_r=[],Nr=0,Qi=null,No=1,Mo="";function Ji(o,s){Gs[qs++]=bu,Gs[qs++]=vu,vu=o,bu=s}function tb(o,s,l){_r[Nr++]=No,_r[Nr++]=Mo,_r[Nr++]=Qi,Qi=o;var d=No;o=Mo;var x=32-_t(d)-1;d&=~(1<<x),l+=1;var m=32-_t(s)+x;if(30<m){var T=x-x%5;m=(d&(1<<T)-1).toString(32),d>>=T,x-=T,No=1<<32-_t(s)+x|l<<x|d,Mo=m+o}else No=1<<m|l<<x|d,Mo=o}function Qh(o){o.return!==null&&(Ji(o,1),tb(o,1,0))}function Jh(o){for(;o===vu;)vu=Gs[--qs],Gs[qs]=null,bu=Gs[--qs],Gs[qs]=null;for(;o===Qi;)Qi=_r[--Nr],_r[Nr]=null,Mo=_r[--Nr],_r[Nr]=null,No=_r[--Nr],_r[Nr]=null}var Vn=null,Xt=null,vt=!1,es=null,ro=!1,ep=Error(r(519));function ts(o){var s=Error(r(418,""));throw ul(kr(s,o)),ep}function nb(o){var s=o.stateNode,l=o.type,d=o.memoizedProps;switch(s[se]=o,s[fe]=d,l){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(l=0;l<jl.length;l++)lt(jl[l],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":lt("invalid",s),mv(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),su(s);break;case"select":lt("invalid",s);break;case"textarea":lt("invalid",s),vv(s,d.value,d.defaultValue,d.children),su(s)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||d.suppressHydrationWarning===!0||vw(s.textContent,l)?(d.popover!=null&&(lt("beforetoggle",s),lt("toggle",s)),d.onScroll!=null&&lt("scroll",s),d.onScrollEnd!=null&&lt("scrollend",s),d.onClick!=null&&(s.onclick=ed),s=!0):s=!1,s||ts(o)}function rb(o){for(Vn=o.return;Vn;)switch(Vn.tag){case 5:case 13:ro=!1;return;case 27:case 3:ro=!0;return;default:Vn=Vn.return}}function ll(o){if(o!==Vn)return!1;if(!vt)return rb(o),vt=!0,!1;var s=o.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||gx(o.type,o.memoizedProps)),l=!l),l&&Xt&&ts(o),rb(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8)if(l=o.data,l==="/$"){if(s===0){Xt=Yr(o.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;o=o.nextSibling}Xt=null}}else s===27?(s=Xt,bi(o.type)?(o=bx,bx=null,Xt=o):Xt=s):Xt=Vn?Yr(o.stateNode.nextSibling):null;return!0}function cl(){Xt=Vn=null,vt=!1}function ob(){var o=es;return o!==null&&(tr===null?tr=o:tr.push.apply(tr,o),es=null),o}function ul(o){es===null?es=[o]:es.push(o)}var tp=H(null),ns=null,Ao=null;function ii(o,s,l){re(tp,s._currentValue),s._currentValue=l}function Ro(o){o._currentValue=tp.current,W(tp)}function np(o,s,l){for(;o!==null;){var d=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),o===l)break;o=o.return}}function rp(o,s,l,d){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var m=x.dependencies;if(m!==null){var T=x.child;m=m.firstContext;e:for(;m!==null;){var D=m;m=x;for(var U=0;U<s.length;U++)if(D.context===s[U]){m.lanes|=l,D=m.alternate,D!==null&&(D.lanes|=l),np(m.return,l,o),d||(T=null);break e}m=D.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(r(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),np(T,l,o),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===o){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function dl(o,s,l,d){o=null;for(var x=s,m=!1;x!==null;){if(!m){if((x.flags&524288)!==0)m=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var D=x.type;ar(x.pendingProps.value,T.value)||(o!==null?o.push(D):o=[D])}}else if(x===Ne.current){if(T=x.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(zl):o=[zl])}x=x.return}o!==null&&rp(s,o,l,d),s.flags|=262144}function wu(o){for(o=o.firstContext;o!==null;){if(!ar(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function rs(o){ns=o,Ao=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ln(o){return ib(ns,o)}function Su(o,s){return ns===null&&rs(o),ib(o,s)}function ib(o,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ao===null){if(o===null)throw Error(r(308));Ao=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Ao=Ao.next=s;return l}var bM=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(l,d){o.push(d)}};this.abort=function(){s.aborted=!0,o.forEach(function(l){return l()})}},wM=e.unstable_scheduleCallback,SM=e.unstable_NormalPriority,xn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new bM,data:new Map,refCount:0}}function fl(o){o.refCount--,o.refCount===0&&wM(SM,function(){o.controller.abort()})}var hl=null,ip=0,Xs=0,Ks=null;function EM(o,s){if(hl===null){var l=hl=[];ip=0,Xs=ax(),Ks={status:"pending",value:void 0,then:function(d){l.push(d)}}}return ip++,s.then(sb,sb),s}function sb(){if(--ip===0&&hl!==null){Ks!==null&&(Ks.status="fulfilled");var o=hl;hl=null,Xs=0,Ks=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function CM(o,s){var l=[],d={status:"pending",value:null,reason:null,then:function(x){l.push(x)}};return o.then(function(){d.status="fulfilled",d.value=s;for(var x=0;x<l.length;x++)(0,l[x])(s)},function(x){for(d.status="rejected",d.reason=x,x=0;x<l.length;x++)(0,l[x])(void 0)}),d}var ab=j.S;j.S=function(o,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&EM(o,s),ab!==null&&ab(o,s)};var os=H(null);function sp(){var o=os.current;return o!==null?o:$t.pooledCache}function Eu(o,s){s===null?re(os,os.current):re(os,s.pool)}function lb(){var o=sp();return o===null?null:{parent:xn._currentValue,pool:o}}var pl=Error(r(460)),cb=Error(r(474)),Cu=Error(r(542)),ap={then:function(){}};function ub(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ku(){}function db(o,s,l){switch(l=o[l],l===void 0?o.push(s):l!==s&&(s.then(ku,ku),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,hb(o),o;default:if(typeof s.status=="string")s.then(ku,ku);else{if(o=$t,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(d){if(s.status==="pending"){var x=s;x.status="fulfilled",x.value=d}},function(d){if(s.status==="pending"){var x=s;x.status="rejected",x.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,hb(o),o}throw xl=s,pl}}var xl=null;function fb(){if(xl===null)throw Error(r(459));var o=xl;return xl=null,o}function hb(o){if(o===pl||o===Cu)throw Error(r(483))}var si=!1;function lp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ai(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function li(o,s,l){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(kt&2)!==0){var x=d.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),d.pending=s,s=mu(o),Jv(o,null,l),s}return gu(o,d,s,l),mu(o)}function gl(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var d=s.lanes;d&=o.pendingLanes,l|=d,s.lanes=l,hn(o,l)}}function up(o,s){var l=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var x=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?x=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?x=m=s:m=m.next=s}else x=m=s;l={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:m,shared:d.shared,callbacks:d.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}var dp=!1;function ml(){if(dp){var o=Ks;if(o!==null)throw o}}function yl(o,s,l,d){dp=!1;var x=o.updateQueue;si=!1;var m=x.firstBaseUpdate,T=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var U=D,ne=U.next;U.next=null,T===null?m=ne:T.next=ne,T=U;var he=o.alternate;he!==null&&(he=he.updateQueue,D=he.lastBaseUpdate,D!==T&&(D===null?he.firstBaseUpdate=ne:D.next=ne,he.lastBaseUpdate=U))}if(m!==null){var ge=x.baseState;T=0,he=ne=U=null,D=m;do{var oe=D.lane&-536870913,ie=oe!==D.lane;if(ie?(pt&oe)===oe:(d&oe)===oe){oe!==0&&oe===Xs&&(dp=!0),he!==null&&(he=he.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var qe=o,He=D;oe=s;var Rt=l;switch(He.tag){case 1:if(qe=He.payload,typeof qe=="function"){ge=qe.call(Rt,ge,oe);break e}ge=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=He.payload,oe=typeof qe=="function"?qe.call(Rt,ge,oe):qe,oe==null)break e;ge=p({},ge,oe);break e;case 2:si=!0}}oe=D.callback,oe!==null&&(o.flags|=64,ie&&(o.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[oe]:ie.push(oe))}else ie={lane:oe,tag:D.tag,payload:D.payload,callback:D.callback,next:null},he===null?(ne=he=ie,U=ge):he=he.next=ie,T|=oe;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);he===null&&(U=ge),x.baseState=U,x.firstBaseUpdate=ne,x.lastBaseUpdate=he,m===null&&(x.shared.lanes=0),gi|=T,o.lanes=T,o.memoizedState=ge}}function pb(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function xb(o,s){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)pb(l[o],s)}var Zs=H(null),Tu=H(0);function gb(o,s){o=$o,re(Tu,o),re(Zs,s),$o=o|s.baseLanes}function fp(){re(Tu,$o),re(Zs,Zs.current)}function hp(){$o=Tu.current,W(Zs),W(Tu)}var ci=0,nt=null,Mt=null,cn=null,_u=!1,Ws=!1,is=!1,Nu=0,vl=0,Qs=null,kM=0;function nn(){throw Error(r(321))}function pp(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!ar(o[l],s[l]))return!1;return!0}function xp(o,s,l,d,x,m){return ci=m,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=o===null||o.memoizedState===null?Jb:e1,is=!1,m=l(d,x),is=!1,Ws&&(m=yb(s,l,d,x)),mb(o),m}function mb(o){j.H=ju;var s=Mt!==null&&Mt.next!==null;if(ci=0,cn=Mt=nt=null,_u=!1,vl=0,Qs=null,s)throw Error(r(300));o===null||vn||(o=o.dependencies,o!==null&&wu(o)&&(vn=!0))}function yb(o,s,l,d){nt=o;var x=0;do{if(Ws&&(Qs=null),vl=0,Ws=!1,25<=x)throw Error(r(301));if(x+=1,cn=Mt=null,o.updateQueue!=null){var m=o.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}j.H=OM,m=s(l,d)}while(Ws);return m}function TM(){var o=j.H,s=o.useState()[0];return s=typeof s.then=="function"?bl(s):s,o=o.useState()[0],(Mt!==null?Mt.memoizedState:null)!==o&&(nt.flags|=1024),s}function gp(){var o=Nu!==0;return Nu=0,o}function mp(o,s,l){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~l}function yp(o){if(_u){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}_u=!1}ci=0,cn=Mt=nt=null,Ws=!1,vl=Nu=0,Qs=null}function Jn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?nt.memoizedState=cn=o:cn=cn.next=o,cn}function un(){if(Mt===null){var o=nt.alternate;o=o!==null?o.memoizedState:null}else o=Mt.next;var s=cn===null?nt.memoizedState:cn.next;if(s!==null)cn=s,Mt=o;else{if(o===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Mt=o,o={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},cn===null?nt.memoizedState=cn=o:cn=cn.next=o}return cn}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(o){var s=vl;return vl+=1,Qs===null&&(Qs=[]),o=db(Qs,o,s),s=nt,(cn===null?s.memoizedState:cn.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?Jb:e1),o}function Mu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return bl(o);if(o.$$typeof===O)return Ln(o)}throw Error(r(438,String(o)))}function bp(o){var s=null,l=nt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var d=nt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(x){return x.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=vp(),nt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(o),d=0;d<o;d++)l[d]=_;return s.index++,l}function Oo(o,s){return typeof s=="function"?s(o):s}function Au(o){var s=un();return wp(s,Mt,o)}function wp(o,s,l){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var x=o.baseQueue,m=d.pending;if(m!==null){if(x!==null){var T=x.next;x.next=m.next,m.next=T}s.baseQueue=x=m,d.pending=null}if(m=o.baseState,x===null)o.memoizedState=m;else{s=x.next;var D=T=null,U=null,ne=s,he=!1;do{var ge=ne.lane&-536870913;if(ge!==ne.lane?(pt&ge)===ge:(ci&ge)===ge){var oe=ne.revertLane;if(oe===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ge===Xs&&(he=!0);else if((ci&oe)===oe){ne=ne.next,oe===Xs&&(he=!0);continue}else ge={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(D=U=ge,T=m):U=U.next=ge,nt.lanes|=oe,gi|=oe;ge=ne.action,is&&l(m,ge),m=ne.hasEagerState?ne.eagerState:l(m,ge)}else oe={lane:ge,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(D=U=oe,T=m):U=U.next=oe,nt.lanes|=ge,gi|=ge;ne=ne.next}while(ne!==null&&ne!==s);if(U===null?T=m:U.next=D,!ar(m,o.memoizedState)&&(vn=!0,he&&(l=Ks,l!==null)))throw l;o.memoizedState=m,o.baseState=T,o.baseQueue=U,d.lastRenderedState=m}return x===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function Sp(o){var s=un(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=o;var d=l.dispatch,x=l.pending,m=s.memoizedState;if(x!==null){l.pending=null;var T=x=x.next;do m=o(m,T.action),T=T.next;while(T!==x);ar(m,s.memoizedState)||(vn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,d]}function vb(o,s,l){var d=nt,x=un(),m=vt;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=s();var T=!ar((Mt||x).memoizedState,l);T&&(x.memoizedState=l,vn=!0),x=x.queue;var D=Sb.bind(null,d,x,o);if(wl(2048,8,D,[o]),x.getSnapshot!==s||T||cn!==null&&cn.memoizedState.tag&1){if(d.flags|=2048,Js(9,Ru(),wb.bind(null,d,x,l,s),null),$t===null)throw Error(r(349));m||(ci&124)!==0||bb(d,s,l)}return l}function bb(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s=vp(),nt.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function wb(o,s,l,d){s.value=l,s.getSnapshot=d,Eb(s)&&Cb(o)}function Sb(o,s,l){return l(function(){Eb(s)&&Cb(o)})}function Eb(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!ar(o,l)}catch{return!0}}function Cb(o){var s=Vs(o,2);s!==null&&hr(s,o,2)}function Ep(o){var s=Jn();if(typeof o=="function"){var l=o;if(o=l(),is){Bt(!0);try{l()}finally{Bt(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:o},s}function kb(o,s,l,d){return o.baseState=l,wp(o,Mt,typeof d=="function"?d:Oo)}function _M(o,s,l,d,x){if(Bu(o))throw Error(r(485));if(o=s.action,o!==null){var m={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};j.T!==null?l(!0):m.isTransition=!1,d(m),l=s.pending,l===null?(m.next=s.pending=m,Tb(s,m)):(m.next=l.next,s.pending=l.next=m)}}function Tb(o,s){var l=s.action,d=s.payload,x=o.state;if(s.isTransition){var m=j.T,T={};j.T=T;try{var D=l(x,d),U=j.S;U!==null&&U(T,D),_b(o,s,D)}catch(ne){Cp(o,s,ne)}finally{j.T=m}}else try{m=l(x,d),_b(o,s,m)}catch(ne){Cp(o,s,ne)}}function _b(o,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Nb(o,s,d)},function(d){return Cp(o,s,d)}):Nb(o,s,l)}function Nb(o,s,l){s.status="fulfilled",s.value=l,Mb(s),o.state=l,s=o.pending,s!==null&&(l=s.next,l===s?o.pending=null:(l=l.next,s.next=l,Tb(o,l)))}function Cp(o,s,l){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=l,Mb(s),s=s.next;while(s!==d)}o.action=null}function Mb(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function Ab(o,s){return s}function Rb(o,s){if(vt){var l=$t.formState;if(l!==null){e:{var d=nt;if(vt){if(Xt){t:{for(var x=Xt,m=ro;x.nodeType!==8;){if(!m){x=null;break t}if(x=Yr(x.nextSibling),x===null){x=null;break t}}m=x.data,x=m==="F!"||m==="F"?x:null}if(x){Xt=Yr(x.nextSibling),d=x.data==="F!";break e}}ts(d)}d=!1}d&&(s=l[0])}}return l=Jn(),l.memoizedState=l.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:s},l.queue=d,l=Zb.bind(null,nt,d),d.dispatch=l,d=Ep(!1),m=Mp.bind(null,nt,!1,d.queue),d=Jn(),x={state:s,dispatch:null,action:o,pending:null},d.queue=x,l=_M.bind(null,nt,x,m,l),x.dispatch=l,d.memoizedState=o,[s,l,!1]}function Ob(o){var s=un();return Bb(s,Mt,o)}function Bb(o,s,l){if(s=wp(o,s,Ab)[0],o=Au(Oo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=bl(s)}catch(T){throw T===pl?Cu:T}else d=s;s=un();var x=s.queue,m=x.dispatch;return l!==s.memoizedState&&(nt.flags|=2048,Js(9,Ru(),NM.bind(null,x,l),null)),[d,m,o]}function NM(o,s){o.action=s}function jb(o){var s=un(),l=Mt;if(l!==null)return Bb(s,l,o);un(),s=s.memoizedState,l=un();var d=l.queue.dispatch;return l.memoizedState=o,[s,d,!1]}function Js(o,s,l,d){return o={tag:o,create:l,deps:d,inst:s,next:null},s=nt.updateQueue,s===null&&(s=vp(),nt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=o.next=o:(d=l.next,l.next=o,o.next=d,s.lastEffect=o),o}function Ru(){return{destroy:void 0,resource:void 0}}function Db(){return un().memoizedState}function Ou(o,s,l,d){var x=Jn();d=d===void 0?null:d,nt.flags|=o,x.memoizedState=Js(1|s,Ru(),l,d)}function wl(o,s,l,d){var x=un();d=d===void 0?null:d;var m=x.memoizedState.inst;Mt!==null&&d!==null&&pp(d,Mt.memoizedState.deps)?x.memoizedState=Js(s,m,l,d):(nt.flags|=o,x.memoizedState=Js(1|s,m,l,d))}function Lb(o,s){Ou(8390656,8,o,s)}function Ib(o,s){wl(2048,8,o,s)}function $b(o,s){return wl(4,2,o,s)}function Pb(o,s){return wl(4,4,o,s)}function zb(o,s){if(typeof s=="function"){o=o();var l=s(o);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Hb(o,s,l){l=l!=null?l.concat([o]):null,wl(4,4,zb.bind(null,s,o),l)}function kp(){}function Ub(o,s){var l=un();s=s===void 0?null:s;var d=l.memoizedState;return s!==null&&pp(s,d[1])?d[0]:(l.memoizedState=[o,s],o)}function Fb(o,s){var l=un();s=s===void 0?null:s;var d=l.memoizedState;if(s!==null&&pp(s,d[1]))return d[0];if(d=o(),is){Bt(!0);try{o()}finally{Bt(!1)}}return l.memoizedState=[d,s],d}function Tp(o,s,l){return l===void 0||(ci&1073741824)!==0?o.memoizedState=s:(o.memoizedState=l,o=G1(),nt.lanes|=o,gi|=o,l)}function Vb(o,s,l,d){return ar(l,s)?l:Zs.current!==null?(o=Tp(o,l,d),ar(o,s)||(vn=!0),o):(ci&42)===0?(vn=!0,o.memoizedState=l):(o=G1(),nt.lanes|=o,gi|=o,s)}function Yb(o,s,l,d,x){var m=G.p;G.p=m!==0&&8>m?m:8;var T=j.T,D={};j.T=D,Mp(o,!1,s,l);try{var U=x(),ne=j.S;if(ne!==null&&ne(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var he=CM(U,d);Sl(o,s,he,fr(o))}else Sl(o,s,d,fr(o))}catch(ge){Sl(o,s,{then:function(){},status:"rejected",reason:ge},fr())}finally{G.p=m,j.T=T}}function MM(){}function _p(o,s,l,d){if(o.tag!==5)throw Error(r(476));var x=Gb(o).queue;Yb(o,x,s,Q,l===null?MM:function(){return qb(o),l(d)})}function Gb(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:Q},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:l},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function qb(o){var s=Gb(o).next.queue;Sl(o,s,{},fr())}function Np(){return Ln(zl)}function Xb(){return un().memoizedState}function Kb(){return un().memoizedState}function AM(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var l=fr();o=ai(l);var d=li(s,o,l);d!==null&&(hr(d,s,l),gl(d,s,l)),s={cache:op()},o.payload=s;return}s=s.return}}function RM(o,s,l){var d=fr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bu(o)?Wb(s,l):(l=Xh(o,s,l,d),l!==null&&(hr(l,o,d),Qb(l,s,d)))}function Zb(o,s,l){var d=fr();Sl(o,s,l,d)}function Sl(o,s,l,d){var x={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bu(o))Wb(s,x);else{var m=o.alternate;if(o.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,D=m(T,l);if(x.hasEagerState=!0,x.eagerState=D,ar(D,T))return gu(o,s,x,0),$t===null&&xu(),!1}catch{}finally{}if(l=Xh(o,s,x,d),l!==null)return hr(l,o,d),Qb(l,s,d),!0}return!1}function Mp(o,s,l,d){if(d={lane:2,revertLane:ax(),action:d,hasEagerState:!1,eagerState:null,next:null},Bu(o)){if(s)throw Error(r(479))}else s=Xh(o,l,d,2),s!==null&&hr(s,o,2)}function Bu(o){var s=o.alternate;return o===nt||s!==null&&s===nt}function Wb(o,s){Ws=_u=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function Qb(o,s,l){if((l&4194048)!==0){var d=s.lanes;d&=o.pendingLanes,l|=d,s.lanes=l,hn(o,l)}}var ju={readContext:Ln,use:Mu,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},Jb={readContext:Ln,use:Mu,useCallback:function(o,s){return Jn().memoizedState=[o,s===void 0?null:s],o},useContext:Ln,useEffect:Lb,useImperativeHandle:function(o,s,l){l=l!=null?l.concat([o]):null,Ou(4194308,4,zb.bind(null,s,o),l)},useLayoutEffect:function(o,s){return Ou(4194308,4,o,s)},useInsertionEffect:function(o,s){Ou(4,2,o,s)},useMemo:function(o,s){var l=Jn();s=s===void 0?null:s;var d=o();if(is){Bt(!0);try{o()}finally{Bt(!1)}}return l.memoizedState=[d,s],d},useReducer:function(o,s,l){var d=Jn();if(l!==void 0){var x=l(s);if(is){Bt(!0);try{l(s)}finally{Bt(!1)}}}else x=s;return d.memoizedState=d.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},d.queue=o,o=o.dispatch=RM.bind(null,nt,o),[d.memoizedState,o]},useRef:function(o){var s=Jn();return o={current:o},s.memoizedState=o},useState:function(o){o=Ep(o);var s=o.queue,l=Zb.bind(null,nt,s);return s.dispatch=l,[o.memoizedState,l]},useDebugValue:kp,useDeferredValue:function(o,s){var l=Jn();return Tp(l,o,s)},useTransition:function(){var o=Ep(!1);return o=Yb.bind(null,nt,o.queue,!0,!1),Jn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,l){var d=nt,x=Jn();if(vt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),$t===null)throw Error(r(349));(pt&124)!==0||bb(d,s,l)}x.memoizedState=l;var m={value:l,getSnapshot:s};return x.queue=m,Lb(Sb.bind(null,d,m,o),[o]),d.flags|=2048,Js(9,Ru(),wb.bind(null,d,m,l,s),null),l},useId:function(){var o=Jn(),s=$t.identifierPrefix;if(vt){var l=Mo,d=No;l=(d&~(1<<32-_t(d)-1)).toString(32)+l,s="«"+s+"R"+l,l=Nu++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=kM++,s="«"+s+"r"+l.toString(32)+"»";return o.memoizedState=s},useHostTransitionStatus:Np,useFormState:Rb,useActionState:Rb,useOptimistic:function(o){var s=Jn();s.memoizedState=s.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Mp.bind(null,nt,!0,l),l.dispatch=s,[o,s]},useMemoCache:bp,useCacheRefresh:function(){return Jn().memoizedState=AM.bind(null,nt)}},e1={readContext:Ln,use:Mu,useCallback:Ub,useContext:Ln,useEffect:Ib,useImperativeHandle:Hb,useInsertionEffect:$b,useLayoutEffect:Pb,useMemo:Fb,useReducer:Au,useRef:Db,useState:function(){return Au(Oo)},useDebugValue:kp,useDeferredValue:function(o,s){var l=un();return Vb(l,Mt.memoizedState,o,s)},useTransition:function(){var o=Au(Oo)[0],s=un().memoizedState;return[typeof o=="boolean"?o:bl(o),s]},useSyncExternalStore:vb,useId:Xb,useHostTransitionStatus:Np,useFormState:Ob,useActionState:Ob,useOptimistic:function(o,s){var l=un();return kb(l,Mt,o,s)},useMemoCache:bp,useCacheRefresh:Kb},OM={readContext:Ln,use:Mu,useCallback:Ub,useContext:Ln,useEffect:Ib,useImperativeHandle:Hb,useInsertionEffect:$b,useLayoutEffect:Pb,useMemo:Fb,useReducer:Sp,useRef:Db,useState:function(){return Sp(Oo)},useDebugValue:kp,useDeferredValue:function(o,s){var l=un();return Mt===null?Tp(l,o,s):Vb(l,Mt.memoizedState,o,s)},useTransition:function(){var o=Sp(Oo)[0],s=un().memoizedState;return[typeof o=="boolean"?o:bl(o),s]},useSyncExternalStore:vb,useId:Xb,useHostTransitionStatus:Np,useFormState:jb,useActionState:jb,useOptimistic:function(o,s){var l=un();return Mt!==null?kb(l,Mt,o,s):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:bp,useCacheRefresh:Kb},ea=null,El=0;function Du(o){var s=El;return El+=1,ea===null&&(ea=[]),db(ea,o,s)}function Cl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Lu(o,s){throw s.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function t1(o){var s=o._init;return s(o._payload)}function n1(o){function s(J,Z){if(o){var te=J.deletions;te===null?(J.deletions=[Z],J.flags|=16):te.push(Z)}}function l(J,Z){if(!o)return null;for(;Z!==null;)s(J,Z),Z=Z.sibling;return null}function d(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function x(J,Z){return J=_o(J,Z),J.index=0,J.sibling=null,J}function m(J,Z,te){return J.index=te,o?(te=J.alternate,te!==null?(te=te.index,te<Z?(J.flags|=67108866,Z):te):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function T(J){return o&&J.alternate===null&&(J.flags|=67108866),J}function D(J,Z,te,pe){return Z===null||Z.tag!==6?(Z=Zh(te,J.mode,pe),Z.return=J,Z):(Z=x(Z,te),Z.return=J,Z)}function U(J,Z,te,pe){var Ae=te.type;return Ae===w?he(J,Z,te.props.children,pe,te.key):Z!==null&&(Z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===$&&t1(Ae)===Z.type)?(Z=x(Z,te.props),Cl(Z,te),Z.return=J,Z):(Z=yu(te.type,te.key,te.props,null,J.mode,pe),Cl(Z,te),Z.return=J,Z)}function ne(J,Z,te,pe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==te.containerInfo||Z.stateNode.implementation!==te.implementation?(Z=Wh(te,J.mode,pe),Z.return=J,Z):(Z=x(Z,te.children||[]),Z.return=J,Z)}function he(J,Z,te,pe,Ae){return Z===null||Z.tag!==7?(Z=Wi(te,J.mode,pe,Ae),Z.return=J,Z):(Z=x(Z,te),Z.return=J,Z)}function ge(J,Z,te){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Zh(""+Z,J.mode,te),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return te=yu(Z.type,Z.key,Z.props,null,J.mode,te),Cl(te,Z),te.return=J,te;case b:return Z=Wh(Z,J.mode,te),Z.return=J,Z;case $:var pe=Z._init;return Z=pe(Z._payload),ge(J,Z,te)}if(Y(Z)||ee(Z))return Z=Wi(Z,J.mode,te,null),Z.return=J,Z;if(typeof Z.then=="function")return ge(J,Du(Z),te);if(Z.$$typeof===O)return ge(J,Su(J,Z),te);Lu(J,Z)}return null}function oe(J,Z,te,pe){var Ae=Z!==null?Z.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ae!==null?null:D(J,Z,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return te.key===Ae?U(J,Z,te,pe):null;case b:return te.key===Ae?ne(J,Z,te,pe):null;case $:return Ae=te._init,te=Ae(te._payload),oe(J,Z,te,pe)}if(Y(te)||ee(te))return Ae!==null?null:he(J,Z,te,pe,null);if(typeof te.then=="function")return oe(J,Z,Du(te),pe);if(te.$$typeof===O)return oe(J,Z,Su(J,te),pe);Lu(J,te)}return null}function ie(J,Z,te,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return J=J.get(te)||null,D(Z,J,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return J=J.get(pe.key===null?te:pe.key)||null,U(Z,J,pe,Ae);case b:return J=J.get(pe.key===null?te:pe.key)||null,ne(Z,J,pe,Ae);case $:var rt=pe._init;return pe=rt(pe._payload),ie(J,Z,te,pe,Ae)}if(Y(pe)||ee(pe))return J=J.get(te)||null,he(Z,J,pe,Ae,null);if(typeof pe.then=="function")return ie(J,Z,te,Du(pe),Ae);if(pe.$$typeof===O)return ie(J,Z,te,Su(Z,pe),Ae);Lu(Z,pe)}return null}function qe(J,Z,te,pe){for(var Ae=null,rt=null,Le=Z,Ge=Z=0,wn=null;Le!==null&&Ge<te.length;Ge++){Le.index>Ge?(wn=Le,Le=null):wn=Le.sibling;var gt=oe(J,Le,te[Ge],pe);if(gt===null){Le===null&&(Le=wn);break}o&&Le&&gt.alternate===null&&s(J,Le),Z=m(gt,Z,Ge),rt===null?Ae=gt:rt.sibling=gt,rt=gt,Le=wn}if(Ge===te.length)return l(J,Le),vt&&Ji(J,Ge),Ae;if(Le===null){for(;Ge<te.length;Ge++)Le=ge(J,te[Ge],pe),Le!==null&&(Z=m(Le,Z,Ge),rt===null?Ae=Le:rt.sibling=Le,rt=Le);return vt&&Ji(J,Ge),Ae}for(Le=d(Le);Ge<te.length;Ge++)wn=ie(Le,J,Ge,te[Ge],pe),wn!==null&&(o&&wn.alternate!==null&&Le.delete(wn.key===null?Ge:wn.key),Z=m(wn,Z,Ge),rt===null?Ae=wn:rt.sibling=wn,rt=wn);return o&&Le.forEach(function(ki){return s(J,ki)}),vt&&Ji(J,Ge),Ae}function He(J,Z,te,pe){if(te==null)throw Error(r(151));for(var Ae=null,rt=null,Le=Z,Ge=Z=0,wn=null,gt=te.next();Le!==null&&!gt.done;Ge++,gt=te.next()){Le.index>Ge?(wn=Le,Le=null):wn=Le.sibling;var ki=oe(J,Le,gt.value,pe);if(ki===null){Le===null&&(Le=wn);break}o&&Le&&ki.alternate===null&&s(J,Le),Z=m(ki,Z,Ge),rt===null?Ae=ki:rt.sibling=ki,rt=ki,Le=wn}if(gt.done)return l(J,Le),vt&&Ji(J,Ge),Ae;if(Le===null){for(;!gt.done;Ge++,gt=te.next())gt=ge(J,gt.value,pe),gt!==null&&(Z=m(gt,Z,Ge),rt===null?Ae=gt:rt.sibling=gt,rt=gt);return vt&&Ji(J,Ge),Ae}for(Le=d(Le);!gt.done;Ge++,gt=te.next())gt=ie(Le,J,Ge,gt.value,pe),gt!==null&&(o&&gt.alternate!==null&&Le.delete(gt.key===null?Ge:gt.key),Z=m(gt,Z,Ge),rt===null?Ae=gt:rt.sibling=gt,rt=gt);return o&&Le.forEach(function(BA){return s(J,BA)}),vt&&Ji(J,Ge),Ae}function Rt(J,Z,te,pe){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case y:e:{for(var Ae=te.key;Z!==null;){if(Z.key===Ae){if(Ae=te.type,Ae===w){if(Z.tag===7){l(J,Z.sibling),pe=x(Z,te.props.children),pe.return=J,J=pe;break e}}else if(Z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===$&&t1(Ae)===Z.type){l(J,Z.sibling),pe=x(Z,te.props),Cl(pe,te),pe.return=J,J=pe;break e}l(J,Z);break}else s(J,Z);Z=Z.sibling}te.type===w?(pe=Wi(te.props.children,J.mode,pe,te.key),pe.return=J,J=pe):(pe=yu(te.type,te.key,te.props,null,J.mode,pe),Cl(pe,te),pe.return=J,J=pe)}return T(J);case b:e:{for(Ae=te.key;Z!==null;){if(Z.key===Ae)if(Z.tag===4&&Z.stateNode.containerInfo===te.containerInfo&&Z.stateNode.implementation===te.implementation){l(J,Z.sibling),pe=x(Z,te.children||[]),pe.return=J,J=pe;break e}else{l(J,Z);break}else s(J,Z);Z=Z.sibling}pe=Wh(te,J.mode,pe),pe.return=J,J=pe}return T(J);case $:return Ae=te._init,te=Ae(te._payload),Rt(J,Z,te,pe)}if(Y(te))return qe(J,Z,te,pe);if(ee(te)){if(Ae=ee(te),typeof Ae!="function")throw Error(r(150));return te=Ae.call(te),He(J,Z,te,pe)}if(typeof te.then=="function")return Rt(J,Z,Du(te),pe);if(te.$$typeof===O)return Rt(J,Z,Su(J,te),pe);Lu(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Z!==null&&Z.tag===6?(l(J,Z.sibling),pe=x(Z,te),pe.return=J,J=pe):(l(J,Z),pe=Zh(te,J.mode,pe),pe.return=J,J=pe),T(J)):l(J,Z)}return function(J,Z,te,pe){try{El=0;var Ae=Rt(J,Z,te,pe);return ea=null,Ae}catch(Le){if(Le===pl||Le===Cu)throw Le;var rt=lr(29,Le,null,J.mode);return rt.lanes=pe,rt.return=J,rt}finally{}}}var ta=n1(!0),r1=n1(!1),Mr=H(null),oo=null;function ui(o){var s=o.alternate;re(gn,gn.current&1),re(Mr,o),oo===null&&(s===null||Zs.current!==null||s.memoizedState!==null)&&(oo=o)}function o1(o){if(o.tag===22){if(re(gn,gn.current),re(Mr,o),oo===null){var s=o.alternate;s!==null&&s.memoizedState!==null&&(oo=o)}}else di()}function di(){re(gn,gn.current),re(Mr,Mr.current)}function Bo(o){W(Mr),oo===o&&(oo=null),W(gn)}var gn=H(0);function Iu(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||vx(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ap(o,s,l,d){s=o.memoizedState,l=l(d,s),l=l==null?s:p({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Rp={enqueueSetState:function(o,s,l){o=o._reactInternals;var d=fr(),x=ai(d);x.payload=s,l!=null&&(x.callback=l),s=li(o,x,d),s!==null&&(hr(s,o,d),gl(s,o,d))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var d=fr(),x=ai(d);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=li(o,x,d),s!==null&&(hr(s,o,d),gl(s,o,d))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=fr(),d=ai(l);d.tag=2,s!=null&&(d.callback=s),s=li(o,d,l),s!==null&&(hr(s,o,l),gl(s,o,l))}};function i1(o,s,l,d,x,m,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,m,T):s.prototype&&s.prototype.isPureReactComponent?!sl(l,d)||!sl(x,m):!0}function s1(o,s,l,d){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==o&&Rp.enqueueReplaceState(s,s.state,null)}function ss(o,s){var l=s;if("ref"in s){l={};for(var d in s)d!=="ref"&&(l[d]=s[d])}if(o=o.defaultProps){l===s&&(l=p({},l));for(var x in o)l[x]===void 0&&(l[x]=o[x])}return l}var $u=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function a1(o){$u(o)}function l1(o){console.error(o)}function c1(o){$u(o)}function Pu(o,s){try{var l=o.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function u1(o,s,l){try{var d=o.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Op(o,s,l){return l=ai(l),l.tag=3,l.payload={element:null},l.callback=function(){Pu(o,s)},l}function d1(o){return o=ai(o),o.tag=3,o}function f1(o,s,l,d){var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var m=d.value;o.payload=function(){return x(m)},o.callback=function(){u1(s,l,d)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(o.callback=function(){u1(s,l,d),typeof x!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function BM(o,s,l,d,x){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=l.alternate,s!==null&&dl(s,l,x,!0),l=Mr.current,l!==null){switch(l.tag){case 13:return oo===null?nx():l.alternate===null&&Kt===0&&(Kt=3),l.flags&=-257,l.flags|=65536,l.lanes=x,d===ap?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([d]):s.add(d),ox(o,d,x)),!1;case 22:return l.flags|=65536,d===ap?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([d]):l.add(d)),ox(o,d,x)),!1}throw Error(r(435,l.tag))}return ox(o,d,x),nx(),!1}if(vt)return s=Mr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=x,d!==ep&&(o=Error(r(422),{cause:d}),ul(kr(o,l)))):(d!==ep&&(s=Error(r(423),{cause:d}),ul(kr(s,l))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,d=kr(d,l),x=Op(o.stateNode,d,x),up(o,x),Kt!==4&&(Kt=2)),!1;var m=Error(r(520),{cause:d});if(m=kr(m,l),Rl===null?Rl=[m]:Rl.push(m),Kt!==4&&(Kt=2),s===null)return!0;d=kr(d,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,o=x&-x,l.lanes|=o,o=Op(l.stateNode,d,o),up(l,o),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(mi===null||!mi.has(m))))return l.flags|=65536,x&=-x,l.lanes|=x,x=d1(x),f1(x,o,l,d),up(l,x),!1}l=l.return}while(l!==null);return!1}var h1=Error(r(461)),vn=!1;function Nn(o,s,l,d){s.child=o===null?r1(s,null,l,d):ta(s,o.child,l,d)}function p1(o,s,l,d,x){l=l.render;var m=s.ref;if("ref"in d){var T={};for(var D in d)D!=="ref"&&(T[D]=d[D])}else T=d;return rs(s),d=xp(o,s,l,T,m,x),D=gp(),o!==null&&!vn?(mp(o,s,x),jo(o,s,x)):(vt&&D&&Qh(s),s.flags|=1,Nn(o,s,d,x),s.child)}function x1(o,s,l,d,x){if(o===null){var m=l.type;return typeof m=="function"&&!Kh(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,g1(o,s,m,d,x)):(o=yu(l.type,null,d,s,s.mode,x),o.ref=s.ref,o.return=s,s.child=o)}if(m=o.child,!zp(o,x)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:sl,l(T,d)&&o.ref===s.ref)return jo(o,s,x)}return s.flags|=1,o=_o(m,d),o.ref=s.ref,o.return=s,s.child=o}function g1(o,s,l,d,x){if(o!==null){var m=o.memoizedProps;if(sl(m,d)&&o.ref===s.ref)if(vn=!1,s.pendingProps=d=m,zp(o,x))(o.flags&131072)!==0&&(vn=!0);else return s.lanes=o.lanes,jo(o,s,x)}return Bp(o,s,l,d,x)}function m1(o,s,l){var d=s.pendingProps,x=d.children,m=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=m!==null?m.baseLanes|l:l,o!==null){for(x=s.child=o.child,m=0;x!==null;)m=m|x.lanes|x.childLanes,x=x.sibling;s.childLanes=m&~d}else s.childLanes=0,s.child=null;return y1(o,s,d,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Eu(s,m!==null?m.cachePool:null),m!==null?gb(s,m):fp(),o1(s);else return s.lanes=s.childLanes=536870912,y1(o,s,m!==null?m.baseLanes|l:l,l)}else m!==null?(Eu(s,m.cachePool),gb(s,m),di(),s.memoizedState=null):(o!==null&&Eu(s,null),fp(),di());return Nn(o,s,x,l),s.child}function y1(o,s,l,d){var x=sp();return x=x===null?null:{parent:xn._currentValue,pool:x},s.memoizedState={baseLanes:l,cachePool:x},o!==null&&Eu(s,null),fp(),o1(s),o!==null&&dl(o,s,d,!0),null}function zu(o,s){var l=s.ref;if(l===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(o===null||o.ref!==l)&&(s.flags|=4194816)}}function Bp(o,s,l,d,x){return rs(s),l=xp(o,s,l,d,void 0,x),d=gp(),o!==null&&!vn?(mp(o,s,x),jo(o,s,x)):(vt&&d&&Qh(s),s.flags|=1,Nn(o,s,l,x),s.child)}function v1(o,s,l,d,x,m){return rs(s),s.updateQueue=null,l=yb(s,d,l,x),mb(o),d=gp(),o!==null&&!vn?(mp(o,s,m),jo(o,s,m)):(vt&&d&&Qh(s),s.flags|=1,Nn(o,s,l,m),s.child)}function b1(o,s,l,d,x){if(rs(s),s.stateNode===null){var m=Ys,T=l.contextType;typeof T=="object"&&T!==null&&(m=Ln(T)),m=new l(d,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Rp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=d,m.state=s.memoizedState,m.refs={},lp(s),T=l.contextType,m.context=typeof T=="object"&&T!==null?Ln(T):Ys,m.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Ap(s,l,T,d),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Rp.enqueueReplaceState(m,m.state,null),yl(s,d,m,x),ml(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(o===null){m=s.stateNode;var D=s.memoizedProps,U=ss(l,D);m.props=U;var ne=m.context,he=l.contextType;T=Ys,typeof he=="object"&&he!==null&&(T=Ln(he));var ge=l.getDerivedStateFromProps;he=typeof ge=="function"||typeof m.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,he||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(D||ne!==T)&&s1(s,m,d,T),si=!1;var oe=s.memoizedState;m.state=oe,yl(s,d,m,x),ml(),ne=s.memoizedState,D||oe!==ne||si?(typeof ge=="function"&&(Ap(s,l,ge,d),ne=s.memoizedState),(U=si||i1(s,l,U,d,oe,ne,T))?(he||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=ne),m.props=d,m.state=ne,m.context=T,d=U):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{m=s.stateNode,cp(o,s),T=s.memoizedProps,he=ss(l,T),m.props=he,ge=s.pendingProps,oe=m.context,ne=l.contextType,U=Ys,typeof ne=="object"&&ne!==null&&(U=Ln(ne)),D=l.getDerivedStateFromProps,(ne=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ge||oe!==U)&&s1(s,m,d,U),si=!1,oe=s.memoizedState,m.state=oe,yl(s,d,m,x),ml();var ie=s.memoizedState;T!==ge||oe!==ie||si||o!==null&&o.dependencies!==null&&wu(o.dependencies)?(typeof D=="function"&&(Ap(s,l,D,d),ie=s.memoizedState),(he=si||i1(s,l,he,d,oe,ie,U)||o!==null&&o.dependencies!==null&&wu(o.dependencies))?(ne||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(d,ie,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(d,ie,U)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===o.memoizedProps&&oe===o.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&oe===o.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ie),m.props=d,m.state=ie,m.context=U,d=he):(typeof m.componentDidUpdate!="function"||T===o.memoizedProps&&oe===o.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&oe===o.memoizedState||(s.flags|=1024),d=!1)}return m=d,zu(o,s),d=(s.flags&128)!==0,m||d?(m=s.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,o!==null&&d?(s.child=ta(s,o.child,null,x),s.child=ta(s,null,l,x)):Nn(o,s,l,x),s.memoizedState=m.state,o=s.child):o=jo(o,s,x),o}function w1(o,s,l,d){return cl(),s.flags|=256,Nn(o,s,l,d),s.child}var jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dp(o){return{baseLanes:o,cachePool:lb()}}function Lp(o,s,l){return o=o!==null?o.childLanes&~l:0,s&&(o|=Ar),o}function S1(o,s,l){var d=s.pendingProps,x=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=o!==null&&o.memoizedState===null?!1:(gn.current&2)!==0),T&&(x=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,o===null){if(vt){if(x?ui(s):di(),vt){var D=Xt,U;if(U=D){e:{for(U=D,D=ro;U.nodeType!==8;){if(!D){D=null;break e}if(U=Yr(U.nextSibling),U===null){D=null;break e}}D=U}D!==null?(s.memoizedState={dehydrated:D,treeContext:Qi!==null?{id:No,overflow:Mo}:null,retryLane:536870912,hydrationErrors:null},U=lr(18,null,null,0),U.stateNode=D,U.return=s,s.child=U,Vn=s,Xt=null,U=!0):U=!1}U||ts(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return vx(D)?s.lanes=32:s.lanes=536870912,null;Bo(s)}return D=d.children,d=d.fallback,x?(di(),x=s.mode,D=Hu({mode:"hidden",children:D},x),d=Wi(d,x,l,null),D.return=s,d.return=s,D.sibling=d,s.child=D,x=s.child,x.memoizedState=Dp(l),x.childLanes=Lp(o,T,l),s.memoizedState=jp,d):(ui(s),Ip(s,D))}if(U=o.memoizedState,U!==null&&(D=U.dehydrated,D!==null)){if(m)s.flags&256?(ui(s),s.flags&=-257,s=$p(o,s,l)):s.memoizedState!==null?(di(),s.child=o.child,s.flags|=128,s=null):(di(),x=d.fallback,D=s.mode,d=Hu({mode:"visible",children:d.children},D),x=Wi(x,D,l,null),x.flags|=2,d.return=s,x.return=s,d.sibling=x,s.child=d,ta(s,o.child,null,l),d=s.child,d.memoizedState=Dp(l),d.childLanes=Lp(o,T,l),s.memoizedState=jp,s=x);else if(ui(s),vx(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var ne=T.dgst;T=ne,d=Error(r(419)),d.stack="",d.digest=T,ul({value:d,source:null,stack:null}),s=$p(o,s,l)}else if(vn||dl(o,s,l,!1),T=(l&o.childLanes)!==0,vn||T){if(T=$t,T!==null&&(d=l&-l,d=(d&42)!==0?1:Er(d),d=(d&(T.suspendedLanes|l))!==0?0:d,d!==0&&d!==U.retryLane))throw U.retryLane=d,Vs(o,d),hr(T,o,d),h1;D.data==="$?"||nx(),s=$p(o,s,l)}else D.data==="$?"?(s.flags|=192,s.child=o.child,s=null):(o=U.treeContext,Xt=Yr(D.nextSibling),Vn=s,vt=!0,es=null,ro=!1,o!==null&&(_r[Nr++]=No,_r[Nr++]=Mo,_r[Nr++]=Qi,No=o.id,Mo=o.overflow,Qi=s),s=Ip(s,d.children),s.flags|=4096);return s}return x?(di(),x=d.fallback,D=s.mode,U=o.child,ne=U.sibling,d=_o(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,ne!==null?x=_o(ne,x):(x=Wi(x,D,l,null),x.flags|=2),x.return=s,d.return=s,d.sibling=x,s.child=d,d=x,x=s.child,D=o.child.memoizedState,D===null?D=Dp(l):(U=D.cachePool,U!==null?(ne=xn._currentValue,U=U.parent!==ne?{parent:ne,pool:ne}:U):U=lb(),D={baseLanes:D.baseLanes|l,cachePool:U}),x.memoizedState=D,x.childLanes=Lp(o,T,l),s.memoizedState=jp,d):(ui(s),l=o.child,o=l.sibling,l=_o(l,{mode:"visible",children:d.children}),l.return=s,l.sibling=null,o!==null&&(T=s.deletions,T===null?(s.deletions=[o],s.flags|=16):T.push(o)),s.child=l,s.memoizedState=null,l)}function Ip(o,s){return s=Hu({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Hu(o,s){return o=lr(22,o,null,s),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function $p(o,s,l){return ta(s,o.child,null,l),o=Ip(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function E1(o,s,l){o.lanes|=s;var d=o.alternate;d!==null&&(d.lanes|=s),np(o.return,s,l)}function Pp(o,s,l,d,x){var m=o.memoizedState;m===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:x}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=l,m.tailMode=x)}function C1(o,s,l){var d=s.pendingProps,x=d.revealOrder,m=d.tail;if(Nn(o,s,d.children,l),d=gn.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&E1(o,l,s);else if(o.tag===19)E1(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(re(gn,d),x){case"forwards":for(l=s.child,x=null;l!==null;)o=l.alternate,o!==null&&Iu(o)===null&&(x=l),l=l.sibling;l=x,l===null?(x=s.child,s.child=null):(x=l.sibling,l.sibling=null),Pp(s,!1,x,l,m);break;case"backwards":for(l=null,x=s.child,s.child=null;x!==null;){if(o=x.alternate,o!==null&&Iu(o)===null){s.child=x;break}o=x.sibling,x.sibling=l,l=x,x=o}Pp(s,!0,l,null,m);break;case"together":Pp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jo(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),gi|=s.lanes,(l&s.childLanes)===0)if(o!==null){if(dl(o,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,l=_o(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=_o(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function zp(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&wu(o)))}function jM(o,s,l){switch(s.tag){case 3:ue(s,s.stateNode.containerInfo),ii(s,xn,o.memoizedState.cache),cl();break;case 27:case 5:Ce(s);break;case 4:ue(s,s.stateNode.containerInfo);break;case 10:ii(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(ui(s),s.flags|=128,null):(l&s.child.childLanes)!==0?S1(o,s,l):(ui(s),o=jo(o,s,l),o!==null?o.sibling:null);ui(s);break;case 19:var x=(o.flags&128)!==0;if(d=(l&s.childLanes)!==0,d||(dl(o,s,l,!1),d=(l&s.childLanes)!==0),x){if(d)return C1(o,s,l);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),re(gn,gn.current),d)break;return null;case 22:case 23:return s.lanes=0,m1(o,s,l);case 24:ii(s,xn,o.memoizedState.cache)}return jo(o,s,l)}function k1(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps)vn=!0;else{if(!zp(o,l)&&(s.flags&128)===0)return vn=!1,jM(o,s,l);vn=(o.flags&131072)!==0}else vn=!1,vt&&(s.flags&1048576)!==0&&tb(s,bu,s.index);switch(s.lanes=0,s.tag){case 16:e:{o=s.pendingProps;var d=s.elementType,x=d._init;if(d=x(d._payload),s.type=d,typeof d=="function")Kh(d)?(o=ss(d,o),s.tag=1,s=b1(null,s,d,o,l)):(s.tag=0,s=Bp(null,s,d,o,l));else{if(d!=null){if(x=d.$$typeof,x===M){s.tag=11,s=p1(null,s,d,o,l);break e}else if(x===P){s.tag=14,s=x1(null,s,d,o,l);break e}}throw s=L(d)||d,Error(r(306,s,""))}}return s;case 0:return Bp(o,s,s.type,s.pendingProps,l);case 1:return d=s.type,x=ss(d,s.pendingProps),b1(o,s,d,x,l);case 3:e:{if(ue(s,s.stateNode.containerInfo),o===null)throw Error(r(387));d=s.pendingProps;var m=s.memoizedState;x=m.element,cp(o,s),yl(s,d,null,l);var T=s.memoizedState;if(d=T.cache,ii(s,xn,d),d!==m.cache&&rp(s,[xn],l,!0),ml(),d=T.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=w1(o,s,d,l);break e}else if(d!==x){x=kr(Error(r(424)),s),ul(x),s=w1(o,s,d,l);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Xt=Yr(o.firstChild),Vn=s,vt=!0,es=null,ro=!0,l=r1(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(cl(),d===x){s=jo(o,s,l);break e}Nn(o,s,d,l)}s=s.child}return s;case 26:return zu(o,s),o===null?(l=Mw(s.type,null,s.pendingProps,null))?s.memoizedState=l:vt||(l=s.type,o=s.pendingProps,d=td(me.current).createElement(l),d[se]=s,d[fe]=o,An(d,l,o),ht(d),s.stateNode=d):s.memoizedState=Mw(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Ce(s),o===null&&vt&&(d=s.stateNode=Tw(s.type,s.pendingProps,me.current),Vn=s,ro=!0,x=Xt,bi(s.type)?(bx=x,Xt=Yr(d.firstChild)):Xt=x),Nn(o,s,s.pendingProps.children,l),zu(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&vt&&((x=d=Xt)&&(d=lA(d,s.type,s.pendingProps,ro),d!==null?(s.stateNode=d,Vn=s,Xt=Yr(d.firstChild),ro=!1,x=!0):x=!1),x||ts(s)),Ce(s),x=s.type,m=s.pendingProps,T=o!==null?o.memoizedProps:null,d=m.children,gx(x,m)?d=null:T!==null&&gx(x,T)&&(s.flags|=32),s.memoizedState!==null&&(x=xp(o,s,TM,null,null,l),zl._currentValue=x),zu(o,s),Nn(o,s,d,l),s.child;case 6:return o===null&&vt&&((o=l=Xt)&&(l=cA(l,s.pendingProps,ro),l!==null?(s.stateNode=l,Vn=s,Xt=null,o=!0):o=!1),o||ts(s)),null;case 13:return S1(o,s,l);case 4:return ue(s,s.stateNode.containerInfo),d=s.pendingProps,o===null?s.child=ta(s,null,d,l):Nn(o,s,d,l),s.child;case 11:return p1(o,s,s.type,s.pendingProps,l);case 7:return Nn(o,s,s.pendingProps,l),s.child;case 8:return Nn(o,s,s.pendingProps.children,l),s.child;case 12:return Nn(o,s,s.pendingProps.children,l),s.child;case 10:return d=s.pendingProps,ii(s,s.type,d.value),Nn(o,s,d.children,l),s.child;case 9:return x=s.type._context,d=s.pendingProps.children,rs(s),x=Ln(x),d=d(x),s.flags|=1,Nn(o,s,d,l),s.child;case 14:return x1(o,s,s.type,s.pendingProps,l);case 15:return g1(o,s,s.type,s.pendingProps,l);case 19:return C1(o,s,l);case 31:return d=s.pendingProps,l=s.mode,d={mode:d.mode,children:d.children},o===null?(l=Hu(d,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=_o(o.child,d),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return m1(o,s,l);case 24:return rs(s),d=Ln(xn),o===null?(x=sp(),x===null&&(x=$t,m=op(),x.pooledCache=m,m.refCount++,m!==null&&(x.pooledCacheLanes|=l),x=m),s.memoizedState={parent:d,cache:x},lp(s),ii(s,xn,x)):((o.lanes&l)!==0&&(cp(o,s),yl(s,null,null,l),ml()),x=o.memoizedState,m=s.memoizedState,x.parent!==d?(x={parent:d,cache:d},s.memoizedState=x,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=x),ii(s,xn,d)):(d=m.cache,ii(s,xn,d),d!==x.cache&&rp(s,[xn],l,!0))),Nn(o,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Do(o){o.flags|=4}function T1(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!jw(s)){if(s=Mr.current,s!==null&&((pt&4194048)===pt?oo!==null:(pt&62914560)!==pt&&(pt&536870912)===0||s!==oo))throw xl=ap,cb;o.flags|=8192}}function Uu(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?Dn():536870912,o.lanes|=s,ia|=s)}function kl(o,s){if(!vt)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Gt(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,d=0;if(s)for(var x=o.child;x!==null;)l|=x.lanes|x.childLanes,d|=x.subtreeFlags&65011712,d|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)l|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=d,o.childLanes=l,s}function DM(o,s,l){var d=s.pendingProps;switch(Jh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return Gt(s),null;case 3:return l=s.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ro(xn),be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(ll(s)?Do(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ob())),Gt(s),null;case 26:return l=s.memoizedState,o===null?(Do(s),l!==null?(Gt(s),T1(s,l)):(Gt(s),s.flags&=-16777217)):l?l!==o.memoizedState?(Do(s),Gt(s),T1(s,l)):(Gt(s),s.flags&=-16777217):(o.memoizedProps!==d&&Do(s),Gt(s),s.flags&=-16777217),null;case 27:Ue(s),l=me.current;var x=s.type;if(o!==null&&s.stateNode!=null)o.memoizedProps!==d&&Do(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}o=ae.current,ll(s)?nb(s):(o=Tw(x,d,l),s.stateNode=o,Do(s))}return Gt(s),null;case 5:if(Ue(s),l=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==d&&Do(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}if(o=ae.current,ll(s))nb(s);else{switch(x=td(me.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?x.createElement("select",{is:d.is}):x.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?x.createElement(l,{is:d.is}):x.createElement(l)}}o[se]=s,o[fe]=d;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=o;e:switch(An(o,l,d),l){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Do(s)}}return Gt(s),s.flags&=-16777217,null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==d&&Do(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(o=me.current,ll(s)){if(o=s.stateNode,l=s.memoizedProps,d=null,x=Vn,x!==null)switch(x.tag){case 27:case 5:d=x.memoizedProps}o[se]=s,o=!!(o.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||vw(o.nodeValue,l)),o||ts(s)}else o=td(o).createTextNode(d),o[se]=s,s.stateNode=o}return Gt(s),null;case 13:if(d=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=ll(s),d!==null&&d.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[se]=s}else cl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),x=!1}else x=ob(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return s.flags&256?(Bo(s),s):(Bo(s),null)}if(Bo(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=d!==null,o=o!==null&&o.memoizedState!==null,l){d=s.child,x=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(x=d.alternate.memoizedState.cachePool.pool);var m=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(m=d.memoizedState.cachePool.pool),m!==x&&(d.flags|=2048)}return l!==o&&l&&(s.child.flags|=8192),Uu(s,s.updateQueue),Gt(s),null;case 4:return be(),o===null&&dx(s.stateNode.containerInfo),Gt(s),null;case 10:return Ro(s.type),Gt(s),null;case 19:if(W(gn),x=s.memoizedState,x===null)return Gt(s),null;if(d=(s.flags&128)!==0,m=x.rendering,m===null)if(d)kl(x,!1);else{if(Kt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(m=Iu(o),m!==null){for(s.flags|=128,kl(x,!1),o=m.updateQueue,s.updateQueue=o,Uu(s,o),s.subtreeFlags=0,o=l,l=s.child;l!==null;)eb(l,o),l=l.sibling;return re(gn,gn.current&1|2),s.child}o=o.sibling}x.tail!==null&&_e()>Yu&&(s.flags|=128,d=!0,kl(x,!1),s.lanes=4194304)}else{if(!d)if(o=Iu(m),o!==null){if(s.flags|=128,d=!0,o=o.updateQueue,s.updateQueue=o,Uu(s,o),kl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!m.alternate&&!vt)return Gt(s),null}else 2*_e()-x.renderingStartTime>Yu&&l!==536870912&&(s.flags|=128,d=!0,kl(x,!1),s.lanes=4194304);x.isBackwards?(m.sibling=s.child,s.child=m):(o=x.last,o!==null?o.sibling=m:s.child=m,x.last=m)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=_e(),s.sibling=null,o=gn.current,re(gn,d?o&1|2:o&1),s):(Gt(s),null);case 22:case 23:return Bo(s),hp(),d=s.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(l&536870912)!==0&&(s.flags&128)===0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),l=s.updateQueue,l!==null&&Uu(s,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==l&&(s.flags|=2048),o!==null&&W(os),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ro(xn),Gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function LM(o,s){switch(Jh(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Ro(xn),be(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Ue(s),null;case 13:if(Bo(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));cl()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return W(gn),null;case 4:return be(),null;case 10:return Ro(s.type),null;case 22:case 23:return Bo(s),hp(),o!==null&&W(os),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Ro(xn),null;case 25:return null;default:return null}}function _1(o,s){switch(Jh(s),s.tag){case 3:Ro(xn),be();break;case 26:case 27:case 5:Ue(s);break;case 4:be();break;case 13:Bo(s);break;case 19:W(gn);break;case 10:Ro(s.type);break;case 22:case 23:Bo(s),hp(),o!==null&&W(os);break;case 24:Ro(xn)}}function Tl(o,s){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var x=d.next;l=x;do{if((l.tag&o)===o){d=void 0;var m=l.create,T=l.inst;d=m(),T.destroy=d}l=l.next}while(l!==x)}}catch(D){Dt(s,s.return,D)}}function fi(o,s,l){try{var d=s.updateQueue,x=d!==null?d.lastEffect:null;if(x!==null){var m=x.next;d=m;do{if((d.tag&o)===o){var T=d.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,x=s;var U=l,ne=D;try{ne()}catch(he){Dt(x,U,he)}}}d=d.next}while(d!==m)}}catch(he){Dt(s,s.return,he)}}function N1(o){var s=o.updateQueue;if(s!==null){var l=o.stateNode;try{xb(s,l)}catch(d){Dt(o,o.return,d)}}}function M1(o,s,l){l.props=ss(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(d){Dt(o,s,d)}}function _l(o,s){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof l=="function"?o.refCleanup=l(d):l.current=d}}catch(x){Dt(o,s,x)}}function io(o,s){var l=o.ref,d=o.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(x){Dt(o,s,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(x){Dt(o,s,x)}else l.current=null}function A1(o){var s=o.type,l=o.memoizedProps,d=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(x){Dt(o,o.return,x)}}function Hp(o,s,l){try{var d=o.stateNode;rA(d,o.type,l,s),d[fe]=s}catch(x){Dt(o,o.return,x)}}function R1(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&bi(o.type)||o.tag===4}function Up(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||R1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&bi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fp(o,s,l){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(o),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ed));else if(d!==4&&(d===27&&bi(o.type)&&(l=o.stateNode,s=null),o=o.child,o!==null))for(Fp(o,s,l),o=o.sibling;o!==null;)Fp(o,s,l),o=o.sibling}function Fu(o,s,l){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(d!==4&&(d===27&&bi(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(Fu(o,s,l),o=o.sibling;o!==null;)Fu(o,s,l),o=o.sibling}function O1(o){var s=o.stateNode,l=o.memoizedProps;try{for(var d=o.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);An(s,d,l),s[se]=o,s[fe]=l}catch(m){Dt(o,o.return,m)}}var Lo=!1,rn=!1,Vp=!1,B1=typeof WeakSet=="function"?WeakSet:Set,bn=null;function IM(o,s){if(o=o.containerInfo,px=ad,o=Vv(o),Uh(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var x=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,D=-1,U=-1,ne=0,he=0,ge=o,oe=null;t:for(;;){for(var ie;ge!==l||x!==0&&ge.nodeType!==3||(D=T+x),ge!==m||d!==0&&ge.nodeType!==3||(U=T+d),ge.nodeType===3&&(T+=ge.nodeValue.length),(ie=ge.firstChild)!==null;)oe=ge,ge=ie;for(;;){if(ge===o)break t;if(oe===l&&++ne===x&&(D=T),oe===m&&++he===d&&(U=T),(ie=ge.nextSibling)!==null)break;ge=oe,oe=ge.parentNode}ge=ie}l=D===-1||U===-1?null:{start:D,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(xx={focusedElem:o,selectionRange:l},ad=!1,bn=s;bn!==null;)if(s=bn,o=s.child,(s.subtreeFlags&1024)!==0&&o!==null)o.return=s,bn=o;else for(;bn!==null;){switch(s=bn,m=s.alternate,o=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&m!==null){o=void 0,l=s,x=m.memoizedProps,m=m.memoizedState,d=l.stateNode;try{var qe=ss(l.type,x,l.elementType===l.type);o=d.getSnapshotBeforeUpdate(qe,m),d.__reactInternalSnapshotBeforeUpdate=o}catch(He){Dt(l,l.return,He)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,l=o.nodeType,l===9)yx(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":yx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,bn=o;break}bn=s.return}}function j1(o,s,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:hi(o,l),d&4&&Tl(5,l);break;case 1:if(hi(o,l),d&4)if(o=l.stateNode,s===null)try{o.componentDidMount()}catch(T){Dt(l,l.return,T)}else{var x=ss(l.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(x,s,o.__reactInternalSnapshotBeforeUpdate)}catch(T){Dt(l,l.return,T)}}d&64&&N1(l),d&512&&_l(l,l.return);break;case 3:if(hi(o,l),d&64&&(o=l.updateQueue,o!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{xb(o,s)}catch(T){Dt(l,l.return,T)}}break;case 27:s===null&&d&4&&O1(l);case 26:case 5:hi(o,l),s===null&&d&4&&A1(l),d&512&&_l(l,l.return);break;case 12:hi(o,l);break;case 13:hi(o,l),d&4&&I1(o,l),d&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=GM.bind(null,l),uA(o,l))));break;case 22:if(d=l.memoizedState!==null||Lo,!d){s=s!==null&&s.memoizedState!==null||rn,x=Lo;var m=rn;Lo=d,(rn=s)&&!m?pi(o,l,(l.subtreeFlags&8772)!==0):hi(o,l),Lo=x,rn=m}break;case 30:break;default:hi(o,l)}}function D1(o){var s=o.alternate;s!==null&&(o.alternate=null,D1(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&De(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ft=null,er=!1;function Io(o,s,l){for(l=l.child;l!==null;)L1(o,s,l),l=l.sibling}function L1(o,s,l){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Ct,l)}catch{}switch(l.tag){case 26:rn||io(l,s),Io(o,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:rn||io(l,s);var d=Ft,x=er;bi(l.type)&&(Ft=l.stateNode,er=!1),Io(o,s,l),Ll(l.stateNode),Ft=d,er=x;break;case 5:rn||io(l,s);case 6:if(d=Ft,x=er,Ft=null,Io(o,s,l),Ft=d,er=x,Ft!==null)if(er)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(l.stateNode)}catch(m){Dt(l,s,m)}else try{Ft.removeChild(l.stateNode)}catch(m){Dt(l,s,m)}break;case 18:Ft!==null&&(er?(o=Ft,Cw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),Vl(o)):Cw(Ft,l.stateNode));break;case 4:d=Ft,x=er,Ft=l.stateNode.containerInfo,er=!0,Io(o,s,l),Ft=d,er=x;break;case 0:case 11:case 14:case 15:rn||fi(2,l,s),rn||fi(4,l,s),Io(o,s,l);break;case 1:rn||(io(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"&&M1(l,s,d)),Io(o,s,l);break;case 21:Io(o,s,l);break;case 22:rn=(d=rn)||l.memoizedState!==null,Io(o,s,l),rn=d;break;default:Io(o,s,l)}}function I1(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Vl(o)}catch(l){Dt(s,s.return,l)}}function $M(o){switch(o.tag){case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new B1),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new B1),s;default:throw Error(r(435,o.tag))}}function Yp(o,s){var l=$M(o);s.forEach(function(d){var x=qM.bind(null,o,d);l.has(d)||(l.add(d),d.then(x,x))})}function cr(o,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var x=l[d],m=o,T=s,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(bi(D.type)){Ft=D.stateNode,er=!1;break e}break;case 5:Ft=D.stateNode,er=!1;break e;case 3:case 4:Ft=D.stateNode.containerInfo,er=!0;break e}D=D.return}if(Ft===null)throw Error(r(160));L1(m,T,x),Ft=null,er=!1,m=x.alternate,m!==null&&(m.return=null),x.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)$1(s,o),s=s.sibling}var Vr=null;function $1(o,s){var l=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:cr(s,o),ur(o),d&4&&(fi(3,o,o.return),Tl(3,o),fi(5,o,o.return));break;case 1:cr(s,o),ur(o),d&512&&(rn||l===null||io(l,l.return)),d&64&&Lo&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var x=Vr;if(cr(s,o),ur(o),d&512&&(rn||l===null||io(l,l.return)),d&4){var m=l!==null?l.memoizedState:null;if(d=o.memoizedState,l===null)if(d===null)if(o.stateNode===null){e:{d=o.type,l=o.memoizedProps,x=x.ownerDocument||x;t:switch(d){case"title":m=x.getElementsByTagName("title")[0],(!m||m[$e]||m[se]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=x.createElement(d),x.head.insertBefore(m,x.querySelector("head > title"))),An(m,d,l),m[se]=o,ht(m),d=m;break e;case"link":var T=Ow("link","href",x).get(d+(l.href||""));if(T){for(var D=0;D<T.length;D++)if(m=T[D],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(D,1);break t}}m=x.createElement(d),An(m,d,l),x.head.appendChild(m);break;case"meta":if(T=Ow("meta","content",x).get(d+(l.content||""))){for(D=0;D<T.length;D++)if(m=T[D],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(D,1);break t}}m=x.createElement(d),An(m,d,l),x.head.appendChild(m);break;default:throw Error(r(468,d))}m[se]=o,ht(m),d=m}o.stateNode=d}else Bw(x,o.type,o.stateNode);else o.stateNode=Rw(x,d,o.memoizedProps);else m!==d?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,d===null?Bw(x,o.type,o.stateNode):Rw(x,d,o.memoizedProps)):d===null&&o.stateNode!==null&&Hp(o,o.memoizedProps,l.memoizedProps)}break;case 27:cr(s,o),ur(o),d&512&&(rn||l===null||io(l,l.return)),l!==null&&d&4&&Hp(o,o.memoizedProps,l.memoizedProps);break;case 5:if(cr(s,o),ur(o),d&512&&(rn||l===null||io(l,l.return)),o.flags&32){x=o.stateNode;try{Is(x,"")}catch(ie){Dt(o,o.return,ie)}}d&4&&o.stateNode!=null&&(x=o.memoizedProps,Hp(o,x,l!==null?l.memoizedProps:x)),d&1024&&(Vp=!0);break;case 6:if(cr(s,o),ur(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,l=o.stateNode;try{l.nodeValue=d}catch(ie){Dt(o,o.return,ie)}}break;case 3:if(od=null,x=Vr,Vr=nd(s.containerInfo),cr(s,o),Vr=x,ur(o),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Vl(s.containerInfo)}catch(ie){Dt(o,o.return,ie)}Vp&&(Vp=!1,P1(o));break;case 4:d=Vr,Vr=nd(o.stateNode.containerInfo),cr(s,o),ur(o),Vr=d;break;case 12:cr(s,o),ur(o);break;case 13:cr(s,o),ur(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wp=_e()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,Yp(o,d)));break;case 22:x=o.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,ne=Lo,he=rn;if(Lo=ne||x,rn=he||U,cr(s,o),rn=he,Lo=ne,ur(o),d&8192)e:for(s=o.stateNode,s._visibility=x?s._visibility&-2:s._visibility|1,x&&(l===null||U||Lo||rn||as(o)),l=null,s=o;;){if(s.tag===5||s.tag===26){if(l===null){U=l=s;try{if(m=U.stateNode,x)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=U.stateNode;var ge=U.memoizedProps.style,oe=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;D.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ie){Dt(U,U.return,ie)}}}else if(s.tag===6){if(l===null){U=s;try{U.stateNode.nodeValue=x?"":U.memoizedProps}catch(ie){Dt(U,U.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=o.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Yp(o,l))));break;case 19:cr(s,o),ur(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,Yp(o,d)));break;case 30:break;case 21:break;default:cr(s,o),ur(o)}}function ur(o){var s=o.flags;if(s&2){try{for(var l,d=o.return;d!==null;){if(R1(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var x=l.stateNode,m=Up(o);Fu(o,m,x);break;case 5:var T=l.stateNode;l.flags&32&&(Is(T,""),l.flags&=-33);var D=Up(o);Fu(o,D,T);break;case 3:case 4:var U=l.stateNode.containerInfo,ne=Up(o);Fp(o,ne,U);break;default:throw Error(r(161))}}catch(he){Dt(o,o.return,he)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function P1(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;P1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function hi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)j1(o,s.alternate,s),s=s.sibling}function as(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:fi(4,s,s.return),as(s);break;case 1:io(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&M1(s,s.return,l),as(s);break;case 27:Ll(s.stateNode);case 26:case 5:io(s,s.return),as(s);break;case 22:s.memoizedState===null&&as(s);break;case 30:as(s);break;default:as(s)}o=o.sibling}}function pi(o,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,x=o,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:pi(x,m,l),Tl(4,m);break;case 1:if(pi(x,m,l),d=m,x=d.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){Dt(d,d.return,ne)}if(d=m,x=d.updateQueue,x!==null){var D=d.stateNode;try{var U=x.shared.hiddenCallbacks;if(U!==null)for(x.shared.hiddenCallbacks=null,x=0;x<U.length;x++)pb(U[x],D)}catch(ne){Dt(d,d.return,ne)}}l&&T&64&&N1(m),_l(m,m.return);break;case 27:O1(m);case 26:case 5:pi(x,m,l),l&&d===null&&T&4&&A1(m),_l(m,m.return);break;case 12:pi(x,m,l);break;case 13:pi(x,m,l),l&&T&4&&I1(x,m);break;case 22:m.memoizedState===null&&pi(x,m,l),_l(m,m.return);break;case 30:break;default:pi(x,m,l)}s=s.sibling}}function Gp(o,s){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&fl(l))}function qp(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&fl(o))}function so(o,s,l,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)z1(o,s,l,d),s=s.sibling}function z1(o,s,l,d){var x=s.flags;switch(s.tag){case 0:case 11:case 15:so(o,s,l,d),x&2048&&Tl(9,s);break;case 1:so(o,s,l,d);break;case 3:so(o,s,l,d),x&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&fl(o)));break;case 12:if(x&2048){so(o,s,l,d),o=s.stateNode;try{var m=s.memoizedProps,T=m.id,D=m.onPostCommit;typeof D=="function"&&D(T,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(U){Dt(s,s.return,U)}}else so(o,s,l,d);break;case 13:so(o,s,l,d);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?so(o,s,l,d):Nl(o,s):m._visibility&2?so(o,s,l,d):(m._visibility|=2,na(o,s,l,d,(s.subtreeFlags&10256)!==0)),x&2048&&Gp(T,s);break;case 24:so(o,s,l,d),x&2048&&qp(s.alternate,s);break;default:so(o,s,l,d)}}function na(o,s,l,d,x){for(x=x&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=o,T=s,D=l,U=d,ne=T.flags;switch(T.tag){case 0:case 11:case 15:na(m,T,D,U,x),Tl(8,T);break;case 23:break;case 22:var he=T.stateNode;T.memoizedState!==null?he._visibility&2?na(m,T,D,U,x):Nl(m,T):(he._visibility|=2,na(m,T,D,U,x)),x&&ne&2048&&Gp(T.alternate,T);break;case 24:na(m,T,D,U,x),x&&ne&2048&&qp(T.alternate,T);break;default:na(m,T,D,U,x)}s=s.sibling}}function Nl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=o,d=s,x=d.flags;switch(d.tag){case 22:Nl(l,d),x&2048&&Gp(d.alternate,d);break;case 24:Nl(l,d),x&2048&&qp(d.alternate,d);break;default:Nl(l,d)}s=s.sibling}}var Ml=8192;function ra(o){if(o.subtreeFlags&Ml)for(o=o.child;o!==null;)H1(o),o=o.sibling}function H1(o){switch(o.tag){case 26:ra(o),o.flags&Ml&&o.memoizedState!==null&&EA(Vr,o.memoizedState,o.memoizedProps);break;case 5:ra(o);break;case 3:case 4:var s=Vr;Vr=nd(o.stateNode.containerInfo),ra(o),Vr=s;break;case 22:o.memoizedState===null&&(s=o.alternate,s!==null&&s.memoizedState!==null?(s=Ml,Ml=16777216,ra(o),Ml=s):ra(o));break;default:ra(o)}}function U1(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function Al(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];bn=d,V1(d,o)}U1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)F1(o),o=o.sibling}function F1(o){switch(o.tag){case 0:case 11:case 15:Al(o),o.flags&2048&&fi(9,o,o.return);break;case 3:Al(o);break;case 12:Al(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Vu(o)):Al(o);break;default:Al(o)}}function Vu(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var d=s[l];bn=d,V1(d,o)}U1(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:fi(8,s,s.return),Vu(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Vu(s));break;default:Vu(s)}o=o.sibling}}function V1(o,s){for(;bn!==null;){var l=bn;switch(l.tag){case 0:case 11:case 15:fi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:fl(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,bn=d;else e:for(l=o;bn!==null;){d=bn;var x=d.sibling,m=d.return;if(D1(d),d===l){bn=null;break e}if(x!==null){x.return=m,bn=x;break e}bn=m}}}var PM={getCacheForType:function(o){var s=Ln(xn),l=s.data.get(o);return l===void 0&&(l=o(),s.data.set(o,l)),l}},zM=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,at=null,pt=0,Tt=0,dr=null,xi=!1,oa=!1,Xp=!1,$o=0,Kt=0,gi=0,ls=0,Kp=0,Ar=0,ia=0,Rl=null,tr=null,Zp=!1,Wp=0,Yu=1/0,Gu=null,mi=null,Mn=0,yi=null,sa=null,aa=0,Qp=0,Jp=null,Y1=null,Ol=0,ex=null;function fr(){if((kt&2)!==0&&pt!==0)return pt&-pt;if(j.T!==null){var o=Xs;return o!==0?o:ax()}return q()}function G1(){Ar===0&&(Ar=(pt&536870912)===0||vt?kn():536870912);var o=Mr.current;return o!==null&&(o.flags|=32),Ar}function hr(o,s,l){(o===$t&&(Tt===2||Tt===9)||o.cancelPendingCommit!==null)&&(la(o,0),vi(o,pt,Ar,!1)),Un(o,l),((kt&2)===0||o!==$t)&&(o===$t&&((kt&2)===0&&(ls|=l),Kt===4&&vi(o,pt,Ar,!1)),ao(o))}function q1(o,s,l){if((kt&6)!==0)throw Error(r(327));var d=!l&&(s&124)===0&&(s&o.expiredLanes)===0||yt(o,s),x=d?FM(o,s):rx(o,s,!0),m=d;do{if(x===0){oa&&!d&&vi(o,s,0,!1);break}else{if(l=o.current.alternate,m&&!HM(l)){x=rx(o,s,!1),m=!1;continue}if(x===2){if(m=s,o.errorRecoveryDisabledLanes&m)var T=0;else T=o.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var D=o;x=Rl;var U=D.current.memoizedState.isDehydrated;if(U&&(la(D,T).flags|=256),T=rx(D,T,!1),T!==2){if(Xp&&!U){D.errorRecoveryDisabledLanes|=m,ls|=m,x=4;break e}m=tr,tr=x,m!==null&&(tr===null?tr=m:tr.push.apply(tr,m))}x=T}if(m=!1,x!==2)continue}}if(x===1){la(o,0),vi(o,s,0,!0);break}e:{switch(d=o,m=x,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vi(d,s,Ar,!xi);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(x=Wp+300-_e(),10<x)){if(vi(d,s,Ar,!xi),Ht(d,0,!0)!==0)break e;d.timeoutHandle=Sw(X1.bind(null,d,l,tr,Gu,Zp,s,Ar,ls,ia,xi,m,2,-0,0),x);break e}X1(d,l,tr,Gu,Zp,s,Ar,ls,ia,xi,m,0,-0,0)}}break}while(!0);ao(o)}function X1(o,s,l,d,x,m,T,D,U,ne,he,ge,oe,ie){if(o.timeoutHandle=-1,ge=s.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:SA},H1(s),ge=CA(),ge!==null)){o.cancelPendingCommit=ge(tw.bind(null,o,s,m,l,d,x,T,D,U,he,1,oe,ie)),vi(o,m,T,!ne);return}tw(o,s,m,l,d,x,T,D,U)}function HM(o){for(var s=o;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var x=l[d],m=x.getSnapshot;x=x.value;try{if(!ar(m(),x))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vi(o,s,l,d){s&=~Kp,s&=~ls,o.suspendedLanes|=s,o.pingedLanes&=~s,d&&(o.warmLanes|=s),d=o.expirationTimes;for(var x=s;0<x;){var m=31-_t(x),T=1<<m;d[m]=-1,x&=~T}l!==0&&fn(o,l,s)}function qu(){return(kt&6)===0?(Bl(0),!1):!0}function tx(){if(at!==null){if(Tt===0)var o=at.return;else o=at,Ao=ns=null,yp(o),ea=null,El=0,o=at;for(;o!==null;)_1(o.alternate,o),o=o.return;at=null}}function la(o,s){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,iA(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),tx(),$t=o,at=l=_o(o.current,null),pt=s,Tt=0,dr=null,xi=!1,oa=yt(o,s),Xp=!1,ia=Ar=Kp=ls=gi=Kt=0,tr=Rl=null,Zp=!1,(s&8)!==0&&(s|=s&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=s;0<d;){var x=31-_t(d),m=1<<x;s|=o[x],d&=~m}return $o=s,xu(),l}function K1(o,s){nt=null,j.H=ju,s===pl||s===Cu?(s=fb(),Tt=3):s===cb?(s=fb(),Tt=4):Tt=s===h1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dr=s,at===null&&(Kt=1,Pu(o,kr(s,o.current)))}function Z1(){var o=j.H;return j.H=ju,o===null?ju:o}function W1(){var o=j.A;return j.A=PM,o}function nx(){Kt=4,xi||(pt&4194048)!==pt&&Mr.current!==null||(oa=!0),(gi&134217727)===0&&(ls&134217727)===0||$t===null||vi($t,pt,Ar,!1)}function rx(o,s,l){var d=kt;kt|=2;var x=Z1(),m=W1();($t!==o||pt!==s)&&(Gu=null,la(o,s)),s=!1;var T=Kt;e:do try{if(Tt!==0&&at!==null){var D=at,U=dr;switch(Tt){case 8:tx(),T=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(s=!0);var ne=Tt;if(Tt=0,dr=null,ca(o,D,U,ne),l&&oa){T=0;break e}break;default:ne=Tt,Tt=0,dr=null,ca(o,D,U,ne)}}UM(),T=Kt;break}catch(he){K1(o,he)}while(!0);return s&&o.shellSuspendCounter++,Ao=ns=null,kt=d,j.H=x,j.A=m,at===null&&($t=null,pt=0,xu()),T}function UM(){for(;at!==null;)Q1(at)}function FM(o,s){var l=kt;kt|=2;var d=Z1(),x=W1();$t!==o||pt!==s?(Gu=null,Yu=_e()+500,la(o,s)):oa=yt(o,s);e:do try{if(Tt!==0&&at!==null){s=at;var m=dr;t:switch(Tt){case 1:Tt=0,dr=null,ca(o,s,m,1);break;case 2:case 9:if(ub(m)){Tt=0,dr=null,J1(s);break}s=function(){Tt!==2&&Tt!==9||$t!==o||(Tt=7),ao(o)},m.then(s,s);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:ub(m)?(Tt=0,dr=null,J1(s)):(Tt=0,dr=null,ca(o,s,m,7));break;case 5:var T=null;switch(at.tag){case 26:T=at.memoizedState;case 5:case 27:var D=at;if(!T||jw(T)){Tt=0,dr=null;var U=D.sibling;if(U!==null)at=U;else{var ne=D.return;ne!==null?(at=ne,Xu(ne)):at=null}break t}}Tt=0,dr=null,ca(o,s,m,5);break;case 6:Tt=0,dr=null,ca(o,s,m,6);break;case 8:tx(),Kt=6;break e;default:throw Error(r(462))}}VM();break}catch(he){K1(o,he)}while(!0);return Ao=ns=null,j.H=d,j.A=x,kt=l,at!==null?0:($t=null,pt=0,xu(),Kt)}function VM(){for(;at!==null&&!Fe();)Q1(at)}function Q1(o){var s=k1(o.alternate,o,$o);o.memoizedProps=o.pendingProps,s===null?Xu(o):at=s}function J1(o){var s=o,l=s.alternate;switch(s.tag){case 15:case 0:s=v1(l,s,s.pendingProps,s.type,void 0,pt);break;case 11:s=v1(l,s,s.pendingProps,s.type.render,s.ref,pt);break;case 5:yp(s);default:_1(l,s),s=at=eb(s,$o),s=k1(l,s,$o)}o.memoizedProps=o.pendingProps,s===null?Xu(o):at=s}function ca(o,s,l,d){Ao=ns=null,yp(s),ea=null,El=0;var x=s.return;try{if(BM(o,x,s,l,pt)){Kt=1,Pu(o,kr(l,o.current)),at=null;return}}catch(m){if(x!==null)throw at=x,m;Kt=1,Pu(o,kr(l,o.current)),at=null;return}s.flags&32768?(vt||d===1?o=!0:oa||(pt&536870912)!==0?o=!1:(xi=o=!0,(d===2||d===9||d===3||d===6)&&(d=Mr.current,d!==null&&d.tag===13&&(d.flags|=16384))),ew(s,o)):Xu(s)}function Xu(o){var s=o;do{if((s.flags&32768)!==0){ew(s,xi);return}o=s.return;var l=DM(s.alternate,s,$o);if(l!==null){at=l;return}if(s=s.sibling,s!==null){at=s;return}at=s=o}while(s!==null);Kt===0&&(Kt=5)}function ew(o,s){do{var l=LM(o.alternate,o);if(l!==null){l.flags&=32767,at=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(o=o.sibling,o!==null)){at=o;return}at=o=l}while(o!==null);Kt=6,at=null}function tw(o,s,l,d,x,m,T,D,U){o.cancelPendingCommit=null;do Ku();while(Mn!==0);if((kt&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=qh,Fn(o,l,m,T,D,U),o===$t&&(at=$t=null,pt=0),sa=s,yi=o,aa=l,Qp=m,Jp=x,Y1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,XM(it,function(){return sw(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=j.T,j.T=null,x=G.p,G.p=2,T=kt,kt|=4;try{IM(o,s,l)}finally{kt=T,G.p=x,j.T=d}}Mn=1,nw(),rw(),ow()}}function nw(){if(Mn===1){Mn=0;var o=yi,s=sa,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=j.T,j.T=null;var d=G.p;G.p=2;var x=kt;kt|=4;try{$1(s,o);var m=xx,T=Vv(o.containerInfo),D=m.focusedElem,U=m.selectionRange;if(T!==D&&D&&D.ownerDocument&&Fv(D.ownerDocument.documentElement,D)){if(U!==null&&Uh(D)){var ne=U.start,he=U.end;if(he===void 0&&(he=ne),"selectionStart"in D)D.selectionStart=ne,D.selectionEnd=Math.min(he,D.value.length);else{var ge=D.ownerDocument||document,oe=ge&&ge.defaultView||window;if(oe.getSelection){var ie=oe.getSelection(),qe=D.textContent.length,He=Math.min(U.start,qe),Rt=U.end===void 0?He:Math.min(U.end,qe);!ie.extend&&He>Rt&&(T=Rt,Rt=He,He=T);var J=Uv(D,He),Z=Uv(D,Rt);if(J&&Z&&(ie.rangeCount!==1||ie.anchorNode!==J.node||ie.anchorOffset!==J.offset||ie.focusNode!==Z.node||ie.focusOffset!==Z.offset)){var te=ge.createRange();te.setStart(J.node,J.offset),ie.removeAllRanges(),He>Rt?(ie.addRange(te),ie.extend(Z.node,Z.offset)):(te.setEnd(Z.node,Z.offset),ie.addRange(te))}}}}for(ge=[],ie=D;ie=ie.parentNode;)ie.nodeType===1&&ge.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ge.length;D++){var pe=ge[D];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}ad=!!px,xx=px=null}finally{kt=x,G.p=d,j.T=l}}o.current=s,Mn=2}}function rw(){if(Mn===2){Mn=0;var o=yi,s=sa,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=j.T,j.T=null;var d=G.p;G.p=2;var x=kt;kt|=4;try{j1(o,s.alternate,s)}finally{kt=x,G.p=d,j.T=l}}Mn=3}}function ow(){if(Mn===4||Mn===3){Mn=0,Ve();var o=yi,s=sa,l=aa,d=Y1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mn=5:(Mn=0,sa=yi=null,iw(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(mi=null),Co(l),s=s.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=j.T,x=G.p,G.p=2,j.T=null;try{for(var m=o.onRecoverableError,T=0;T<d.length;T++){var D=d[T];m(D.value,{componentStack:D.stack})}}finally{j.T=s,G.p=x}}(aa&3)!==0&&Ku(),ao(o),x=o.pendingLanes,(l&4194090)!==0&&(x&42)!==0?o===ex?Ol++:(Ol=0,ex=o):Ol=0,Bl(0)}}function iw(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,fl(s)))}function Ku(o){return nw(),rw(),ow(),sw()}function sw(){if(Mn!==5)return!1;var o=yi,s=Qp;Qp=0;var l=Co(aa),d=j.T,x=G.p;try{G.p=32>l?32:l,j.T=null,l=Jp,Jp=null;var m=yi,T=aa;if(Mn=0,sa=yi=null,aa=0,(kt&6)!==0)throw Error(r(331));var D=kt;if(kt|=4,F1(m.current),z1(m,m.current,T,l),kt=D,Bl(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Ct,m)}catch{}return!0}finally{G.p=x,j.T=d,iw(o,s)}}function aw(o,s,l){s=kr(l,s),s=Op(o.stateNode,s,2),o=li(o,s,2),o!==null&&(Un(o,2),ao(o))}function Dt(o,s,l){if(o.tag===3)aw(o,o,l);else for(;s!==null;){if(s.tag===3){aw(s,o,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(mi===null||!mi.has(d))){o=kr(l,o),l=d1(2),d=li(s,l,2),d!==null&&(f1(l,d,s,o),Un(d,2),ao(d));break}}s=s.return}}function ox(o,s,l){var d=o.pingCache;if(d===null){d=o.pingCache=new zM;var x=new Set;d.set(s,x)}else x=d.get(s),x===void 0&&(x=new Set,d.set(s,x));x.has(l)||(Xp=!0,x.add(l),o=YM.bind(null,o,s,l),s.then(o,o))}function YM(o,s,l){var d=o.pingCache;d!==null&&d.delete(s),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,$t===o&&(pt&l)===l&&(Kt===4||Kt===3&&(pt&62914560)===pt&&300>_e()-Wp?(kt&2)===0&&la(o,0):Kp|=l,ia===pt&&(ia=0)),ao(o)}function lw(o,s){s===0&&(s=Dn()),o=Vs(o,s),o!==null&&(Un(o,s),ao(o))}function GM(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),lw(o,l)}function qM(o,s){var l=0;switch(o.tag){case 13:var d=o.stateNode,x=o.memoizedState;x!==null&&(l=x.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),lw(o,l)}function XM(o,s){return Ke(o,s)}var Zu=null,ua=null,ix=!1,Wu=!1,sx=!1,cs=0;function ao(o){o!==ua&&o.next===null&&(ua===null?Zu=ua=o:ua=ua.next=o),Wu=!0,ix||(ix=!0,ZM())}function Bl(o,s){if(!sx&&Wu){sx=!0;do for(var l=!1,d=Zu;d!==null;){if(o!==0){var x=d.pendingLanes;if(x===0)var m=0;else{var T=d.suspendedLanes,D=d.pingedLanes;m=(1<<31-_t(42|o)+1)-1,m&=x&~(T&~D),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,fw(d,m))}else m=pt,m=Ht(d,d===$t?m:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(m&3)===0||yt(d,m)||(l=!0,fw(d,m));d=d.next}while(l);sx=!1}}function KM(){cw()}function cw(){Wu=ix=!1;var o=0;cs!==0&&(oA()&&(o=cs),cs=0);for(var s=_e(),l=null,d=Zu;d!==null;){var x=d.next,m=uw(d,s);m===0?(d.next=null,l===null?Zu=x:l.next=x,x===null&&(ua=l)):(l=d,(o!==0||(m&3)!==0)&&(Wu=!0)),d=x}Bl(o)}function uw(o,s){for(var l=o.suspendedLanes,d=o.pingedLanes,x=o.expirationTimes,m=o.pendingLanes&-62914561;0<m;){var T=31-_t(m),D=1<<T,U=x[T];U===-1?((D&l)===0||(D&d)!==0)&&(x[T]=Cn(D,s)):U<=s&&(o.expiredLanes|=D),m&=~D}if(s=$t,l=pt,l=Ht(o,o===s?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,l===0||o===s&&(Tt===2||Tt===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&Be(d),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||yt(o,l)){if(s=l&-l,s===o.callbackPriority)return s;switch(d!==null&&Be(d),Co(l)){case 2:case 8:l=ft;break;case 32:l=it;break;case 268435456:l=tn;break;default:l=it}return d=dw.bind(null,o),l=Ke(l,d),o.callbackPriority=s,o.callbackNode=l,s}return d!==null&&d!==null&&Be(d),o.callbackPriority=2,o.callbackNode=null,2}function dw(o,s){if(Mn!==0&&Mn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(Ku()&&o.callbackNode!==l)return null;var d=pt;return d=Ht(o,o===$t?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(q1(o,d,s),uw(o,_e()),o.callbackNode!=null&&o.callbackNode===l?dw.bind(null,o):null)}function fw(o,s){if(Ku())return null;q1(o,s,!0)}function ZM(){sA(function(){(kt&6)!==0?Ke(ze,KM):cw()})}function ax(){return cs===0&&(cs=kn()),cs}function hw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:lu(""+o)}function pw(o,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,o.id&&l.setAttribute("form",o.id),s.parentNode.insertBefore(l,s),o=new FormData(o),l.parentNode.removeChild(l),o}function WM(o,s,l,d,x){if(s==="submit"&&l&&l.stateNode===x){var m=hw((x[fe]||null).action),T=d.submitter;T&&(s=(s=T[fe]||null)?hw(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var D=new fu("action","action",null,d,x);o.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(cs!==0){var U=T?pw(x,T):new FormData(x);_p(l,{pending:!0,data:U,method:x.method,action:m},null,U)}}else typeof m=="function"&&(D.preventDefault(),U=T?pw(x,T):new FormData(x),_p(l,{pending:!0,data:U,method:x.method,action:m},m,U))},currentTarget:x}]})}}for(var lx=0;lx<Gh.length;lx++){var cx=Gh[lx],QM=cx.toLowerCase(),JM=cx[0].toUpperCase()+cx.slice(1);Fr(QM,"on"+JM)}Fr(qv,"onAnimationEnd"),Fr(Xv,"onAnimationIteration"),Fr(Kv,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(gM,"onTransitionRun"),Fr(mM,"onTransitionStart"),Fr(yM,"onTransitionCancel"),Fr(Zv,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function xw(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var d=o[l],x=d.event;d=d.listeners;e:{var m=void 0;if(s)for(var T=d.length-1;0<=T;T--){var D=d[T],U=D.instance,ne=D.currentTarget;if(D=D.listener,U!==m&&x.isPropagationStopped())break e;m=D,x.currentTarget=ne;try{m(x)}catch(he){$u(he)}x.currentTarget=null,m=U}else for(T=0;T<d.length;T++){if(D=d[T],U=D.instance,ne=D.currentTarget,D=D.listener,U!==m&&x.isPropagationStopped())break e;m=D,x.currentTarget=ne;try{m(x)}catch(he){$u(he)}x.currentTarget=null,m=U}}}}function lt(o,s){var l=s[Me];l===void 0&&(l=s[Me]=new Set);var d=o+"__bubble";l.has(d)||(gw(s,o,2,!1),l.add(d))}function ux(o,s,l){var d=0;s&&(d|=4),gw(l,o,d,s)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function dx(o){if(!o[Qu]){o[Qu]=!0,st.forEach(function(l){l!=="selectionchange"&&(eA.has(l)||ux(l,!1,o),ux(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Qu]||(s[Qu]=!0,ux("selectionchange",!1,s))}}function gw(o,s,l,d){switch(zw(s)){case 2:var x=_A;break;case 8:x=NA;break;default:x=kx}l=x.bind(null,s,l,o),x=void 0,!Bh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),d?x!==void 0?o.addEventListener(s,l,{capture:!0,passive:x}):o.addEventListener(s,l,!0):x!==void 0?o.addEventListener(s,l,{passive:x}):o.addEventListener(s,l,!1)}function fx(o,s,l,d,x){var m=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var D=d.stateNode.containerInfo;if(D===x)break;if(T===4)for(T=d.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;D!==null;){if(T=Ye(D),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){d=m=T;continue e}D=D.parentNode}}d=d.return}Ev(function(){var ne=m,he=Rh(l),ge=[];e:{var oe=Wv.get(o);if(oe!==void 0){var ie=fu,qe=o;switch(o){case"keypress":if(uu(l)===0)break e;case"keydown":case"keyup":ie=XN;break;case"focusin":qe="focus",ie=Ih;break;case"focusout":qe="blur",ie=Ih;break;case"beforeblur":case"afterblur":ie=Ih;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=LN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=WN;break;case qv:case Xv:case Kv:ie=PN;break;case Zv:ie=JN;break;case"scroll":case"scrollend":ie=jN;break;case"wheel":ie=tM;break;case"copy":case"cut":case"paste":ie=HN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Nv;break;case"toggle":case"beforetoggle":ie=rM}var He=(s&4)!==0,Rt=!He&&(o==="scroll"||o==="scrollend"),J=He?oe!==null?oe+"Capture":null:oe;He=[];for(var Z=ne,te;Z!==null;){var pe=Z;if(te=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||te===null||J===null||(pe=Ja(Z,J),pe!=null&&He.push(Dl(Z,pe,te))),Rt)break;Z=Z.return}0<He.length&&(oe=new ie(oe,qe,null,l,he),ge.push({event:oe,listeners:He}))}}if((s&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",ie=o==="mouseout"||o==="pointerout",oe&&l!==Ah&&(qe=l.relatedTarget||l.fromElement)&&(Ye(qe)||qe[Ee]))break e;if((ie||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,ie?(qe=l.relatedTarget||l.toElement,ie=ne,qe=qe?Ye(qe):null,qe!==null&&(Rt=a(qe),He=qe.tag,qe!==Rt||He!==5&&He!==27&&He!==6)&&(qe=null)):(ie=null,qe=ne),ie!==qe)){if(He=Tv,pe="onMouseLeave",J="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(He=Nv,pe="onPointerLeave",J="onPointerEnter",Z="pointer"),Rt=ie==null?oe:jt(ie),te=qe==null?oe:jt(qe),oe=new He(pe,Z+"leave",ie,l,he),oe.target=Rt,oe.relatedTarget=te,pe=null,Ye(he)===ne&&(He=new He(J,Z+"enter",qe,l,he),He.target=te,He.relatedTarget=Rt,pe=He),Rt=pe,ie&&qe)t:{for(He=ie,J=qe,Z=0,te=He;te;te=da(te))Z++;for(te=0,pe=J;pe;pe=da(pe))te++;for(;0<Z-te;)He=da(He),Z--;for(;0<te-Z;)J=da(J),te--;for(;Z--;){if(He===J||J!==null&&He===J.alternate)break t;He=da(He),J=da(J)}He=null}else He=null;ie!==null&&mw(ge,oe,ie,He,!1),qe!==null&&Rt!==null&&mw(ge,Rt,qe,He,!0)}}e:{if(oe=ne?jt(ne):window,ie=oe.nodeName&&oe.nodeName.toLowerCase(),ie==="select"||ie==="input"&&oe.type==="file")var Ae=Lv;else if(jv(oe))if(Iv)Ae=hM;else{Ae=dM;var rt=uM}else ie=oe.nodeName,!ie||ie.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ne&&Mh(ne.elementType)&&(Ae=Lv):Ae=fM;if(Ae&&(Ae=Ae(o,ne))){Dv(ge,Ae,l,he);break e}rt&&rt(o,oe,ne),o==="focusout"&&ne&&oe.type==="number"&&ne.memoizedProps.value!=null&&Nh(oe,"number",oe.value)}switch(rt=ne?jt(ne):window,o){case"focusin":(jv(rt)||rt.contentEditable==="true")&&(Hs=rt,Fh=ne,al=null);break;case"focusout":al=Fh=Hs=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Yv(ge,l,he);break;case"selectionchange":if(xM)break;case"keydown":case"keyup":Yv(ge,l,he)}var Le;if(Ph)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else zs?Ov(o,l)&&(Ge="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(Mv&&l.locale!=="ko"&&(zs||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&zs&&(Le=Cv()):(oi=he,jh="value"in oi?oi.value:oi.textContent,zs=!0)),rt=Ju(ne,Ge),0<rt.length&&(Ge=new _v(Ge,o,null,l,he),ge.push({event:Ge,listeners:rt}),Le?Ge.data=Le:(Le=Bv(l),Le!==null&&(Ge.data=Le)))),(Le=iM?sM(o,l):aM(o,l))&&(Ge=Ju(ne,"onBeforeInput"),0<Ge.length&&(rt=new _v("onBeforeInput","beforeinput",null,l,he),ge.push({event:rt,listeners:Ge}),rt.data=Le)),WM(ge,o,ne,l,he)}xw(ge,s)})}function Dl(o,s,l){return{instance:o,listener:s,currentTarget:l}}function Ju(o,s){for(var l=s+"Capture",d=[];o!==null;){var x=o,m=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||m===null||(x=Ja(o,l),x!=null&&d.unshift(Dl(o,x,m)),x=Ja(o,s),x!=null&&d.push(Dl(o,x,m))),o.tag===3)return d;o=o.return}return[]}function da(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function mw(o,s,l,d,x){for(var m=s._reactName,T=[];l!==null&&l!==d;){var D=l,U=D.alternate,ne=D.stateNode;if(D=D.tag,U!==null&&U===d)break;D!==5&&D!==26&&D!==27||ne===null||(U=ne,x?(ne=Ja(l,m),ne!=null&&T.unshift(Dl(l,ne,U))):x||(ne=Ja(l,m),ne!=null&&T.push(Dl(l,ne,U)))),l=l.return}T.length!==0&&o.push({event:s,listeners:T})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function yw(o){return(typeof o=="string"?o:""+o).replace(tA,`
`).replace(nA,"")}function vw(o,s){return s=yw(s),yw(o)===s}function ed(){}function At(o,s,l,d,x,m){switch(l){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Is(o,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Is(o,""+d);break;case"className":Ur(o,"class",d);break;case"tabIndex":Ur(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(o,l,d);break;case"style":wv(o,d,m);break;case"data":if(s!=="object"){Ur(o,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||l!=="href")){o.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(l);break}d=lu(""+d),o.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&At(o,s,"name",x.name,x,null),At(o,s,"formEncType",x.formEncType,x,null),At(o,s,"formMethod",x.formMethod,x,null),At(o,s,"formTarget",x.formTarget,x,null)):(At(o,s,"encType",x.encType,x,null),At(o,s,"method",x.method,x,null),At(o,s,"target",x.target,x,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(l);break}d=lu(""+d),o.setAttribute(l,d);break;case"onClick":d!=null&&(o.onclick=ed);break;case"onScroll":d!=null&&lt("scroll",o);break;case"onScrollEnd":d!=null&&lt("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=l}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}l=lu(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(l,""+d):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":d===!0?o.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(l,d):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(l,d):o.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(l):o.setAttribute(l,d);break;case"popover":lt("beforetoggle",o),lt("toggle",o),Zn(o,"popover",d);break;case"xlinkActuate":tt(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":tt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":tt(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":tt(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":tt(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":tt(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":tt(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":tt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":tt(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Zn(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ON.get(l)||l,Zn(o,l,d))}}function hx(o,s,l,d,x,m){switch(l){case"style":wv(o,d,m);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=l}}break;case"children":typeof d=="string"?Is(o,d):(typeof d=="number"||typeof d=="bigint")&&Is(o,""+d);break;case"onScroll":d!=null&&lt("scroll",o);break;case"onScrollEnd":d!=null&&lt("scrollend",o);break;case"onClick":d!=null&&(o.onclick=ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(x=l.endsWith("Capture"),s=l.slice(2,x?l.length-7:void 0),m=o[fe]||null,m=m!=null?m[l]:null,typeof m=="function"&&o.removeEventListener(s,m,x),typeof d=="function")){typeof m!="function"&&m!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(s,d,x);break e}l in o?o[l]=d:d===!0?o.setAttribute(l,""):Zn(o,l,d)}}}function An(o,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",o),lt("load",o);var d=!1,x=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":d=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:At(o,s,m,T,l,null)}}x&&At(o,s,"srcSet",l.srcSet,l,null),d&&At(o,s,"src",l.src,l,null);return;case"input":lt("invalid",o);var D=m=T=x=null,U=null,ne=null;for(d in l)if(l.hasOwnProperty(d)){var he=l[d];if(he!=null)switch(d){case"name":x=he;break;case"type":T=he;break;case"checked":U=he;break;case"defaultChecked":ne=he;break;case"value":m=he;break;case"defaultValue":D=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,s));break;default:At(o,s,d,he,l,null)}}mv(o,m,D,U,ne,T,x,!1),su(o);return;case"select":lt("invalid",o),d=T=m=null;for(x in l)if(l.hasOwnProperty(x)&&(D=l[x],D!=null))switch(x){case"value":m=D;break;case"defaultValue":T=D;break;case"multiple":d=D;default:At(o,s,x,D,l,null)}s=m,l=T,o.multiple=!!d,s!=null?Ls(o,!!d,s,!1):l!=null&&Ls(o,!!d,l,!0);return;case"textarea":lt("invalid",o),m=x=d=null;for(T in l)if(l.hasOwnProperty(T)&&(D=l[T],D!=null))switch(T){case"value":d=D;break;case"defaultValue":x=D;break;case"children":m=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:At(o,s,T,D,l,null)}vv(o,d,x,m),su(o);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(d=l[U],d!=null))switch(U){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:At(o,s,U,d,l,null)}return;case"dialog":lt("beforetoggle",o),lt("toggle",o),lt("cancel",o),lt("close",o);break;case"iframe":case"object":lt("load",o);break;case"video":case"audio":for(d=0;d<jl.length;d++)lt(jl[d],o);break;case"image":lt("error",o),lt("load",o);break;case"details":lt("toggle",o);break;case"embed":case"source":case"link":lt("error",o),lt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(d=l[ne],d!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:At(o,s,ne,d,l,null)}return;default:if(Mh(s)){for(he in l)l.hasOwnProperty(he)&&(d=l[he],d!==void 0&&hx(o,s,he,d,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(d=l[D],d!=null&&At(o,s,D,d,l,null))}function rA(o,s,l,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,m=null,T=null,D=null,U=null,ne=null,he=null;for(ie in l){var ge=l[ie];if(l.hasOwnProperty(ie)&&ge!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=ge;default:d.hasOwnProperty(ie)||At(o,s,ie,null,d,ge)}}for(var oe in d){var ie=d[oe];if(ge=l[oe],d.hasOwnProperty(oe)&&(ie!=null||ge!=null))switch(oe){case"type":m=ie;break;case"name":x=ie;break;case"checked":ne=ie;break;case"defaultChecked":he=ie;break;case"value":T=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ie!==ge&&At(o,s,oe,ie,d,ge)}}_h(o,T,D,U,ne,he,m,x);return;case"select":ie=T=D=oe=null;for(m in l)if(U=l[m],l.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":ie=U;default:d.hasOwnProperty(m)||At(o,s,m,null,d,U)}for(x in d)if(m=d[x],U=l[x],d.hasOwnProperty(x)&&(m!=null||U!=null))switch(x){case"value":oe=m;break;case"defaultValue":D=m;break;case"multiple":T=m;default:m!==U&&At(o,s,x,m,d,U)}s=D,l=T,d=ie,oe!=null?Ls(o,!!l,oe,!1):!!d!=!!l&&(s!=null?Ls(o,!!l,s,!0):Ls(o,!!l,l?[]:"",!1));return;case"textarea":ie=oe=null;for(D in l)if(x=l[D],l.hasOwnProperty(D)&&x!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:At(o,s,D,null,d,x)}for(T in d)if(x=d[T],m=l[T],d.hasOwnProperty(T)&&(x!=null||m!=null))switch(T){case"value":oe=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==m&&At(o,s,T,x,d,m)}yv(o,oe,ie);return;case"option":for(var qe in l)if(oe=l[qe],l.hasOwnProperty(qe)&&oe!=null&&!d.hasOwnProperty(qe))switch(qe){case"selected":o.selected=!1;break;default:At(o,s,qe,null,d,oe)}for(U in d)if(oe=d[U],ie=l[U],d.hasOwnProperty(U)&&oe!==ie&&(oe!=null||ie!=null))switch(U){case"selected":o.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:At(o,s,U,oe,d,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)oe=l[He],l.hasOwnProperty(He)&&oe!=null&&!d.hasOwnProperty(He)&&At(o,s,He,null,d,oe);for(ne in d)if(oe=d[ne],ie=l[ne],d.hasOwnProperty(ne)&&oe!==ie&&(oe!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:At(o,s,ne,oe,d,ie)}return;default:if(Mh(s)){for(var Rt in l)oe=l[Rt],l.hasOwnProperty(Rt)&&oe!==void 0&&!d.hasOwnProperty(Rt)&&hx(o,s,Rt,void 0,d,oe);for(he in d)oe=d[he],ie=l[he],!d.hasOwnProperty(he)||oe===ie||oe===void 0&&ie===void 0||hx(o,s,he,oe,d,ie);return}}for(var J in l)oe=l[J],l.hasOwnProperty(J)&&oe!=null&&!d.hasOwnProperty(J)&&At(o,s,J,null,d,oe);for(ge in d)oe=d[ge],ie=l[ge],!d.hasOwnProperty(ge)||oe===ie||oe==null&&ie==null||At(o,s,ge,oe,d,ie)}var px=null,xx=null;function td(o){return o.nodeType===9?o:o.ownerDocument}function bw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ww(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function gx(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mx=null;function oA(){var o=window.event;return o&&o.type==="popstate"?o===mx?!1:(mx=o,!0):(mx=null,!1)}var Sw=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(o){return Ew.resolve(null).then(o).catch(aA)}:Sw;function aA(o){setTimeout(function(){throw o})}function bi(o){return o==="head"}function Cw(o,s){var l=s,d=0,x=0;do{var m=l.nextSibling;if(o.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<d&&8>d){l=d;var T=o.ownerDocument;if(l&1&&Ll(T.documentElement),l&2&&Ll(T.body),l&4)for(l=T.head,Ll(l),T=l.firstChild;T;){var D=T.nextSibling,U=T.nodeName;T[$e]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=D}}if(x===0){o.removeChild(m),Vl(s);return}x--}else l==="$"||l==="$?"||l==="$!"?x++:d=l.charCodeAt(0)-48;else d=0;l=m}while(l);Vl(s)}function yx(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yx(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function lA(o,s,l,d){for(;o.nodeType===1;){var x=l;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[$e])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(m=o.getAttribute("rel"),m==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(m!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(m=o.getAttribute("src"),(m!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&m&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var m=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===m)return o}else return o;if(o=Yr(o.nextSibling),o===null)break}return null}function cA(o,s,l){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Yr(o.nextSibling),o===null))return null;return o}function vx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function uA(o,s){var l=o.ownerDocument;if(o.data!=="$?"||l.readyState==="complete")s();else{var d=function(){s(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function Yr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return o}var bx=null;function kw(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return o;s--}else l==="/$"&&s++}o=o.previousSibling}return null}function Tw(o,s,l){switch(s=td(l),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ll(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);De(o)}var Rr=new Map,_w=new Set;function nd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Po=G.d;G.d={f:dA,r:fA,D:hA,C:pA,L:xA,m:gA,X:yA,S:mA,M:vA};function dA(){var o=Po.f(),s=qu();return o||s}function fA(o){var s=dt(o);s!==null&&s.tag===5&&s.type==="form"?qb(s):Po.r(o)}var fa=typeof document>"u"?null:document;function Nw(o,s,l){var d=fa;if(d&&typeof s=="string"&&s){var x=Cr(s);x='link[rel="'+o+'"][href="'+x+'"]',typeof l=="string"&&(x+='[crossorigin="'+l+'"]'),_w.has(x)||(_w.add(x),o={rel:o,crossOrigin:l,href:s},d.querySelector(x)===null&&(s=d.createElement("link"),An(s,"link",o),ht(s),d.head.appendChild(s)))}}function hA(o){Po.D(o),Nw("dns-prefetch",o,null)}function pA(o,s){Po.C(o,s),Nw("preconnect",o,s)}function xA(o,s,l){Po.L(o,s,l);var d=fa;if(d&&o&&s){var x='link[rel="preload"][as="'+Cr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(x+='[imagesrcset="'+Cr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(x+='[imagesizes="'+Cr(l.imageSizes)+'"]')):x+='[href="'+Cr(o)+'"]';var m=x;switch(s){case"style":m=ha(o);break;case"script":m=pa(o)}Rr.has(m)||(o=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:o,as:s},l),Rr.set(m,o),d.querySelector(x)!==null||s==="style"&&d.querySelector(Il(m))||s==="script"&&d.querySelector($l(m))||(s=d.createElement("link"),An(s,"link",o),ht(s),d.head.appendChild(s)))}}function gA(o,s){Po.m(o,s);var l=fa;if(l&&o){var d=s&&typeof s.as=="string"?s.as:"script",x='link[rel="modulepreload"][as="'+Cr(d)+'"][href="'+Cr(o)+'"]',m=x;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=pa(o)}if(!Rr.has(m)&&(o=p({rel:"modulepreload",href:o},s),Rr.set(m,o),l.querySelector(x)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector($l(m)))return}d=l.createElement("link"),An(d,"link",o),ht(d),l.head.appendChild(d)}}}function mA(o,s,l){Po.S(o,s,l);var d=fa;if(d&&o){var x=Ut(d).hoistableStyles,m=ha(o);s=s||"default";var T=x.get(m);if(!T){var D={loading:0,preload:null};if(T=d.querySelector(Il(m)))D.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":s},l),(l=Rr.get(m))&&wx(o,l);var U=T=d.createElement("link");ht(U),An(U,"link",o),U._p=new Promise(function(ne,he){U.onload=ne,U.onerror=he}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,rd(T,s,d)}T={type:"stylesheet",instance:T,count:1,state:D},x.set(m,T)}}}function yA(o,s){Po.X(o,s);var l=fa;if(l&&o){var d=Ut(l).hoistableScripts,x=pa(o),m=d.get(x);m||(m=l.querySelector($l(x)),m||(o=p({src:o,async:!0},s),(s=Rr.get(x))&&Sx(o,s),m=l.createElement("script"),ht(m),An(m,"link",o),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},d.set(x,m))}}function vA(o,s){Po.M(o,s);var l=fa;if(l&&o){var d=Ut(l).hoistableScripts,x=pa(o),m=d.get(x);m||(m=l.querySelector($l(x)),m||(o=p({src:o,async:!0,type:"module"},s),(s=Rr.get(x))&&Sx(o,s),m=l.createElement("script"),ht(m),An(m,"link",o),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},d.set(x,m))}}function Mw(o,s,l,d){var x=(x=me.current)?nd(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ha(l.href),l=Ut(x).hoistableStyles,d=l.get(s),d||(d={type:"style",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=ha(l.href);var m=Ut(x).hoistableStyles,T=m.get(o);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(o,T),(m=x.querySelector(Il(o)))&&!m._p&&(T.instance=m,T.state.loading=5),Rr.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rr.set(o,l),m||bA(x,o,l,T.state))),s&&d===null)throw Error(r(528,""));return T}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pa(l),l=Ut(x).hoistableScripts,d=l.get(s),d||(d={type:"script",instance:null,count:0,state:null},l.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function ha(o){return'href="'+Cr(o)+'"'}function Il(o){return'link[rel="stylesheet"]['+o+"]"}function Aw(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function bA(o,s,l,d){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=o.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),An(s,"link",l),ht(s),o.head.appendChild(s))}function pa(o){return'[src="'+Cr(o)+'"]'}function $l(o){return"script[async]"+o}function Rw(o,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var d=o.querySelector('style[data-href~="'+Cr(l.href)+'"]');if(d)return s.instance=d,ht(d),d;var x=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),ht(d),An(d,"style",x),rd(d,l.precedence,o),s.instance=d;case"stylesheet":x=ha(l.href);var m=o.querySelector(Il(x));if(m)return s.state.loading|=4,s.instance=m,ht(m),m;d=Aw(l),(x=Rr.get(x))&&wx(d,x),m=(o.ownerDocument||o).createElement("link"),ht(m);var T=m;return T._p=new Promise(function(D,U){T.onload=D,T.onerror=U}),An(m,"link",d),s.state.loading|=4,rd(m,l.precedence,o),s.instance=m;case"script":return m=pa(l.src),(x=o.querySelector($l(m)))?(s.instance=x,ht(x),x):(d=l,(x=Rr.get(m))&&(d=p({},l),Sx(d,x)),o=o.ownerDocument||o,x=o.createElement("script"),ht(x),An(x,"link",d),o.head.appendChild(x),s.instance=x);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,rd(d,l.precedence,o));return s.instance}function rd(o,s,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=d.length?d[d.length-1]:null,m=x,T=0;T<d.length;T++){var D=d[T];if(D.dataset.precedence===s)m=D;else if(m!==x)break}m?m.parentNode.insertBefore(o,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(o,s.firstChild))}function wx(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Sx(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var od=null;function Ow(o,s,l){if(od===null){var d=new Map,x=od=new Map;x.set(l,d)}else x=od,d=x.get(l),d||(d=new Map,x.set(l,d));if(d.has(o))return d;for(d.set(o,null),l=l.getElementsByTagName(o),x=0;x<l.length;x++){var m=l[x];if(!(m[$e]||m[se]||o==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=o+T;var D=d.get(T);D?D.push(m):d.set(T,[m])}}return d}function Bw(o,s,l){o=o.ownerDocument||o,o.head.insertBefore(l,s==="title"?o.querySelector("head > title"):null)}function wA(o,s,l){if(l===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jw(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Pl=null;function SA(){}function EA(o,s,l){if(Pl===null)throw Error(r(475));var d=Pl;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var x=ha(l.href),m=o.querySelector(Il(x));if(m){o=m._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=id.bind(d),o.then(d,d)),s.state.loading|=4,s.instance=m,ht(m);return}m=o.ownerDocument||o,l=Aw(l),(x=Rr.get(x))&&wx(l,x),m=m.createElement("link"),ht(m);var T=m;T._p=new Promise(function(D,U){T.onload=D,T.onerror=U}),An(m,"link",l),s.instance=m}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,o),(o=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=id.bind(d),o.addEventListener("load",s),o.addEventListener("error",s))}}function CA(){if(Pl===null)throw Error(r(475));var o=Pl;return o.stylesheets&&o.count===0&&Ex(o,o.stylesheets),0<o.count?function(s){var l=setTimeout(function(){if(o.stylesheets&&Ex(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=s,function(){o.unsuspend=null,clearTimeout(l)}}:null}function id(){if(this.count--,this.count===0){if(this.stylesheets)Ex(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var sd=null;function Ex(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,sd=new Map,s.forEach(kA,o),sd=null,id.call(o))}function kA(o,s){if(!(s.state.loading&4)){var l=sd.get(o);if(l)var d=l.get(null);else{l=new Map,sd.set(o,l);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<x.length;m++){var T=x[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),d=T)}d&&l.set(null,d)}x=s.instance,T=x.getAttribute("data-precedence"),m=l.get(T)||d,m===d&&l.set(null,x),l.set(T,x),this.count++,d=id.bind(this),x.addEventListener("load",d),x.addEventListener("error",d),m?m.parentNode.insertBefore(x,m.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),s.state.loading|=4}}var zl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function TA(o,s,l,d,x,m,T,D){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=d,this.onUncaughtError=x,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Dw(o,s,l,d,x,m,T,D,U,ne,he,ge){return o=new TA(o,s,l,T,D,U,ne,ge),s=1,m===!0&&(s|=24),m=lr(3,null,null,s),o.current=m,m.stateNode=o,s=op(),s.refCount++,o.pooledCache=s,s.refCount++,m.memoizedState={element:d,isDehydrated:l,cache:s},lp(m),o}function Lw(o){return o?(o=Ys,o):Ys}function Iw(o,s,l,d,x,m){x=Lw(x),d.context===null?d.context=x:d.pendingContext=x,d=ai(s),d.payload={element:l},m=m===void 0?null:m,m!==null&&(d.callback=m),l=li(o,d,s),l!==null&&(hr(l,o,s),gl(l,o,s))}function $w(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function Cx(o,s){$w(o,s),(o=o.alternate)&&$w(o,s)}function Pw(o){if(o.tag===13){var s=Vs(o,67108864);s!==null&&hr(s,o,67108864),Cx(o,67108864)}}var ad=!0;function _A(o,s,l,d){var x=j.T;j.T=null;var m=G.p;try{G.p=2,kx(o,s,l,d)}finally{G.p=m,j.T=x}}function NA(o,s,l,d){var x=j.T;j.T=null;var m=G.p;try{G.p=8,kx(o,s,l,d)}finally{G.p=m,j.T=x}}function kx(o,s,l,d){if(ad){var x=Tx(d);if(x===null)fx(o,s,d,ld,l),Hw(o,d);else if(AA(x,o,s,l,d))d.stopPropagation();else if(Hw(o,d),s&4&&-1<MA.indexOf(o)){for(;x!==null;){var m=dt(x);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ze(m.pendingLanes);if(T!==0){var D=m;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var U=1<<31-_t(T);D.entanglements[1]|=U,T&=~U}ao(m),(kt&6)===0&&(Yu=_e()+500,Bl(0))}}break;case 13:D=Vs(m,2),D!==null&&hr(D,m,2),qu(),Cx(m,2)}if(m=Tx(d),m===null&&fx(o,s,d,ld,l),m===x)break;x=m}x!==null&&d.stopPropagation()}else fx(o,s,d,null,l)}}function Tx(o){return o=Rh(o),_x(o)}var ld=null;function _x(o){if(ld=null,o=Ye(o),o!==null){var s=a(o);if(s===null)o=null;else{var l=s.tag;if(l===13){if(o=c(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return ld=o,null}function zw(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case ze:return 2;case ft:return 8;case it:case Oe:return 32;case tn:return 268435456;default:return 32}default:return 32}}var Nx=!1,wi=null,Si=null,Ei=null,Hl=new Map,Ul=new Map,Ci=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hw(o,s){switch(o){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(s.pointerId)}}function Fl(o,s,l,d,x,m){return o===null||o.nativeEvent!==m?(o={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:m,targetContainers:[x]},s!==null&&(s=dt(s),s!==null&&Pw(s)),o):(o.eventSystemFlags|=d,s=o.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),o)}function AA(o,s,l,d,x){switch(s){case"focusin":return wi=Fl(wi,o,s,l,d,x),!0;case"dragenter":return Si=Fl(Si,o,s,l,d,x),!0;case"mouseover":return Ei=Fl(Ei,o,s,l,d,x),!0;case"pointerover":var m=x.pointerId;return Hl.set(m,Fl(Hl.get(m)||null,o,s,l,d,x)),!0;case"gotpointercapture":return m=x.pointerId,Ul.set(m,Fl(Ul.get(m)||null,o,s,l,d,x)),!0}return!1}function Uw(o){var s=Ye(o.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){o.blockedOn=s,z(o.priority,function(){if(l.tag===13){var d=fr();d=Er(d);var x=Vs(l,d);x!==null&&hr(x,l,d),Cx(l,d)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cd(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=Tx(o.nativeEvent);if(l===null){l=o.nativeEvent;var d=new l.constructor(l.type,l);Ah=d,l.target.dispatchEvent(d),Ah=null}else return s=dt(l),s!==null&&Pw(s),o.blockedOn=l,!1;s.shift()}return!0}function Fw(o,s,l){cd(o)&&l.delete(s)}function RA(){Nx=!1,wi!==null&&cd(wi)&&(wi=null),Si!==null&&cd(Si)&&(Si=null),Ei!==null&&cd(Ei)&&(Ei=null),Hl.forEach(Fw),Ul.forEach(Fw)}function ud(o,s){o.blockedOn===s&&(o.blockedOn=null,Nx||(Nx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RA)))}var dd=null;function Vw(o){dd!==o&&(dd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dd===o&&(dd=null);for(var s=0;s<o.length;s+=3){var l=o[s],d=o[s+1],x=o[s+2];if(typeof d!="function"){if(_x(d||l)===null)continue;break}var m=dt(l);m!==null&&(o.splice(s,3),s-=3,_p(m,{pending:!0,data:x,method:l.method,action:d},d,x))}}))}function Vl(o){function s(U){return ud(U,o)}wi!==null&&ud(wi,o),Si!==null&&ud(Si,o),Ei!==null&&ud(Ei,o),Hl.forEach(s),Ul.forEach(s);for(var l=0;l<Ci.length;l++){var d=Ci[l];d.blockedOn===o&&(d.blockedOn=null)}for(;0<Ci.length&&(l=Ci[0],l.blockedOn===null);)Uw(l),l.blockedOn===null&&Ci.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var x=l[d],m=l[d+1],T=x[fe]||null;if(typeof m=="function")T||Vw(l);else if(T){var D=null;if(m&&m.hasAttribute("formAction")){if(x=m,T=m[fe]||null)D=T.formAction;else if(_x(x)!==null)continue}else D=T.action;typeof D=="function"?l[d+1]=D:(l.splice(d,3),d-=3),Vw(l)}}}function Mx(o){this._internalRoot=o}fd.prototype.render=Mx.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,d=fr();Iw(l,d,o,s,null,null)},fd.prototype.unmount=Mx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Iw(o.current,2,null,o,null,null),qu(),s[Ee]=null}};function fd(o){this._internalRoot=o}fd.prototype.unstable_scheduleHydration=function(o){if(o){var s=q();o={blockedOn:null,target:o,priority:s};for(var l=0;l<Ci.length&&s!==0&&s<Ci[l].priority;l++);Ci.splice(l,0,o),l===0&&Uw(o)}};var Yw=t.version;if(Yw!=="19.1.0")throw Error(r(527,Yw,"19.1.0"));G.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var OA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Ct=hd.inject(OA),ut=hd}catch{}}return ql.createRoot=function(o,s){if(!i(o))throw Error(r(299));var l=!1,d="",x=a1,m=l1,T=c1,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=Dw(o,1,!1,null,null,l,d,x,m,T,D,null),o[Ee]=s.current,dx(o),new Mx(s)},ql.hydrateRoot=function(o,s,l){if(!i(o))throw Error(r(299));var d=!1,x="",m=a1,T=l1,D=c1,U=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),s=Dw(o,1,!0,s,l??null,d,x,m,T,D,U,ne),s.context=Lw(null),l=s.current,d=fr(),d=Er(d),x=ai(d),x.callback=null,li(l,x,d),l=d,s.current.lanes=l,Un(s,l),ao(s),o[Ee]=s.current,dx(o),new fd(s)},ql.version="19.1.0",ql}var nS;function VA(){if(nS)return Ox.exports;nS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ox.exports=FA(),Ox.exports}var YA=VA(),Xl={},rS;function GA(){if(rS)return Xl;rS=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=c,Xl.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,b){const w=new a,S=y.length;if(S<2)return w;const k=(b==null?void 0:b.decode)||p;let C=0;do{const R=y.indexOf("=",C);if(R===-1)break;const O=y.indexOf(";",C),M=O===-1?S:O;if(R>M){C=y.lastIndexOf(";",R-1)+1;continue}const A=u(y,C,R),N=f(y,R,A),P=y.slice(A,N);if(w[P]===void 0){let $=u(y,R+1,M),I=f(y,M,$);const _=k(y.slice($,I));w[P]=_}C=M+1}while(C<S);return w}function u(y,b,w){do{const S=y.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<w);return w}function f(y,b,w){for(;b>w;){const S=y.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return w}function h(y,b,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const k=S(b);if(!t.test(k))throw new TypeError(`argument val is invalid: ${b}`);let C=y+"="+k;if(!w)return C;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);C+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);C+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);C+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);C+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(C+="; HttpOnly"),w.secure&&(C+="; Secure"),w.partitioned&&(C+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return C}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return i.call(y)==="[object Date]"}return Xl}GA();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LC=e=>{throw TypeError(e)},qA=(e,t,n)=>t.has(e)||LC("Cannot "+n),Lx=(e,t,n)=>(qA(e,t,"read from private field"),n?n.call(e):t.get(e)),XA=(e,t,n)=>t.has(e)?LC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oS="popstate";function KA(e={}){function t(i,a){let{pathname:c="/",search:u="",hash:f=""}=ni(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Tc("",{pathname:c,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof a=="string"?a:$i(a))}function r(i,a){sn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return WA(t,n,r,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZA(){return Math.random().toString(36).substring(2,10)}function iS(e,t){return{usr:e.state,key:e.key,idx:t}}function Tc(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ni(t):t,state:n,key:t&&t.key||r||ZA()}}function $i({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ni(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function WA(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,u="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let k=p(),C=k==null?null:k-h;h=k,f&&f({action:u,location:S.location,delta:C})}function y(k,C){u="PUSH";let R=Tc(S.location,k,C);n&&n(R,k),h=p()+1;let O=iS(R,h),M=S.createHref(R);try{c.pushState(O,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(M)}a&&f&&f({action:u,location:S.location,delta:1})}function b(k,C){u="REPLACE";let R=Tc(S.location,k,C);n&&n(R,k),h=p();let O=iS(R,h),M=S.createHref(R);c.replaceState(O,"",M),a&&f&&f({action:u,location:S.location,delta:0})}function w(k){return IC(k)}let S={get action(){return u},get location(){return e(i,c)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(oS,g),f=k,()=>{i.removeEventListener(oS,g),f=null}},createHref(k){return t(i,k)},createURL:w,encodeLocation(k){let C=w(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:b,go(k){return c.go(k)}};return S}function IC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:$i(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var fc,sS=class{constructor(e){if(XA(this,fc,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Lx(this,fc).has(e))return Lx(this,fc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Lx(this,fc).set(e,t)}};fc=new WeakMap;var QA=new Set(["lazy","caseSensitive","path","id","index","children"]);function JA(e){return QA.has(e)}var eR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function tR(e){return eR.has(e)}function nR(e){return e.index===!0}function sf(e,t,n=[],r={}){return e.map((i,a)=>{let c=[...n,String(a)],u=typeof i.id=="string"?i.id:c.join("-");if(ct(i.index!==!0||!i.children,"Cannot specify children on an index route"),ct(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),nR(i)){let f={...i,...t(i),id:u};return r[u]=f,f}else{let f={...i,...t(i),id:u,children:void 0};return r[u]=f,i.children&&(f.children=sf(i.children,t,c,r)),f}})}function Bi(e,t,n="/"){return Id(e,t,n,!1)}function Id(e,t,n,r){let i=typeof t=="string"?ni(t):t,a=Pr(i.pathname||"/",n);if(a==null)return null;let c=$C(e);oR(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=xR(a);u=hR(c[f],h,r)}return u}function rR(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function $C(e,t=[],n=[],r=""){let i=(a,c,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=yo([r,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),$C(a.children,t,p,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:dR(h,a.index),routesMeta:p})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let f of PC(a.path))i(a,c,f)}),t}function PC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=PC(r.join("/")),u=[];return u.push(...c.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function oR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iR=/^:[\w-]+$/,sR=3,aR=2,lR=1,cR=10,uR=-2,aS=e=>e==="*";function dR(e,t){let n=e.split("/"),r=n.length;return n.some(aS)&&(r+=uR),t&&(r+=aR),n.filter(i=>!aS(i)).reduce((i,a)=>i+(iR.test(a)?sR:a===""?lR:cR),r)}function fR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function hR(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",g=af({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=af({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:yo([a,g.pathname]),pathnameBase:yR(yo([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=yo([a,g.pathnameBase]))}return c}function af(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pR(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let w=u[y]||"";c=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function pR(e,t=!1,n=!0){sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function xR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gR(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ni(e):e;return{pathname:n?n.startsWith("/")?n:mR(n,t):t,search:vR(r),hash:bR(i)}}function mR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ix(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nm(e){let t=zC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Mm(e,t,n,r=!1){let i;typeof e=="string"?i=ni(e):(i={...e},ct(!i.pathname||!i.pathname.includes("?"),Ix("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Ix("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Ix("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,u;if(c==null)u=n;else{let g=t.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?t[g]:"/"}let f=gR(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var yo=e=>e.join("/").replace(/\/\/+/g,"/"),yR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,lf=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _c(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var HC=["POST","PUT","PATCH","DELETE"],wR=new Set(HC),SR=["GET",...HC],ER=new Set(SR),CR=new Set([301,302,303,307,308]),kR=new Set([307,308]),$x={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Am=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_R=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),UC="remix-router-transitions",FC=Symbol("ResetLoaderData");function NR(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";ct(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||_R,a={},c=sf(e.routes,i,void 0,a),u,f=e.basename||"/",h=e.dataStrategy||BR,p={unstable_middleware:!1,...e.future},g=null,y=new Set,b=null,w=null,S=null,k=e.hydrationData!=null,C=Bi(c,e.history.location,f),R=!1,O=null,M;if(C==null&&!e.patchRoutesOnNavigation){let q=Br(404,{pathname:e.history.location.pathname}),{matches:z,route:X}=vS(c);M=!0,C=z,O={[X.id]:q}}else if(C&&!e.hydrationData&&fn(C,c,e.history.location.pathname).active&&(C=null),C)if(C.some(q=>q.route.lazy))M=!1;else if(!C.some(q=>q.route.loader))M=!0;else{let q=e.hydrationData?e.hydrationData.loaderData:null,z=e.hydrationData?e.hydrationData.errors:null;if(z){let X=C.findIndex(se=>z[se.route.id]!==void 0);M=C.slice(0,X+1).every(se=>!Rg(se.route,q,z))}else M=C.every(X=>!Rg(X.route,q,z))}else{M=!1,C=[];let q=fn(null,c,e.history.location.pathname);q.active&&q.matches&&(R=!0,C=q.matches)}let A,N={historyAction:e.history.action,location:e.history.location,matches:C,initialized:M,navigation:$x,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},P="POP",$=!1,I,_=!1,F=new Map,ee=null,K=!1,L=!1,Y=new Set,j=new Map,G=0,Q=-1,V=new Map,B=new Set,H=new Map,W=new Map,re=new Set,ae=new Map,ye,me=null;function Ne(){if(g=e.history.listen(({action:q,location:z,delta:X})=>{if(ye){ye(),ye=void 0;return}sn(ae.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=Cn({currentLocation:N.location,nextLocation:z,historyAction:q});if(se&&X!=null){let fe=new Promise(Ee=>{ye=Ee});e.history.go(X*-1),yt(se,{state:"blocked",location:z,proceed(){yt(se,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),fe.then(()=>e.history.go(X))},reset(){let Ee=new Map(N.blockers);Ee.set(se,Kl),Ce({blockers:Ee})}});return}return Be(q,z)}),n){VR(t,F);let q=()=>YR(t,F);t.addEventListener("pagehide",q),ee=()=>t.removeEventListener("pagehide",q)}return N.initialized||Be("POP",N.location,{initialHydration:!0}),A}function ue(){g&&g(),ee&&ee(),y.clear(),I&&I.abort(),N.fetchers.forEach((q,z)=>_t(z)),N.blockers.forEach((q,z)=>Ht(z))}function be(q){return y.add(q),()=>y.delete(q)}function Ce(q,z={}){N={...N,...q};let X=[],se=[];N.fetchers.forEach((fe,Ee)=>{fe.state==="idle"&&(re.has(Ee)?X.push(Ee):se.push(Ee))}),re.forEach(fe=>{!N.fetchers.has(fe)&&!j.has(fe)&&X.push(fe)}),[...y].forEach(fe=>fe(N,{deletedFetchers:X,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),X.forEach(fe=>_t(fe)),se.forEach(fe=>N.fetchers.delete(fe))}function Ue(q,z,{flushSync:X}={}){var je,$e;let se=N.actionData!=null&&N.navigation.formMethod!=null&&gr(N.navigation.formMethod)&&N.navigation.state==="loading"&&((je=q.state)==null?void 0:je._isRedirect)!==!0,fe;z.actionData?Object.keys(z.actionData).length>0?fe=z.actionData:fe=null:se?fe=N.actionData:fe=null;let Ee=z.loaderData?mS(N.loaderData,z.loaderData,z.matches||[],z.errors):N.loaderData,Me=N.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((De,Ye)=>Me.set(Ye,Kl)));let ke=$===!0||N.navigation.formMethod!=null&&gr(N.navigation.formMethod)&&(($e=q.state)==null?void 0:$e._isRedirect)!==!0;u&&(c=u,u=void 0),K||P==="POP"||(P==="PUSH"?e.history.push(q,q.state):P==="REPLACE"&&e.history.replace(q,q.state));let Re;if(P==="POP"){let De=F.get(N.location.pathname);De&&De.has(q.pathname)?Re={currentLocation:N.location,nextLocation:q}:F.has(q.pathname)&&(Re={currentLocation:q,nextLocation:N.location})}else if(_){let De=F.get(N.location.pathname);De?De.add(q.pathname):(De=new Set([q.pathname]),F.set(N.location.pathname,De)),Re={currentLocation:N.location,nextLocation:q}}Ce({...z,actionData:fe,loaderData:Ee,historyAction:P,location:q,initialized:!0,navigation:$x,revalidation:"idle",restoreScrollPosition:Fn(q,z.matches||N.matches),preventScrollReset:ke,blockers:Me},{viewTransitionOpts:Re,flushSync:X===!0}),P="POP",$=!1,_=!1,K=!1,L=!1,me==null||me.resolve(),me=null}async function Te(q,z){if(typeof q=="number"){e.history.go(q);return}let X=Ag(N.location,N.matches,f,q,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:se,submission:fe,error:Ee}=lS(!1,X,z),Me=N.location,ke=Tc(N.location,se,z&&z.state);ke={...ke,...e.history.encodeLocation(ke)};let Re=z&&z.replace!=null?z.replace:void 0,je="PUSH";Re===!0?je="REPLACE":Re===!1||fe!=null&&gr(fe.formMethod)&&fe.formAction===N.location.pathname+N.location.search&&(je="REPLACE");let $e=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,De=(z&&z.flushSync)===!0,Ye=Cn({currentLocation:Me,nextLocation:ke,historyAction:je});if(Ye){yt(Ye,{state:"blocked",location:ke,proceed(){yt(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),Te(q,z)},reset(){let dt=new Map(N.blockers);dt.set(Ye,Kl),Ce({blockers:dt})}});return}await Be(je,ke,{submission:fe,pendingError:Ee,preventScrollReset:$e,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:De})}function Ke(){me||(me=GR()),En(),Ce({revalidation:"loading"});let q=me.promise;return N.navigation.state==="submitting"?q:N.navigation.state==="idle"?(Be(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),q):(Be(P||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:_===!0}),q)}async function Be(q,z,X){I&&I.abort(),I=null,P=q,K=(X&&X.startUninterruptedRevalidation)===!0,Un(N.location,N.matches),$=(X&&X.preventScrollReset)===!0,_=(X&&X.enableViewTransition)===!0;let se=u||c,fe=X&&X.overrideNavigation,Ee=X!=null&&X.initialHydration&&N.matches&&N.matches.length>0&&!R?N.matches:Bi(se,z,f),Me=(X&&X.flushSync)===!0;if(Ee&&N.initialized&&!L&&PR(N.location,z)&&!(X&&X.submission&&gr(X.submission.formMethod))){Ue(z,{matches:Ee},{flushSync:Me});return}let ke=fn(Ee,se,z.pathname);if(ke.active&&ke.matches&&(Ee=ke.matches),!Ee){let{error:Ut,notFoundMatches:ht,route:st}=kn(z.pathname);Ue(z,{matches:ht,loaderData:{},errors:{[st.id]:Ut}},{flushSync:Me});return}I=new AbortController;let Re=_a(e.history,z,I.signal,X&&X.submission),je=new sS(e.unstable_getContext?await e.unstable_getContext():void 0),$e;if(X&&X.pendingError)$e=[fs(Ee).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&gr(X.submission.formMethod)){let Ut=await Fe(Re,z,X.submission,Ee,je,ke.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:Me});if(Ut.shortCircuited)return;if(Ut.pendingActionResult){let[ht,st]=Ut.pendingActionResult;if(xr(st)&&_c(st.error)&&st.error.status===404){I=null,Ue(z,{matches:Ut.matches,loaderData:{},errors:{[ht]:st.error}});return}}Ee=Ut.matches||Ee,$e=Ut.pendingActionResult,fe=Px(z,X.submission),Me=!1,ke.active=!1,Re=_a(e.history,Re.url,Re.signal)}let{shortCircuited:De,matches:Ye,loaderData:dt,errors:jt}=await Ve(Re,z,Ee,je,ke.active,fe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Me,$e);De||(I=null,Ue(z,{matches:Ye||Ee,...yS($e),loaderData:dt,errors:jt}))}async function Fe(q,z,X,se,fe,Ee,Me,ke={}){En();let Re=UR(z,X);if(Ce({navigation:Re},{flushSync:ke.flushSync===!0}),Ee){let De=await hn(se,z.pathname,q.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let Ye=fs(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[Ye,{type:"error",error:De.error}]}}else if(De.matches)se=De.matches;else{let{notFoundMatches:Ye,error:dt,route:jt}=kn(z.pathname);return{matches:Ye,pendingActionResult:[jt.id,{type:"error",error:dt}]}}}let je,$e=hc(se,z);if(!$e.route.action&&!$e.route.lazy)je={type:"error",error:Br(405,{method:q.method,pathname:z.pathname,routeId:$e.route.id})};else{let De=ja(i,a,q,se,$e,Me?[]:r,fe),Ye=await tn(q,De,fe,null);if(je=Ye[$e.route.id],!je){for(let dt of se)if(Ye[dt.route.id]){je=Ye[dt.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(hs(je)){let De;return ke&&ke.replace!=null?De=ke.replace:De=pS(je.response.headers.get("Location"),new URL(q.url),f)===N.location.pathname+N.location.search,await Oe(q,je,!0,{submission:X,replace:De}),{shortCircuited:!0}}if(xr(je)){let De=fs(se,$e.route.id);return(ke&&ke.replace)!==!0&&(P="PUSH"),{matches:se,pendingActionResult:[De.route.id,je,$e.route.id]}}return{matches:se,pendingActionResult:[$e.route.id,je]}}async function Ve(q,z,X,se,fe,Ee,Me,ke,Re,je,$e,De){let Ye=Ee||Px(z,Me),dt=Me||ke||wS(Ye),jt=!K&&!je;if(fe){if(jt){let pn=_e(De);Ce({navigation:Ye,...pn!==void 0?{actionData:pn}:{}},{flushSync:$e})}let tt=await hn(X,z.pathname,q.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let pn=fs(tt.partialMatches).route.id;return{matches:tt.partialMatches,loaderData:{},errors:{[pn]:tt.error}}}else if(tt.matches)X=tt.matches;else{let{error:pn,notFoundMatches:ir,route:sr}=kn(z.pathname);return{matches:ir,loaderData:{},errors:{[sr.id]:pn}}}}let Ut=u||c,{dsMatches:ht,revalidatingFetchers:st}=cS(q,se,i,a,e.history,N,X,dt,z,je?[]:r,je===!0,L,Y,re,H,B,Ut,f,De);if(Q=++G,!e.dataStrategy&&!ht.some(tt=>tt.shouldLoad)&&st.length===0){let tt=ve();return Ue(z,{matches:X,loaderData:{},errors:De&&xr(De[1])?{[De[0]]:De[1].error}:null,...yS(De),...tt?{fetchers:new Map(N.fetchers)}:{}},{flushSync:$e}),{shortCircuited:!0}}if(jt){let tt={};if(!fe){tt.navigation=Ye;let pn=_e(De);pn!==void 0&&(tt.actionData=pn)}st.length>0&&(tt.fetchers=Se(st)),Ce(tt,{flushSync:$e})}st.forEach(tt=>{mt(tt.key),tt.controller&&j.set(tt.key,tt.controller)});let eo=()=>st.forEach(tt=>mt(tt.key));I&&I.signal.addEventListener("abort",eo);let{loaderResults:Tn,fetcherResults:Kn}=await ln(ht,st,q,se);if(q.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",eo),st.forEach(tt=>j.delete(tt.key));let _n=pd(Tn);if(_n)return await Oe(q,_n.result,!0,{replace:Re}),{shortCircuited:!0};if(_n=pd(Kn),_n)return B.add(_n.key),await Oe(q,_n.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:to,errors:no}=gS(N,X,Tn,De,st,Kn);je&&N.errors&&(no={...N.errors,...no});let qi=ve(),Zn=Ie(Q),Ur=qi||Zn||st.length>0;return{matches:X,loaderData:to,errors:no,...Ur?{fetchers:new Map(N.fetchers)}:{}}}function _e(q){if(q&&!xr(q[1]))return{[q[0]]:q[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Se(q){return q.forEach(z=>{let X=N.fetchers.get(z.key),se=Zl(void 0,X?X.data:void 0);N.fetchers.set(z.key,se)}),new Map(N.fetchers)}async function ze(q,z,X,se){mt(q);let fe=(se&&se.flushSync)===!0,Ee=u||c,Me=Ag(N.location,N.matches,f,X,z,se==null?void 0:se.relative),ke=Bi(Ee,Me,f),Re=fn(ke,Ee,Me);if(Re.active&&Re.matches&&(ke=Re.matches),!ke){ut(q,z,Br(404,{pathname:Me}),{flushSync:fe});return}let{path:je,submission:$e,error:De}=lS(!0,Me,se);if(De){ut(q,z,De,{flushSync:fe});return}let Ye=hc(ke,je),dt=new sS(e.unstable_getContext?await e.unstable_getContext():void 0),jt=(se&&se.preventScrollReset)===!0;if($e&&gr($e.formMethod)){await ft(q,z,je,Ye,ke,dt,Re.active,fe,jt,$e);return}H.set(q,{routeId:z,path:je}),await it(q,z,je,Ye,ke,dt,Re.active,fe,jt,$e)}async function ft(q,z,X,se,fe,Ee,Me,ke,Re,je){En(),H.delete(q);function $e(Nt){if(!Nt.route.action&&!Nt.route.lazy){let ri=Br(405,{method:je.formMethod,pathname:X,routeId:z});return ut(q,z,ri,{flushSync:ke}),!0}return!1}if(!Me&&$e(se))return;let De=N.fetchers.get(q);Ct(q,FR(je,De),{flushSync:ke});let Ye=new AbortController,dt=_a(e.history,X,Ye.signal,je);if(Me){let Nt=await hn(fe,X,dt.signal,q);if(Nt.type==="aborted")return;if(Nt.type==="error"){ut(q,z,Nt.error,{flushSync:ke});return}else if(Nt.matches){if(fe=Nt.matches,se=hc(fe,X),$e(se))return}else{ut(q,z,Br(404,{pathname:X}),{flushSync:ke});return}}j.set(q,Ye);let jt=G,Ut=ja(i,a,dt,fe,se,r,Ee),st=(await tn(dt,Ut,Ee,q))[se.route.id];if(dt.signal.aborted){j.get(q)===Ye&&j.delete(q);return}if(re.has(q)){if(hs(st)||xr(st)){Ct(q,_i(void 0));return}}else{if(hs(st))if(j.delete(q),Q>jt){Ct(q,_i(void 0));return}else return B.add(q),Ct(q,Zl(je)),Oe(dt,st,!1,{fetcherSubmission:je,preventScrollReset:Re});if(xr(st)){ut(q,z,st.error);return}}let eo=N.navigation.location||N.location,Tn=_a(e.history,eo,Ye.signal),Kn=u||c,_n=N.navigation.state!=="idle"?Bi(Kn,N.navigation.location,f):N.matches;ct(_n,"Didn't find any matches after fetcher action");let to=++G;V.set(q,to);let no=Zl(je,st.data);N.fetchers.set(q,no);let{dsMatches:qi,revalidatingFetchers:Zn}=cS(Tn,Ee,i,a,e.history,N,_n,je,eo,r,!1,L,Y,re,H,B,Kn,f,[se.route.id,st]);Zn.filter(Nt=>Nt.key!==q).forEach(Nt=>{let ri=Nt.key,Qa=N.fetchers.get(ri),Wn=Zl(void 0,Qa?Qa.data:void 0);N.fetchers.set(ri,Wn),mt(ri),Nt.controller&&j.set(ri,Nt.controller)}),Ce({fetchers:new Map(N.fetchers)});let Ur=()=>Zn.forEach(Nt=>mt(Nt.key));Ye.signal.addEventListener("abort",Ur);let{loaderResults:tt,fetcherResults:pn}=await ln(qi,Zn,Tn,Ee);if(Ye.signal.aborted)return;if(Ye.signal.removeEventListener("abort",Ur),V.delete(q),j.delete(q),Zn.forEach(Nt=>j.delete(Nt.key)),N.fetchers.has(q)){let Nt=_i(st.data);N.fetchers.set(q,Nt)}let ir=pd(tt);if(ir)return Oe(Tn,ir.result,!1,{preventScrollReset:Re});if(ir=pd(pn),ir)return B.add(ir.key),Oe(Tn,ir.result,!1,{preventScrollReset:Re});let{loaderData:sr,errors:ko}=gS(N,_n,tt,void 0,Zn,pn);Ie(to),N.navigation.state==="loading"&&to>Q?(ct(P,"Expected pending action"),I&&I.abort(),Ue(N.navigation.location,{matches:_n,loaderData:sr,errors:ko,fetchers:new Map(N.fetchers)})):(Ce({errors:ko,loaderData:mS(N.loaderData,sr,_n,ko),fetchers:new Map(N.fetchers)}),L=!1)}async function it(q,z,X,se,fe,Ee,Me,ke,Re,je){let $e=N.fetchers.get(q);Ct(q,Zl(je,$e?$e.data:void 0),{flushSync:ke});let De=new AbortController,Ye=_a(e.history,X,De.signal);if(Me){let st=await hn(fe,X,Ye.signal,q);if(st.type==="aborted")return;if(st.type==="error"){ut(q,z,st.error,{flushSync:ke});return}else if(st.matches)fe=st.matches,se=hc(fe,X);else{ut(q,z,Br(404,{pathname:X}),{flushSync:ke});return}}j.set(q,De);let dt=G,jt=ja(i,a,Ye,fe,se,r,Ee),ht=(await tn(Ye,jt,Ee,q))[se.route.id];if(j.get(q)===De&&j.delete(q),!Ye.signal.aborted){if(re.has(q)){Ct(q,_i(void 0));return}if(hs(ht))if(Q>dt){Ct(q,_i(void 0));return}else{B.add(q),await Oe(Ye,ht,!1,{preventScrollReset:Re});return}if(xr(ht)){ut(q,z,ht.error);return}Ct(q,_i(ht.data))}}async function Oe(q,z,X,{submission:se,fetcherSubmission:fe,preventScrollReset:Ee,replace:Me}={}){z.response.headers.has("X-Remix-Revalidate")&&(L=!0);let ke=z.response.headers.get("Location");ct(ke,"Expected a Location header on the redirect Response"),ke=pS(ke,new URL(q.url),f);let Re=Tc(N.location,ke,{_isRedirect:!0});if(n){let jt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))jt=!0;else if(Am.test(ke)){const Ut=IC(ke,!0);jt=Ut.origin!==t.location.origin||Pr(Ut.pathname,f)==null}if(jt){Me?t.location.replace(ke):t.location.assign(ke);return}}I=null;let je=Me===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:$e,formAction:De,formEncType:Ye}=N.navigation;!se&&!fe&&$e&&De&&Ye&&(se=wS(N.navigation));let dt=se||fe;if(kR.has(z.response.status)&&dt&&gr(dt.formMethod))await Be(je,Re,{submission:{...dt,formAction:ke},preventScrollReset:Ee||$,enableViewTransition:X?_:void 0});else{let jt=Px(Re,se);await Be(je,Re,{overrideNavigation:jt,fetcherSubmission:fe,preventScrollReset:Ee||$,enableViewTransition:X?_:void 0})}}async function tn(q,z,X,se){let fe,Ee={};try{fe=await jR(h,q,z,se,X,!1)}catch(Me){return z.filter(ke=>ke.shouldLoad).forEach(ke=>{Ee[ke.route.id]={type:"error",error:Me}}),Ee}if(q.signal.aborted)return Ee;for(let[Me,ke]of Object.entries(fe))if(zR(ke)){let Re=ke.result;Ee[Me]={type:"redirect",response:IR(Re,q,Me,z,f)}}else Ee[Me]=await LR(ke);return Ee}async function ln(q,z,X,se){let fe=tn(X,q,se,null),Ee=Promise.all(z.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let $e=(await tn(Re.request,Re.matches,se,Re.key))[Re.match.route.id];return{[Re.key]:$e}}else return Promise.resolve({[Re.key]:{type:"error",error:Br(404,{pathname:Re.path})}})})),Me=await fe,ke=(await Ee).reduce((Re,je)=>Object.assign(Re,je),{});return{loaderResults:Me,fetcherResults:ke}}function En(){L=!0,H.forEach((q,z)=>{j.has(z)&&Y.add(z),mt(z)})}function Ct(q,z,X={}){N.fetchers.set(q,z),Ce({fetchers:new Map(N.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ut(q,z,X,se={}){let fe=fs(N.matches,z);_t(q),Ce({errors:{[fe.route.id]:X},fetchers:new Map(N.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Bt(q){return W.set(q,(W.get(q)||0)+1),re.has(q)&&re.delete(q),N.fetchers.get(q)||TR}function _t(q){let z=N.fetchers.get(q);j.has(q)&&!(z&&z.state==="loading"&&V.has(q))&&mt(q),H.delete(q),V.delete(q),B.delete(q),re.delete(q),Y.delete(q),N.fetchers.delete(q)}function jn(q){let z=(W.get(q)||0)-1;z<=0?(W.delete(q),re.add(q)):W.set(q,z),Ce({fetchers:new Map(N.fetchers)})}function mt(q){let z=j.get(q);z&&(z.abort(),j.delete(q))}function ce(q){for(let z of q){let X=Bt(z),se=_i(X.data);N.fetchers.set(z,se)}}function ve(){let q=[],z=!1;for(let X of B){let se=N.fetchers.get(X);ct(se,`Expected fetcher: ${X}`),se.state==="loading"&&(B.delete(X),q.push(X),z=!0)}return ce(q),z}function Ie(q){let z=[];for(let[X,se]of V)if(se<q){let fe=N.fetchers.get(X);ct(fe,`Expected fetcher: ${X}`),fe.state==="loading"&&(mt(X),V.delete(X),z.push(X))}return ce(z),z.length>0}function Ze(q,z){let X=N.blockers.get(q)||Kl;return ae.get(q)!==z&&ae.set(q,z),X}function Ht(q){N.blockers.delete(q),ae.delete(q)}function yt(q,z){let X=N.blockers.get(q)||Kl;ct(X.state==="unblocked"&&z.state==="blocked"||X.state==="blocked"&&z.state==="blocked"||X.state==="blocked"&&z.state==="proceeding"||X.state==="blocked"&&z.state==="unblocked"||X.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${z.state}`);let se=new Map(N.blockers);se.set(q,z),Ce({blockers:se})}function Cn({currentLocation:q,nextLocation:z,historyAction:X}){if(ae.size===0)return;ae.size>1&&sn(!1,"A router only supports one blocker at a time");let se=Array.from(ae.entries()),[fe,Ee]=se[se.length-1],Me=N.blockers.get(fe);if(!(Me&&Me.state==="proceeding")&&Ee({currentLocation:q,nextLocation:z,historyAction:X}))return fe}function kn(q){let z=Br(404,{pathname:q}),X=u||c,{matches:se,route:fe}=vS(X);return{notFoundMatches:se,route:fe,error:z}}function Dn(q,z,X){if(b=q,S=z,w=X||null,!k&&N.navigation===$x){k=!0;let se=Fn(N.location,N.matches);se!=null&&Ce({restoreScrollPosition:se})}return()=>{b=null,S=null,w=null}}function Hn(q,z){return w&&w(q,z.map(se=>rR(se,N.loaderData)))||q.key}function Un(q,z){if(b&&S){let X=Hn(q,z);b[X]=S()}}function Fn(q,z){if(b){let X=Hn(q,z),se=b[X];if(typeof se=="number")return se}return null}function fn(q,z,X){if(e.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Id(z,X,f,!0)}}else return{active:!0,matches:Id(z,X,f,!0)||[]};return{active:!1,matches:null}}async function hn(q,z,X,se){if(!e.patchRoutesOnNavigation)return{type:"success",matches:q};let fe=q;for(;;){let Ee=u==null,Me=u||c,ke=a;try{await e.patchRoutesOnNavigation({signal:X,path:z,matches:fe,fetcherKey:se,patch:($e,De)=>{X.aborted||uS($e,De,Me,ke,i)}})}catch($e){return{type:"error",error:$e,partialMatches:fe}}finally{Ee&&!X.aborted&&(c=[...c])}if(X.aborted)return{type:"aborted"};let Re=Bi(Me,z,f);if(Re)return{type:"success",matches:Re};let je=Id(Me,z,f,!0);if(!je||fe.length===je.length&&fe.every(($e,De)=>$e.route.id===je[De].route.id))return{type:"success",matches:null};fe=je}}function Er(q){a={},u=sf(q,i,void 0,a)}function Co(q,z){let X=u==null;uS(q,z,u||c,a,i),X&&(c=[...c],Ce({}))}return A={get basename(){return f},get future(){return p},get state(){return N},get routes(){return c},get window(){return t},initialize:Ne,subscribe:be,enableScrollRestoration:Dn,navigate:Te,fetch:ze,revalidate:Ke,createHref:q=>e.history.createHref(q),encodeLocation:q=>e.history.encodeLocation(q),getFetcher:Bt,deleteFetcher:jn,dispose:ue,getBlocker:Ze,deleteBlocker:Ht,patchRoutes:Co,_internalFetchControllers:j,_internalSetRoutes:Er},A}function MR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ag(e,t,n,r,i,a){let c,u;if(i){c=[];for(let h of t)if(c.push(h),h.route.id===i){u=h;break}}else c=t,u=t[t.length-1];let f=Mm(r||".",Nm(c),Pr(e.pathname,n)||e.pathname,a==="path");if(r==null&&(f.search=e.search,f.hash=e.hash),(r==null||r===""||r===".")&&u){let h=Rm(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(f.search),g=p.getAll("index");p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();f.search=y?`?${y}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:yo([n,f.pathname])),$i(f)}function lS(e,t,n){if(!n||!MR(n))return{path:t};if(n.formMethod&&!HR(n.formMethod))return{path:t,error:Br(405,{method:n.formMethod})};let r=()=>({path:t,error:Br(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),c=KC(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!gr(a))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[b,w])=>`${y}${b}=${w}
`,""):String(n.body);return{path:t,submission:{formMethod:a,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!gr(a))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:c,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let u,f;if(n.formData)u=Bg(n.formData),f=n.formData;else if(n.body instanceof FormData)u=Bg(n.body),f=n.body;else if(n.body instanceof URLSearchParams)u=n.body,f=xS(u);else if(n.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(n.body),f=xS(u)}catch{return r()}let h={formMethod:a,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(gr(h.formMethod))return{path:t,submission:h};let p=ni(t);return e&&p.search&&Rm(p.search)&&u.append("index",""),p.search=`?${u}`,{path:$i(p),submission:h}}function cS(e,t,n,r,i,a,c,u,f,h,p,g,y,b,w,S,k,C,R){var ee;let O=R?xr(R[1])?R[1].error:R[1].data:void 0,M=i.createURL(a.location),A=i.createURL(f),N;if(p&&a.errors){let K=Object.keys(a.errors)[0];N=c.findIndex(L=>L.route.id===K)}else if(R&&xr(R[1])){let K=R[0];N=c.findIndex(L=>L.route.id===K)-1}let P=R?R[1].statusCode:void 0,$=P&&P>=400,I={currentUrl:M,currentParams:((ee=a.matches[0])==null?void 0:ee.params)||{},nextUrl:A,nextParams:c[0].params,...u,actionResult:O,actionStatus:P},_=c.map((K,L)=>{let{route:Y}=K,j=null;if(N!=null&&L>N?j=!1:Y.lazy?j=!0:Y.loader==null?j=!1:p?j=Rg(Y,a.loaderData,a.errors):AR(a.loaderData,a.matches[L],K)&&(j=!0),j!==null)return Og(n,r,e,K,h,t,j);let G=$?!1:g||M.pathname+M.search===A.pathname+A.search||M.search!==A.search||RR(a.matches[L],K),Q={...I,defaultShouldRevalidate:G},V=cf(K,Q);return Og(n,r,e,K,h,t,V,Q)}),F=[];return w.forEach((K,L)=>{if(p||!c.some(H=>H.route.id===K.routeId)||b.has(L))return;let Y=Bi(k,K.path,C);if(!Y){F.push({key:L,routeId:K.routeId,path:K.path,matches:null,match:null,request:null,controller:null});return}if(S.has(L))return;let j=a.fetchers.get(L),G=hc(Y,K.path),Q=new AbortController,V=_a(i,K.path,Q.signal),B=null;if(y.has(L))y.delete(L),B=ja(n,r,V,Y,G,h,t);else if(j&&j.state!=="idle"&&j.data===void 0)g&&(B=ja(n,r,V,Y,G,h,t));else{let H={...I,defaultShouldRevalidate:$?!1:g};cf(G,H)&&(B=ja(n,r,V,Y,G,h,t,H))}B&&F.push({key:L,routeId:K.routeId,path:K.path,matches:B,match:G,request:V,controller:Q})}),{dsMatches:_,revalidatingFetchers:F}}function Rg(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function AR(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function RR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function cf(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function uS(e,t,n,r,i){let a;if(e){let f=r[e];ct(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),a=f.children}else a=n;let c=t.filter(f=>!a.some(h=>VC(f,h))),u=sf(c,i,[e||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...u)}function VC(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(a=>VC(n,a))}):!1}var dS=new WeakMap,YC=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(ct(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[e];if(!a)return;let c=dS.get(i);c||(c={},dS.set(i,c));let u=c[e];if(u)return u;let f=(async()=>{let h=JA(e),g=i[e]!==void 0&&e!=="hasErrorBoundary";if(h)sn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)sn(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(i,{[e]:y}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return c[e]=f,f},fS=new WeakMap;function OR(e,t,n,r,i){let a=n[e.id];if(ct(a,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=fS.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{ct(typeof e.lazy=="function","No lazy route function found");let y=await e.lazy(),b={};for(let w in y){let S=y[w];if(S===void 0)continue;let k=tR(w),R=a[w]!==void 0&&w!=="hasErrorBoundary";k?sn(!k,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?sn(!R,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):b[w]=S}Object.assign(a,b),Object.assign(a,{...r(a),lazy:void 0})})();return fS.set(a,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),u=[],f;for(let p of c){if(i&&i.includes(p))continue;let g=YC({key:p,route:e,manifest:n,mapRouteProperties:r});g&&(u.push(g),p===t&&(f=g))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function hS(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,a)=>{n[t[a].route.id]=i}),n}async function BR(e){return e.matches.some(t=>t.route.unstable_middleware)?GC(e,!1,()=>hS(e),(t,n)=>({[n]:{type:"error",result:t}})):hS(e)}async function GC(e,t,n,r){let{matches:i,request:a,params:c,context:u}=e,f={handlerResult:void 0};try{let h=i.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(y=>[g.route.id,y]):[]),p=await qC({request:a,params:c,context:u},h,t,f,n);return t?p:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let p=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,p):p}}async function qC(e,t,n,r,i,a=0){let{request:c}=e;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let u=t[a];if(!u)return r.handlerResult=await i(),r.handlerResult;let[f,h]=u,p=!1,g,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await qC(e,t,n,r,i,a+1)};try{let b=await h({request:e.request,params:e.params,context:e.context},y);return p?b===void 0?g:b:y()}catch(b){throw r.middlewareError?r.middlewareError.error!==b&&(r.middlewareError={routeId:f,error:b}):r.middlewareError={routeId:f,error:b},b}}function XC(e,t,n,r,i){let a=YC({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),c=OR(r.route,gr(n.method)?"action":"loader",t,e,i);return{middleware:a,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Og(e,t,n,r,i,a,c,u=null){let f=!1,h=XC(e,t,n,r,i);return{...r,_lazyPromises:h,shouldLoad:c,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return f=!0,u?typeof p=="boolean"?cf(r,{...u,defaultShouldRevalidate:p}):cf(r,u):c},resolve(p){return f||c||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?DR({request:n,match:r,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function ja(e,t,n,r,i,a,c,u=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:XC(e,t,n,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Og(e,t,n,f,a,c,!0,u))}async function jR(e,t,n,r,i,a){n.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&await Promise.all(n.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware}));let c={request:t,params:n[0].params,context:i,matches:n},f=await e({...c,fetcherKey:r,unstable_runClientMiddleware:h=>{let p=c;return GC(p,!1,()=>h({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(g,y)=>({[y]:{type:"error",result:g}}))}});try{await Promise.all(n.flatMap(h=>{var p,g;return[(p=h._lazyPromises)==null?void 0:p.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch{}return f}async function DR({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let c,u,f=gr(e.method),h=f?"action":"loader",p=g=>{let y,b=new Promise((k,C)=>y=C);u=()=>y(),e.signal.addEventListener("abort",u);let w=k=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:a},...k!==void 0?[k]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(C=>w(C)):w())}}catch(k){return{type:"error",result:k}}})();return Promise.race([S,b])};try{let g=f?t.route.action:t.route.loader;if(n||r)if(g){let y,[b]=await Promise.all([p(g).catch(w=>{y=w}),n,r]);if(y!==void 0)throw y;c=b}else{await n;let y=f?t.route.action:t.route.loader;if(y)[c]=await Promise.all([p(y),r]);else if(h==="action"){let b=new URL(e.url),w=b.pathname+b.search;throw Br(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(g)c=await p(g);else{let y=new URL(e.url),b=y.pathname+y.search;throw Br(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{u&&e.signal.removeEventListener("abort",u)}return c}async function LR(e){var r,i,a,c,u,f;let{result:t,type:n}=e;if(ZC(t)){let h;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?h=null:h=await t.json():h=await t.text()}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new lf(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?bS(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new lf(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:_c(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:_c(t)?t.status:void 0}:bS(t)?{type:"data",data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function IR(e,t,n,r,i){let a=e.headers.get("Location");if(ct(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Am.test(a)){let c=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Ag(new URL(t.url),c,i,a),e.headers.set("Location",a)}return e}function pS(e,t,n){if(Am.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=Pr(i.pathname,n)!=null;if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function _a(e,t,n,r){let i=e.createURL(KC(t)).toString(),a={signal:n};if(r&&gr(r.formMethod)){let{formMethod:c,formEncType:u}=r;a.method=c.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=Bg(r.formData):a.body=r.formData}return new Request(i,a)}function Bg(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function xS(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function $R(e,t,n,r=!1,i=!1){let a={},c=null,u,f=!1,h={},p=n&&xr(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let y=g.route.id,b=t[y];if(ct(!hs(b),"Cannot handle redirect results in processLoaderData"),xr(b)){let w=b.error;if(p!==void 0&&(w=p,p=void 0),c=c||{},i)c[y]=w;else{let S=fs(e,y);c[S.route.id]==null&&(c[S.route.id]=w)}r||(a[y]=FC),f||(f=!0,u=_c(b.error)?b.error.status:500),b.headers&&(h[y]=b.headers)}else a[y]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(u=b.statusCode),b.headers&&(h[y]=b.headers)}),p!==void 0&&n&&(c={[n[0]]:p},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:c,statusCode:u||200,loaderHeaders:h}}function gS(e,t,n,r,i,a){let{loaderData:c,errors:u}=$R(t,n,r);return i.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:p,controller:g}=f,y=a[h];if(ct(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(xr(y)){let b=fs(e.matches,p==null?void 0:p.route.id);u&&u[b.route.id]||(u={...u,[b.route.id]:y.error}),e.fetchers.delete(h)}else if(hs(y))ct(!1,"Unhandled fetcher revalidation redirect");else{let b=_i(y.data);e.fetchers.set(h,b)}}),{loaderData:c,errors:u}}function mS(e,t,n,r){let i=Object.entries(t).filter(([,a])=>a!==FC).reduce((a,[c,u])=>(a[c]=u,a),{});for(let a of n){let c=a.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&a.route.loader&&(i[c]=e[c]),r&&r.hasOwnProperty(c))break}return i}function yS(e){return e?xr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function fs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function vS(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Br(e,{pathname:t,routeId:n,method:r,type:i,message:a}={}){let c="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(c="Bad Request",r&&t&&n?u=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):e===403?(c="Forbidden",u=`Route "${n}" does not match URL "${t}"`):e===404?(c="Not Found",u=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",r&&t&&n?u=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new lf(e||500,c,new Error(u),!0)}function pd(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(hs(i))return{key:r,result:i}}}function KC(e){let t=typeof e=="string"?ni(e):e;return $i({...t,hash:""})}function PR(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function zR(e){return ZC(e.result)&&CR.has(e.result.status)}function xr(e){return e.type==="error"}function hs(e){return(e&&e.type)==="redirect"}function bS(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function ZC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function HR(e){return ER.has(e.toUpperCase())}function gr(e){return wR.has(e.toUpperCase())}function Rm(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function hc(e,t){let n=typeof t=="string"?ni(t).search:t.search;if(e[e.length-1].route.index&&Rm(n||""))return e[e.length-1];let r=zC(e);return r[r.length-1]}function wS(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:c}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:c,text:void 0}}}function Px(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function UR(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Zl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FR(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function _i(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function VR(e,t){try{let n=e.sessionStorage.getItem(UC);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function YR(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(UC,JSON.stringify(n))}catch(r){sn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function GR(){let e,t,n=new Promise((r,i)=>{e=async a=>{r(a);try{await n}catch{}},t=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Ns=E.createContext(null);Ns.displayName="DataRouter";var Yc=E.createContext(null);Yc.displayName="DataRouterState";var Om=E.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var WC=E.createContext(new Map);WC.displayName="Fetchers";var qR=E.createContext(null);qR.displayName="Await";var So=E.createContext(null);So.displayName="Navigation";var If=E.createContext(null);If.displayName="Location";var Wr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Bm=E.createContext(null);Bm.displayName="RouteError";function XR(e,{relative:t}={}){ct(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(So),{hash:i,pathname:a,search:c}=qc(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:yo([n,a])),r.createHref({pathname:u,search:c,hash:i})}function Gc(){return E.useContext(If)!=null}function Ms(){return ct(Gc(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(If).location}var QC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JC(e){E.useContext(So).static||E.useLayoutEffect(e)}function $f(){let{isDataRoute:e}=E.useContext(Wr);return e?uO():KR()}function KR(){ct(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Ns),{basename:t,navigator:n}=E.useContext(So),{matches:r}=E.useContext(Wr),{pathname:i}=Ms(),a=JSON.stringify(Nm(r)),c=E.useRef(!1);return JC(()=>{c.current=!0}),E.useCallback((f,h={})=>{if(sn(c.current,QC),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=Mm(f,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:yo([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,a,i,e])}var ZR=E.createContext(null);function WR(e){let t=E.useContext(Wr).outlet;return t&&E.createElement(ZR.Provider,{value:e},t)}function QR(){let{matches:e}=E.useContext(Wr),t=e[e.length-1];return t?t.params:{}}function qc(e,{relative:t}={}){let{matches:n}=E.useContext(Wr),{pathname:r}=Ms(),i=JSON.stringify(Nm(n));return E.useMemo(()=>Mm(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function JR(e,t,n,r){ct(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=E.useContext(So),{matches:c}=E.useContext(Wr),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";ek(h,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=Ms(),b;b=y;let w=b.pathname||"/",S=w;if(p!=="/"){let R=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=!a&&n&&n.matches&&n.matches.length>0?n.matches:Bi(e,{pathname:S});return sn(g||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),sn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oO(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:yo([p,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:yo([p,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,r)}function eO(){let e=cO(),t=_c(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,c)}var tO=E.createElement(eO,null),nO=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Wr.Provider,{value:this.props.routeContext},E.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rO({routeContext:e,match:t,children:n}){let r=E.useContext(Ns);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Wr.Provider,{value:e},n)}function oO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=n,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,p)=>{let g,y=!1,b=null,w=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||tO,c&&(u<0&&p===0?(ek("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===p&&(y=!0,w=h.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,p+1)),k=()=>{let C;return g?C=b:y?C=w:h.route.Component?C=E.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,E.createElement(rO,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?E.createElement(nO,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function jm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iO(e){let t=E.useContext(Ns);return ct(t,jm(e)),t}function sO(e){let t=E.useContext(Yc);return ct(t,jm(e)),t}function aO(e){let t=E.useContext(Wr);return ct(t,jm(e)),t}function Dm(e){let t=aO(e),n=t.matches[t.matches.length-1];return ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function lO(){return Dm("useRouteId")}function cO(){var r;let e=E.useContext(Bm),t=sO("useRouteError"),n=Dm("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function uO(){let{router:e}=iO("useNavigate"),t=Dm("useNavigate"),n=E.useRef(!1);return JC(()=>{n.current=!0}),E.useCallback(async(i,a={})=>{sn(n.current,QC),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var SS={};function ek(e,t,n){!t&&!SS[e]&&(SS[e]=!0,sn(!1,n))}var ES={};function CS(e,t){!e&&!ES[t]&&(ES[t]=!0,console.warn(t))}function dO(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&sn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:E.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&sn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:E.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&sn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var fO=["HydrateFallback","hydrateFallbackElement"],hO=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function pO({router:e,flushSync:t}){let[n,r]=E.useState(e.state),[i,a]=E.useState(),[c,u]=E.useState({isTransitioning:!1}),[f,h]=E.useState(),[p,g]=E.useState(),[y,b]=E.useState(),w=E.useRef(new Map),S=E.useCallback((O,{deletedFetchers:M,flushSync:A,viewTransitionOpts:N})=>{O.fetchers.forEach(($,I)=>{$.data!==void 0&&w.current.set(I,$.data)}),M.forEach($=>w.current.delete($)),CS(A===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(CS(N==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!P){t&&A?t(()=>r(O)):E.startTransition(()=>r(O));return}if(t&&A){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>r(O))});$.finished.finally(()=>{t(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),t(()=>g($));return}p?(f&&f.resolve(),p.skipTransition(),b({state:O,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(a(O),u({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[e.window,t,p,f]);E.useLayoutEffect(()=>e.subscribe(S),[e,S]),E.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new hO)},[c]),E.useEffect(()=>{if(f&&i&&e.window){let O=i,M=f.promise,A=e.window.document.startViewTransition(async()=>{E.startTransition(()=>r(O)),await M});A.finished.finally(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g(A)}},[i,f,e.window]),E.useEffect(()=>{f&&i&&n.location.key===i.location.key&&f.resolve()},[f,p,n.location,i]),E.useEffect(()=>{!c.isTransitioning&&y&&(a(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[c.isTransitioning,y]);let k=E.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,M,A)=>e.navigate(O,{state:M,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(O,M,A)=>e.navigate(O,{replace:!0,state:M,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[e]),C=e.basename||"/",R=E.useMemo(()=>({router:e,navigator:k,static:!1,basename:C}),[e,k,C]);return E.createElement(E.Fragment,null,E.createElement(Ns.Provider,{value:R},E.createElement(Yc.Provider,{value:n},E.createElement(WC.Provider,{value:w.current},E.createElement(Om.Provider,{value:c},E.createElement(yO,{basename:C,location:n.location,navigationType:n.historyAction,navigator:k},E.createElement(xO,{routes:e.routes,future:e.future,state:n})))))),null)}var xO=E.memo(gO);function gO({routes:e,future:t,state:n}){return JR(e,void 0,n,t)}function mO(e){return WR(e.context)}function yO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ct(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof n=="string"&&(n=ni(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,b=E.useMemo(()=>{let w=Pr(f,c);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:y},navigationType:r}},[c,f,h,p,g,y,r]);return sn(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(So.Provider,{value:u},E.createElement(If.Provider,{children:t,value:b}))}var $d="get",Pd="application/x-www-form-urlencoded";function Pf(e){return e!=null&&typeof e.tagName=="string"}function vO(e){return Pf(e)&&e.tagName.toLowerCase()==="button"}function bO(e){return Pf(e)&&e.tagName.toLowerCase()==="form"}function wO(e){return Pf(e)&&e.tagName.toLowerCase()==="input"}function SO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EO(e,t){return e.button===0&&(!t||t==="_self")&&!SO(e)}var xd=null;function CO(){if(xd===null)try{new FormData(document.createElement("form"),0),xd=!1}catch{xd=!0}return xd}var kO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zx(e){return e!=null&&!kO.has(e)?(sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):e}function TO(e,t){let n,r,i,a,c;if(bO(e)){let u=e.getAttribute("action");r=u?Pr(u,t):null,n=e.getAttribute("method")||$d,i=zx(e.getAttribute("enctype"))||Pd,a=new FormData(e)}else if(vO(e)||wO(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(r=f?Pr(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||$d,i=zx(e.getAttribute("formenctype"))||zx(u.getAttribute("enctype"))||Pd,a=new FormData(u,e),!CO()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(Pf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$d,r=null,i=Pd,c=e}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:c}}function Lm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function _O(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function MO(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let c=await _O(a,n);return c.links?c.links():[]}return[]}));return BO(r.flat(1).filter(NO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kS(e,t,n,r,i,a){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return a==="assets"?t.filter((f,h)=>c(f,h)||u(f,h)):a==="data"?t.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function AO(e,t,{includeHydrateFallback:n}={}){return RO(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function RO(e){return[...new Set(e)]}function OO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function BO(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(OO(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jO=new Set([100,101,204,205]);function DO(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Pr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function tk(){let e=E.useContext(Ns);return Lm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function LO(){let e=E.useContext(Yc);return Lm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Im=E.createContext(void 0);Im.displayName="FrameworkContext";function nk(){let e=E.useContext(Im);return Lm(e,"You must render this element inside a <HydratedRouter> element"),e}function IO(e,t){let n=E.useContext(Im),[r,i]=E.useState(!1),[a,c]=E.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=E.useRef(null);E.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let S=C=>{C.forEach(R=>{c(R.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[e]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),c(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Wl(u,b),onBlur:Wl(f,w),onMouseEnter:Wl(h,b),onMouseLeave:Wl(p,w),onTouchStart:Wl(g,b)}]:[!1,y,{}]}function Wl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $O({page:e,...t}){let{router:n}=tk(),r=E.useMemo(()=>Bi(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(zO,{page:e,matches:r,...t}):null}function PO(e){let{manifest:t,routeModules:n}=nk(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return MO(e,t,n).then(c=>{a||i(c)}),()=>{a=!0}},[e,t,n]),r}function zO({page:e,matches:t,...n}){let r=Ms(),{manifest:i,routeModules:a}=nk(),{basename:c}=tk(),{loaderData:u,matches:f}=LO(),h=E.useMemo(()=>kS(e,t,f,i,r,"data"),[e,t,f,i,r]),p=E.useMemo(()=>kS(e,t,f,i,r,"assets"),[e,t,f,i,r]),g=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(C=>{var O;let R=i.routes[C.route.id];!R||!R.hasLoader||(!h.some(M=>M.route.id===C.route.id)&&C.route.id in u&&((O=a[C.route.id])!=null&&O.shouldRevalidate)||R.hasClientLoader?S=!0:w.add(C.route.id))}),w.size===0)return[];let k=DO(e,c);return S&&w.size>0&&k.searchParams.set("_routes",t.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[c,u,r,i,h,t,e,a]),y=E.useMemo(()=>AO(p,i),[p,i]),b=PO(p);return E.createElement(E.Fragment,null,g.map(w=>E.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>E.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:S})=>E.createElement("link",{key:w,...S})))}function HO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rk&&(window.__reactRouterVersion="7.6.0")}catch{}function UO(e,t){return NR({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:KA({window:t==null?void 0:t.window}),hydrationData:FO(),routes:e,mapRouteProperties:dO,hydrationRouteProperties:fO,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function FO(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:VO(e.errors)}),e}function VO(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new lf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let c=new a(i.message);c.stack="",n[r]=c}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ra=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g,...y},b){let{basename:w}=E.useContext(So),S=typeof h=="string"&&ok.test(h),k,C=!1;if(typeof h=="string"&&S&&(k=h,rk))try{let I=new URL(window.location.href),_=h.startsWith("//")?new URL(I.protocol+h):new URL(h),F=Pr(_.pathname,w);_.origin===I.origin&&F!=null?h=F+_.search+_.hash:C=!0}catch{sn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=XR(h,{relative:i}),[O,M,A]=IO(r,y),N=XO(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:g});function P(I){t&&t(I),I.defaultPrevented||N(I)}let $=E.createElement("a",{...y,...A,href:k||R,onClick:C||a?t:P,ref:HO(b,M),target:f,"data-discover":!S&&n==="render"?"true":void 0});return O&&!S?E.createElement(E.Fragment,null,$,E.createElement($O,{page:R})):$});Ra.displayName="Link";var YO=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:u,children:f,...h},p){let g=qc(c,{relative:h.relative}),y=Ms(),b=E.useContext(Yc),{navigator:w,basename:S}=E.useContext(So),k=b!=null&&JO(g)&&u===!0,C=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,R=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(R=R.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&S&&(O=Pr(O,S)||O);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=R===C||!i&&R.startsWith(C)&&R.charAt(M)==="/",N=O!=null&&(O===C||!i&&O.startsWith(C)&&O.charAt(C.length)==="/"),P={isActive:A,isPending:N,isTransitioning:k},$=A?t:void 0,I;typeof r=="function"?I=r(P):I=[r,A?"active":null,N?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let _=typeof a=="function"?a(P):a;return E.createElement(Ra,{...h,"aria-current":$,className:I,ref:p,style:_,to:c,viewTransition:u},typeof f=="function"?f(P):f)});YO.displayName="NavLink";var GO=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:c=$d,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...y},b)=>{let w=WO(),S=QO(u,{relative:h}),k=c.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&ok.test(u),R=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,A=(M==null?void 0:M.getAttribute("formmethod"))||c;w(M||O.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return E.createElement("form",{ref:b,method:k,action:S,onSubmit:r?f:R,...y,"data-discover":!C&&e==="render"?"true":void 0})});GO.displayName="Form";function qO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ik(e){let t=E.useContext(Ns);return ct(t,qO(e)),t}function XO(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:c}={}){let u=$f(),f=Ms(),h=qc(e,{relative:a});return E.useCallback(p=>{if(EO(p,t)){p.preventDefault();let g=n!==void 0?n:$i(f)===$i(h);u(e,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:c})}},[f,u,h,n,r,t,e,i,a,c])}var KO=0,ZO=()=>`__${String(++KO)}__`;function WO(){let{router:e}=ik("useSubmit"),{basename:t}=E.useContext(So),n=lO();return E.useCallback(async(r,i={})=>{let{action:a,method:c,encType:u,formData:f,body:h}=TO(r,t);if(i.navigate===!1){let p=i.fetcherKey||ZO();await e.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function QO(e,{relative:t}={}){let{basename:n}=E.useContext(So),r=E.useContext(Wr);ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...qc(e||".",{relative:t})},c=Ms();if(e==null){a.search=c.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:yo([n,a.pathname])),$i(a)}function JO(e,t={}){let n=E.useContext(Om);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ik("useViewTransitionState"),i=qc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Pr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Pr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return af(i.pathname,c)!=null||af(i.pathname,a)!=null}[...jO];var e3=DC();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t3(e){return E.createElement(pO,{flushSync:e3.flushSync,...e})}const sk=Object.freeze({left:0,top:0,width:16,height:16}),uf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),$m=Object.freeze({...sk,...uf}),jg=Object.freeze({...$m,body:"",hidden:!1});function n3(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function TS(e,t){const n=n3(e,t);for(const r in jg)r in uf?r in e&&!(r in n)&&(n[r]=uf[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function r3(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function a(c){if(n[c])return i[c]=[];if(!(c in i)){i[c]=null;const u=r[c]&&r[c].parent,f=u&&a(u);f&&(i[c]=[u].concat(f))}return i[c]}return Object.keys(n).concat(Object.keys(r)).forEach(a),i}function o3(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let a={};function c(u){a=TS(r[u]||i[u],a)}return c(t),n.forEach(c),TS(e,a)}function ak(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=r3(e);for(const i in r){const a=r[i];a&&(t(i,o3(e,i,a)),n.push(i))}return n}const i3={provider:"",aliases:{},not_found:{},...sk};function Hx(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function lk(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Hx(e,i3))return null;const n=t.icons;for(const i in n){const a=n[i];if(!i||typeof a.body!="string"||!Hx(a,jg))return null}const r=t.aliases||Object.create(null);for(const i in r){const a=r[i],c=a.parent;if(!i||typeof c!="string"||!n[c]&&!r[c]||!Hx(a,jg))return null}return t}const ck=/^[a-z0-9]+(-[a-z0-9]+)*$/,zf=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const u=i.pop(),f=i.pop(),h={provider:i.length>0?i[0]:r,prefix:f,name:u};return t&&!zd(h)?null:h}const a=i[0],c=a.split("-");if(c.length>1){const u={provider:r,prefix:c.shift(),name:c.join("-")};return t&&!zd(u)?null:u}if(n&&r===""){const u={provider:r,prefix:"",name:a};return t&&!zd(u,n)?null:u}return null},zd=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,_S=Object.create(null);function s3(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Ha(e,t){const n=_S[e]||(_S[e]=Object.create(null));return n[t]||(n[t]=s3(e,t))}function uk(e,t){return lk(t)?ak(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function a3(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let Nc=!1;function dk(e){return typeof e=="boolean"&&(Nc=e),Nc}function NS(e){const t=typeof e=="string"?zf(e,!0,Nc):e;if(t){const n=Ha(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function l3(e,t){const n=zf(e,!0,Nc);if(!n)return!1;const r=Ha(n.provider,n.prefix);return t?a3(r,n.name,t):(r.missing.add(n.name),!0)}function c3(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),Nc&&!t&&!e.prefix){let i=!1;return lk(e)&&(e.prefix="",ak(e,(a,c)=>{l3(a,c)&&(i=!0)})),i}const n=e.prefix;if(!zd({prefix:n,name:"a"}))return!1;const r=Ha(t,n);return!!uk(r,e)}const fk=Object.freeze({width:null,height:null}),hk=Object.freeze({...fk,...uf}),u3=/(-?[0-9.]*[0-9]+[0-9.]*)/g,d3=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function MS(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(u3);if(r===null||!r.length)return e;const i=[];let a=r.shift(),c=d3.test(a);for(;;){if(c){const u=parseFloat(a);isNaN(u)?i.push(a):i.push(Math.ceil(u*t*n)/n)}else i.push(a);if(a=r.shift(),a===void 0)return i.join("");c=!c}}function f3(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),a=e.indexOf("</"+t);if(i===-1||a===-1)break;const c=e.indexOf(">",a);if(c===-1)break;n+=e.slice(i+1,a).trim(),e=e.slice(0,r).trim()+e.slice(c+1)}return{defs:n,content:e}}function h3(e,t){return e?"<defs>"+e+"</defs>"+t:t}function p3(e,t,n){const r=f3(e);return h3(r.defs,t+r.content+n)}const x3=e=>e==="unset"||e==="undefined"||e==="none";function g3(e,t){const n={...$m,...e},r={...hk,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,r].forEach(S=>{const k=[],C=S.hFlip,R=S.vFlip;let O=S.rotate;C?R?O+=2:(k.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),k.push("scale(-1 1)"),i.top=i.left=0):R&&(k.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),k.push("scale(1 -1)"),i.top=i.left=0);let M;switch(O<0&&(O-=Math.floor(O/4)*4),O=O%4,O){case 1:M=i.height/2+i.top,k.unshift("rotate(90 "+M.toString()+" "+M.toString()+")");break;case 2:k.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:M=i.width/2+i.left,k.unshift("rotate(-90 "+M.toString()+" "+M.toString()+")");break}O%2===1&&(i.left!==i.top&&(M=i.left,i.left=i.top,i.top=M),i.width!==i.height&&(M=i.width,i.width=i.height,i.height=M)),k.length&&(a=p3(a,'<g transform="'+k.join(" ")+'">',"</g>"))});const c=r.width,u=r.height,f=i.width,h=i.height;let p,g;c===null?(g=u===null?"1em":u==="auto"?h:u,p=MS(g,f/h)):(p=c==="auto"?f:c,g=u===null?MS(p,h/f):u==="auto"?h:u);const y={},b=(S,k)=>{x3(k)||(y[S]=k.toString())};b("width",p),b("height",g);const w=[i.left,i.top,f,h];return y.viewBox=w.join(" "),{attributes:y,viewBox:w,body:a}}const m3=/\sid="(\S+)"/g,y3="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let v3=0;function b3(e,t=y3){const n=[];let r;for(;r=m3.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(a=>{const c=typeof t=="function"?t(a):t+(v3++).toString(),u=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+u+')([")]|\\.[a-z])',"g"),"$1"+c+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}const Dg=Object.create(null);function w3(e,t){Dg[e]=t}function Lg(e){return Dg[e]||Dg[""]}function Pm(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const zm=Object.create(null),Ql=["https://api.simplesvg.com","https://api.unisvg.com"],Hd=[];for(;Ql.length>0;)Ql.length===1||Math.random()>.5?Hd.push(Ql.shift()):Hd.push(Ql.pop());zm[""]=Pm({resources:["https://api.iconify.design"].concat(Hd)});function S3(e,t){const n=Pm(t);return n===null?!1:(zm[e]=n,!0)}function Hm(e){return zm[e]}const E3=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let AS=E3();function C3(e,t){const n=Hm(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(c=>{i=Math.max(i,c.length)});const a=t+".json?icons=";r=n.maxURL-i-n.path.length-a.length}return r}function k3(e){return e===404}const T3=(e,t,n)=>{const r=[],i=C3(e,t),a="icons";let c={type:a,provider:e,prefix:t,icons:[]},u=0;return n.forEach((f,h)=>{u+=f.length+1,u>=i&&h>0&&(r.push(c),c={type:a,provider:e,prefix:t,icons:[]},u=f.length),c.icons.push(f)}),r.push(c),r};function _3(e){if(typeof e=="string"){const t=Hm(e);if(t)return t.path}return"/"}const N3=(e,t,n)=>{if(!AS){n("abort",424);return}let r=_3(t.provider);switch(t.type){case"icons":{const a=t.prefix,u=t.icons.join(","),f=new URLSearchParams({icons:u});r+=a+".json?"+f.toString();break}case"custom":{const a=t.uri;r+=a.slice(0,1)==="/"?a.slice(1):a;break}default:n("abort",400);return}let i=503;AS(e+r).then(a=>{const c=a.status;if(c!==200){setTimeout(()=>{n(k3(c)?"abort":"next",c)});return}return i=501,a.json()}).then(a=>{if(typeof a!="object"||a===null){setTimeout(()=>{a===404?n("abort",a):n("next",i)});return}setTimeout(()=>{n("success",a)})}).catch(()=>{n("next",i)})},M3={prepare:T3,send:N3};function A3(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,a)=>i.provider!==a.provider?i.provider.localeCompare(a.provider):i.prefix!==a.prefix?i.prefix.localeCompare(a.prefix):i.name.localeCompare(a.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const a=i.provider,c=i.prefix,u=i.name,f=n[a]||(n[a]=Object.create(null)),h=f[c]||(f[c]=Ha(a,c));let p;u in h.icons?p=t.loaded:c===""||h.missing.has(u)?p=t.missing:p=t.pending;const g={provider:a,prefix:c,name:u};p.push(g)}),t}function pk(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function R3(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(a=>{const c=a.icons,u=c.pending.length;c.pending=c.pending.filter(f=>{if(f.prefix!==i)return!0;const h=f.name;if(e.icons[h])c.loaded.push({provider:r,prefix:i,name:h});else if(e.missing.has(h))c.missing.push({provider:r,prefix:i,name:h});else return n=!0,!0;return!1}),c.pending.length!==u&&(n||pk([e],a.id),a.callback(c.loaded.slice(0),c.missing.slice(0),c.pending.slice(0),a.abort))})}))}let O3=0;function B3(e,t,n){const r=O3++,i=pk.bind(null,n,r);if(!t.pending.length)return i;const a={id:r,icons:t,callback:e,abort:i};return n.forEach(c=>{(c.loaderCallbacks||(c.loaderCallbacks=[])).push(a)}),i}function j3(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const a=typeof i=="string"?zf(i,t,n):i;a&&r.push(a)}),r}var D3={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function L3(e,t,n,r){const i=e.resources.length,a=e.random?Math.floor(Math.random()*i):e.index;let c;if(e.random){let N=e.resources.slice(0);for(c=[];N.length>1;){const P=Math.floor(Math.random()*N.length);c.push(N[P]),N=N.slice(0,P).concat(N.slice(P+1))}c=c.concat(N)}else c=e.resources.slice(a).concat(e.resources.slice(0,a));const u=Date.now();let f="pending",h=0,p,g=null,y=[],b=[];typeof r=="function"&&b.push(r);function w(){g&&(clearTimeout(g),g=null)}function S(){f==="pending"&&(f="aborted"),w(),y.forEach(N=>{N.status==="pending"&&(N.status="aborted")}),y=[]}function k(N,P){P&&(b=[]),typeof N=="function"&&b.push(N)}function C(){return{startTime:u,payload:t,status:f,queriesSent:h,queriesPending:y.length,subscribe:k,abort:S}}function R(){f="failed",b.forEach(N=>{N(void 0,p)})}function O(){y.forEach(N=>{N.status==="pending"&&(N.status="aborted")}),y=[]}function M(N,P,$){const I=P!=="success";switch(y=y.filter(_=>_!==N),f){case"pending":break;case"failed":if(I||!e.dataAfterTimeout)return;break;default:return}if(P==="abort"){p=$,R();return}if(I){p=$,y.length||(c.length?A():R());return}if(w(),O(),!e.random){const _=e.resources.indexOf(N.resource);_!==-1&&_!==e.index&&(e.index=_)}f="completed",b.forEach(_=>{_($)})}function A(){if(f!=="pending")return;w();const N=c.shift();if(N===void 0){if(y.length){g=setTimeout(()=>{w(),f==="pending"&&(O(),R())},e.timeout);return}R();return}const P={status:"pending",resource:N,callback:($,I)=>{M(P,$,I)}};y.push(P),h++,g=setTimeout(A,e.rotate),n(N,t,P.callback)}return setTimeout(A),C}function xk(e){const t={...D3,...e};let n=[];function r(){n=n.filter(u=>u().status==="pending")}function i(u,f,h){const p=L3(t,u,f,(g,y)=>{r(),h&&h(g,y)});return n.push(p),p}function a(u){return n.find(f=>u(f))||null}return{query:i,find:a,setIndex:u=>{t.index=u},getIndex:()=>t.index,cleanup:r}}function RS(){}const Ux=Object.create(null);function I3(e){if(!Ux[e]){const t=Hm(e);if(!t)return;const n=xk(t),r={config:t,redundancy:n};Ux[e]=r}return Ux[e]}function $3(e,t,n){let r,i;if(typeof e=="string"){const a=Lg(e);if(!a)return n(void 0,424),RS;i=a.send;const c=I3(e);c&&(r=c.redundancy)}else{const a=Pm(e);if(a){r=xk(a);const c=e.resources?e.resources[0]:"",u=Lg(c);u&&(i=u.send)}}return!r||!i?(n(void 0,424),RS):r.query(t,i,n)().abort}function OS(){}function P3(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,R3(e)}))}function z3(e){const t=[],n=[];return e.forEach(r=>{(r.match(ck)?t:n).push(r)}),{valid:t,invalid:n}}function Jl(e,t,n){function r(){const i=e.pendingIcons;t.forEach(a=>{i&&i.delete(a),e.icons[a]||e.missing.add(a)})}if(n&&typeof n=="object")try{if(!uk(e,n).length){r();return}}catch(i){console.error(i)}r(),P3(e)}function BS(e,t){e instanceof Promise?e.then(n=>{t(n)}).catch(()=>{t(null)}):t(e)}function H3(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;if(delete e.iconsToLoad,!i||!i.length)return;const a=e.loadIcon;if(e.loadIcons&&(i.length>1||!a)){BS(e.loadIcons(i,r,n),p=>{Jl(e,i,p)});return}if(a){i.forEach(p=>{const g=a(p,r,n);BS(g,y=>{const b=y?{prefix:r,icons:{[p]:y}}:null;Jl(e,[p],b)})});return}const{valid:c,invalid:u}=z3(i);if(u.length&&Jl(e,u,null),!c.length)return;const f=r.match(ck)?Lg(n):null;if(!f){Jl(e,c,null);return}f.prepare(n,r,c).forEach(p=>{$3(n,p,g=>{Jl(e,p.icons,g)})})}))}const U3=(e,t)=>{const n=j3(e,!0,dk()),r=A3(n);if(!r.pending.length){let f=!0;return t&&setTimeout(()=>{f&&t(r.loaded,r.missing,r.pending,OS)}),()=>{f=!1}}const i=Object.create(null),a=[];let c,u;return r.pending.forEach(f=>{const{provider:h,prefix:p}=f;if(p===u&&h===c)return;c=h,u=p,a.push(Ha(h,p));const g=i[h]||(i[h]=Object.create(null));g[p]||(g[p]=[])}),r.pending.forEach(f=>{const{provider:h,prefix:p,name:g}=f,y=Ha(h,p),b=y.pendingIcons||(y.pendingIcons=new Set);b.has(g)||(b.add(g),i[h][p].push(g))}),a.forEach(f=>{const h=i[f.provider][f.prefix];h.length&&H3(f,h)}),t?B3(t,r,a):OS};function F3(e,t){const n={...e};for(const r in t){const i=t[r],a=typeof i;r in fk?(i===null||i&&(a==="string"||a==="number"))&&(n[r]=i):a===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const V3=/[\s,]+/;function Y3(e,t){t.split(V3).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function G3(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let a=parseFloat(e.slice(0,e.length-n.length));return isNaN(a)?0:(a=a/i,a%1===0?r(a):0)}}return t}function q3(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function X3(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function K3(e){return"data:image/svg+xml,"+X3(e)}function Z3(e){return'url("'+K3(e)+'")'}let wc;function W3(){try{wc=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{wc=null}}function Q3(e){return wc===void 0&&W3(),wc?wc.createHTML(e):e}const gk={...hk,inline:!1},J3={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},e5={display:"inline-block"},Ig={backgroundColor:"currentColor"},mk={backgroundColor:"transparent"},jS={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},DS={WebkitMask:Ig,mask:Ig,background:mk};for(const e in DS){const t=DS[e];for(const n in jS)t[e+n]=jS[n]}const t5={...gk,inline:!0};function LS(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const n5=(e,t,n)=>{const r=t.inline?t5:gk,i=F3(r,t),a=t.mode||"svg",c={},u=t.style||{},f={...a==="svg"?J3:{}};if(n){const k=zf(n,!1,!0);if(k){const C=["iconify"],R=["provider","prefix"];for(const O of R)k[O]&&C.push("iconify--"+k[O]);f.className=C.join(" ")}}for(let k in t){const C=t[k];if(C!==void 0)switch(k){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":f.ref=C;break;case"className":f[k]=(f[k]?f[k]+" ":"")+C;break;case"inline":case"hFlip":case"vFlip":i[k]=C===!0||C==="true"||C===1;break;case"flip":typeof C=="string"&&Y3(i,C);break;case"color":c.color=C;break;case"rotate":typeof C=="string"?i[k]=G3(C):typeof C=="number"&&(i[k]=C);break;case"ariaHidden":case"aria-hidden":C!==!0&&C!=="true"&&delete f["aria-hidden"];break;default:r[k]===void 0&&(f[k]=C)}}const h=g3(e,i),p=h.attributes;if(i.inline&&(c.verticalAlign="-0.125em"),a==="svg"){f.style={...c,...u},Object.assign(f,p);let k=0,C=t.id;return typeof C=="string"&&(C=C.replace(/-/g,"_")),f.dangerouslySetInnerHTML={__html:Q3(b3(h.body,C?()=>C+"ID"+k++:"iconifyReact"))},E.createElement("svg",f)}const{body:g,width:y,height:b}=e,w=a==="mask"||(a==="bg"?!1:g.indexOf("currentColor")!==-1),S=q3(g,{...p,width:y+"",height:b+""});return f.style={...c,"--svg":Z3(S),width:LS(p.width),height:LS(p.height),...e5,...w?Ig:mk,...u},E.createElement("span",f)};dk(!0);w3("",M3);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!c3(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const i=t[n];if(typeof i!="object"||!i||i.resources===void 0)continue;S3(n,i)||console.error(r)}catch{console.error(r)}}}}function yk(e){const[t,n]=E.useState(!!e.ssr),[r,i]=E.useState({});function a(b){if(b){const w=e.icon;if(typeof w=="object")return{name:"",data:w};const S=NS(w);if(S)return{name:w,data:S}}return{name:""}}const[c,u]=E.useState(a(!!e.ssr));function f(){const b=r.callback;b&&(b(),i({}))}function h(b){if(JSON.stringify(c)!==JSON.stringify(b))return f(),u(b),!0}function p(){var b;const w=e.icon;if(typeof w=="object"){h({name:"",data:w});return}const S=NS(w);if(h({name:w,data:S}))if(S===void 0){const k=U3([w],p);i({callback:k})}else S&&((b=e.onLoad)===null||b===void 0||b.call(e,w))}E.useEffect(()=>(n(!0),f),[]),E.useEffect(()=>{t&&p()},[e.icon,t]);const{name:g,data:y}=c;return y?n5({...$m,...y},e,g):e.children?e.children:e.fallback?e.fallback:E.createElement("span",{})}const we=E.forwardRef((e,t)=>yk({...e,_ref:t}));E.forwardRef((e,t)=>yk({inline:!0,...e,_ref:t}));let r5={data:""},o5=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||r5,i5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s5=/\/\*[^]*?\*\/|  +/g,IS=/\n+/g,ji=(e,t)=>{let n="",r="",i="";for(let a in e){let c=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+c+";":r+=a[1]=="f"?ji(c,a):a+"{"+ji(c,a[1]=="k"?"":t)+"}":typeof c=="object"?r+=ji(c,t?t.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ji.p?ji.p(a,c):a+":"+c+";")}return n+(t&&i?t+"{"+i+"}":i)+r},zo={},vk=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+vk(e[n]);return t}return e},a5=(e,t,n,r,i)=>{let a=vk(e),c=zo[a]||(zo[a]=(f=>{let h=0,p=11;for(;h<f.length;)p=101*p+f.charCodeAt(h++)>>>0;return"go"+p})(a));if(!zo[c]){let f=a!==e?e:(h=>{let p,g,y=[{}];for(;p=i5.exec(h.replace(s5,""));)p[4]?y.shift():p[3]?(g=p[3].replace(IS," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][p[1]]=p[2].replace(IS," ").trim();return y[0]})(e);zo[c]=ji(i?{["@keyframes "+c]:f}:f,n?"":"."+c)}let u=n&&zo.g?zo.g:null;return n&&(zo.g=zo[c]),((f,h,p,g)=>{g?h.data=h.data.replace(g,f):h.data.indexOf(f)===-1&&(h.data=p?f+h.data:h.data+f)})(zo[c],t,r,u),c},l5=(e,t,n)=>e.reduce((r,i,a)=>{let c=t[a];if(c&&c.call){let u=c(n),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=f?"."+f:u&&typeof u=="object"?u.props?"":ji(u,""):u===!1?"":u}return r+i+(c??"")},"");function Hf(e){let t=this||{},n=e.call?e(t.p):e;return a5(n.unshift?n.raw?l5(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,o5(t.target),t.g,t.o,t.k)}let bk,$g,Pg;Hf.bind({g:1});let Wo=Hf.bind({k:1});function c5(e,t,n,r){ji.p=t,bk=e,$g=n,Pg=r}function Vi(e,t){let n=this||{};return function(){let r=arguments;function i(a,c){let u=Object.assign({},a),f=u.className||i.className;n.p=Object.assign({theme:$g&&$g()},u),n.o=/ *go\d+/.test(f),u.className=Hf.apply(n,r)+(f?" "+f:"");let h=e;return e[0]&&(h=u.as||e,delete u.as),Pg&&h[0]&&Pg(u),bk(h,u)}return i}}var u5=e=>typeof e=="function",df=(e,t)=>u5(e)?e(t):e,d5=(()=>{let e=0;return()=>(++e).toString()})(),wk=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),f5=20,Sk=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,f5)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Sk(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Ud=[],ps={toasts:[],pausedAt:void 0},As=e=>{ps=Sk(ps,e),Ud.forEach(t=>{t(ps)})},h5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},p5=(e={})=>{let[t,n]=E.useState(ps),r=E.useRef(ps);E.useEffect(()=>(r.current!==ps&&n(ps),Ud.push(n),()=>{let a=Ud.indexOf(n);a>-1&&Ud.splice(a,1)}),[]);let i=t.toasts.map(a=>{var c,u,f;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((c=e[a.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((u=e[a.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||h5[a.type],style:{...e.style,...(f=e[a.type])==null?void 0:f.style,...a.style}}});return{...t,toasts:i}},x5=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||d5()}),Xc=e=>(t,n)=>{let r=x5(t,e,n);return As({type:2,toast:r}),r.id},qn=(e,t)=>Xc("blank")(e,t);qn.error=Xc("error");qn.success=Xc("success");qn.loading=Xc("loading");qn.custom=Xc("custom");qn.dismiss=e=>{As({type:3,toastId:e})};qn.remove=e=>As({type:4,toastId:e});qn.promise=(e,t,n)=>{let r=qn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?df(t.success,i):void 0;return a?qn.success(a,{id:r,...n,...n==null?void 0:n.success}):qn.dismiss(r),i}).catch(i=>{let a=t.error?df(t.error,i):void 0;a?qn.error(a,{id:r,...n,...n==null?void 0:n.error}):qn.dismiss(r)}),e};var g5=(e,t)=>{As({type:1,toast:{id:e,height:t}})},m5=()=>{As({type:5,time:Date.now()})},Sc=new Map,y5=1e3,v5=(e,t=y5)=>{if(Sc.has(e))return;let n=setTimeout(()=>{Sc.delete(e),As({type:4,toastId:e})},t);Sc.set(e,n)},b5=e=>{let{toasts:t,pausedAt:n}=p5(e);E.useEffect(()=>{if(n)return;let a=Date.now(),c=t.map(u=>{if(u.duration===1/0)return;let f=(u.duration||0)+u.pauseDuration-(a-u.createdAt);if(f<0){u.visible&&qn.dismiss(u.id);return}return setTimeout(()=>qn.dismiss(u.id),f)});return()=>{c.forEach(u=>u&&clearTimeout(u))}},[t,n]);let r=E.useCallback(()=>{n&&As({type:6,time:Date.now()})},[n]),i=E.useCallback((a,c)=>{let{reverseOrder:u=!1,gutter:f=8,defaultPosition:h}=c||{},p=t.filter(b=>(b.position||h)===(a.position||h)&&b.height),g=p.findIndex(b=>b.id===a.id),y=p.filter((b,w)=>w<g&&b.visible).length;return p.filter(b=>b.visible).slice(...u?[y+1]:[0,y]).reduce((b,w)=>b+(w.height||0)+f,0)},[t]);return E.useEffect(()=>{t.forEach(a=>{if(a.dismissed)v5(a.id,a.removeDelay);else{let c=Sc.get(a.id);c&&(clearTimeout(c),Sc.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:g5,startPause:m5,endPause:r,calculateOffset:i}}},w5=Wo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,S5=Wo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,E5=Wo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C5=Vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${S5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${E5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k5=Wo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,T5=Vi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${k5} 1s linear infinite;
`,_5=Wo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,N5=Wo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,M5=Vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${N5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,A5=Vi("div")`
  position: absolute;
`,R5=Vi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,O5=Wo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B5=Vi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${O5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,j5=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?E.createElement(B5,null,t):t:n==="blank"?null:E.createElement(R5,null,E.createElement(T5,{...r}),n!=="loading"&&E.createElement(A5,null,n==="error"?E.createElement(C5,{...r}):E.createElement(M5,{...r})))},D5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,L5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,I5="0%{opacity:0;} 100%{opacity:1;}",$5="0%{opacity:1;} 100%{opacity:0;}",P5=Vi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,z5=Vi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,H5=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=wk()?[I5,$5]:[D5(n),L5(n)];return{animation:t?`${Wo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},U5=E.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?H5(e.position||t||"top-center",e.visible):{opacity:0},a=E.createElement(j5,{toast:e}),c=E.createElement(z5,{...e.ariaProps},df(e.message,e));return E.createElement(P5,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:c}):E.createElement(E.Fragment,null,a,c))});c5(E.createElement);var F5=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=E.useCallback(c=>{if(c){let u=()=>{let f=c.getBoundingClientRect().height;r(e,f)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return E.createElement("div",{ref:a,className:t,style:n},i)},V5=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wk()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},Y5=Hf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gd=16,G5=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:a,containerClassName:c})=>{let{toasts:u,handlers:f}=b5(n);return E.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:gd,left:gd,right:gd,bottom:gd,pointerEvents:"none",...a},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(h=>{let p=h.position||t,g=f.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=V5(p,g);return E.createElement(F5,{id:h.id,key:h.id,onHeightUpdate:f.updateHeight,className:h.visible?Y5:"",style:y},h.type==="custom"?df(h.message,h):i?i(h):E.createElement(U5,{toast:h,position:p}))}))};const Yi=()=>{const[e,t]=E.useState({works:!0,"work-1":!0,"work-1-characters":!0,"work-1-char-1":!0}),[n,r]=E.useState([{id:"work-1",name:"《大纲》",views:{outline:!0,characters:!0,hostManual:!0,materials:!0},characters:[{id:"char-1",name:"女1",type:"draft",scripts:[{id:"script-1",name:"第一本"},{id:"script-2",name:"第二本"},{id:"script-3",name:"第三本"}]},{id:"char-2",name:"女2",type:"draft"}]}]),[i,a]=E.useState(null),[c,u]=E.useState(""),f=E.useRef(null),h=$=>{t(I=>({...I,[$]:!I[$]}))},p=()=>{qn("新功能加班加点更新中～")},g=$=>{const I=$.lastVisitedView||"outline";console.log(`Navigating to ${I} view for work: ${$.name}`)},y=$=>{a($.id),u($.name)},b=()=>{i&&(r($=>$.map(I=>I.id===i?{...I,name:c}:I)),a(null),u(""))},w=()=>{a(null),u("")},S=$=>{$.key==="Enter"?b():$.key==="Escape"&&w()},k=()=>{p()},C=async()=>{p()},R=async()=>{p()},O=async()=>{p()},M=()=>{p()},A=$=>{$.stopPropagation(),p()},N=()=>{p()},P=()=>{p()};return E.useEffect(()=>{i&&f.current&&f.current.focus()},[i]),v.jsx("div",{className:"w-[280px] bg-white border-r border-gray-200 overflow-auto",children:v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"flex items-center space-x-1 py-2 mb-6",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),v.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),v.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"})]}),v.jsxs("div",{className:"font-bold text-lg mb-6 flex justify-between items-center",children:[v.jsxs("span",{className:"cursor-pointer flex items-center",onClick:()=>h("works"),children:[v.jsx(we,{icon:e.works?"ri:arrow-down-s-line":"ri:arrow-right-s-line",className:"w-5 h-5 mr-1 text-gray-500"}),"作品集"]}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 text-gray-500 cursor-pointer",onClick:k})]}),e.works&&v.jsx("div",{className:"space-y-4 mb-4",children:n.map($=>v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:e[$.id]?"ri:arrow-down-s-line":"ri:arrow-right-s-line",className:"w-5 h-5 mr-2 text-gray-500 cursor-pointer",onClick:()=>h($.id)}),i===$.id?v.jsx("input",{ref:f,value:c,onChange:I=>u(I.target.value),onBlur:b,onKeyDown:S,className:"flex-grow border border-gray-300 rounded px-2 py-1"}):v.jsx("span",{className:"flex-grow cursor-pointer",onClick:()=>g($),onDoubleClick:()=>y($),children:$.name}),v.jsx(we,{icon:"ri:download-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>C()}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>p()})]}),e[$.id]&&v.jsxs("div",{className:"ml-7 space-y-2 mt-2",children:[$.views.characters&&$.characters&&$.characters.length>0&&v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:e[`${$.id}-characters`]?"ri:arrow-down-s-line":"ri:arrow-right-s-line",className:"w-5 h-5 mr-2 text-gray-500 cursor-pointer",onClick:()=>h(`${$.id}-characters`)}),v.jsx("span",{className:"flex-grow cursor-pointer",children:"角色剧本"}),v.jsx(we,{icon:"ri:download-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>$.characters&&$.characters.length>0?R():p()}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>$.characters&&$.characters.length>0?M():p()})]}),e[`${$.id}-characters`]&&v.jsx("div",{className:"ml-6 mt-1 space-y-1",children:$.characters&&$.characters.map(I=>v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:e[I.id]?"ri:arrow-down-s-line":"ri:arrow-right-s-line",className:"w-5 h-5 mr-2 text-gray-500 cursor-pointer",onClick:()=>h(I.id)}),v.jsx("span",{className:"flex-grow cursor-pointer",children:I.name}),v.jsx(we,{icon:"ri:download-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>R()}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>M()})]}),e[I.id]&&I.scripts&&I.scripts.length>0&&v.jsx("div",{className:"ml-7 space-y-1 mt-1",children:I.scripts&&I.scripts.map(_=>v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:"ri:arrow-right-s-line",className:"w-5 h-5 mr-2 text-gray-500"}),v.jsx("span",{className:"flex-grow cursor-pointer",onClick:()=>P(),children:_.name}),v.jsx(we,{icon:"ri:download-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>O()}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>p()})]},_.id))})]},I.id))})]}),$.views.hostManual&&v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:"ri:arrow-right-s-line",className:"w-5 h-5 mr-2 text-gray-500"}),v.jsx("span",{className:"flex-grow cursor-pointer",onClick:()=>p(),children:"主持人手册"}),v.jsx(we,{icon:"ri:download-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>p()}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>p()})]}),$.views.materials&&v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:"ri:arrow-right-s-line",className:"w-5 h-5 mr-2 text-gray-500"}),v.jsx("span",{className:"flex-grow cursor-pointer",onClick:()=>p(),children:"物料"}),v.jsx(we,{icon:"ri:download-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>p()}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 ml-2 text-gray-500 cursor-pointer",onClick:()=>p()})]})]})]},$.id))}),v.jsxs("div",{className:"font-bold text-lg mt-6 mb-2 flex justify-between items-center hover:bg-gray-50 p-2 rounded-md",children:[v.jsxs("span",{className:"cursor-pointer flex items-center",onClick:()=>N(),children:[v.jsx(we,{icon:"ri:arrow-right-s-line",className:"w-5 h-5 mr-1 text-gray-500"}),"知识库"]}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 text-gray-500 cursor-pointer",onClick:$=>{$.stopPropagation(),p()}})]}),v.jsxs("div",{className:"font-bold text-lg mt-6 mb-2 flex justify-between items-center hover:bg-gray-50 p-2 rounded-md",children:[v.jsxs("span",{className:"cursor-pointer flex items-center",onClick:A,children:[v.jsx(we,{icon:"ri:arrow-right-s-line",className:"w-5 h-5 mr-1 text-gray-500"}),"工作流"]}),v.jsx(we,{icon:"ri:add-line",className:"w-5 h-5 text-gray-500 cursor-pointer",onClick:$=>{$.stopPropagation(),p()}})]}),v.jsx("div",{className:"text-gray-400 text-sm absolute bottom-4 left-4",children:"Writer.AI @千帆叙梦"})]})})};function Rs({tabs:e,defaultTab:t,onTabChange:n}){const[r,i]=E.useState(t||e[0]);let a;try{a=$f()}catch{a=f=>{console.warn("Navigation attempted outside Router context:",f),window.location.href=f}}const c=u=>{i(u),u==="分幕"?a("/scenes"):u==="剧本"?a("/editor"):u==="大纲"?a("/outline"):u==="角色"?a("/characters"):u==="关系"?a("/relations"):u==="章节"&&a("/chapters"),n(u)};return v.jsx(v.Fragment,{children:v.jsx("div",{className:"flex justify-center items-center mb-6 mt-5 overflow-x-auto",children:e.map((u,f)=>v.jsxs("div",{className:"flex items-center flex-shrink-0",children:[v.jsx("button",{className:`flex items-center justify-center min-w-[54px] px-3 py-1 text-[14px] border ${r===u?"bg-black text-white border-black":"bg-white text-black border-gray-300"} rounded-md`,onClick:()=>c(u),children:u}),f<e.length-1&&v.jsx("div",{className:"w-3 h-[1px] bg-gray-300 mx-1"})]},u))})})}const q5="sk-a66b3a944d5441469d3bd013b8f43cf7",X5="https://api.deepseek.com/v1/chat/completions";async function Fx(e){try{const t=await fetch(X5,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q5}`},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"user",content:e}],temperature:.7,max_tokens:1e3})});if(!t.ok)throw new Error(`API请求失败: ${t.status} ${t.statusText}`);return(await t.json()).choices[0].message.content}catch(t){return console.error("DeepSeek API调用失败:",t),"抱歉，在生成内容时发生错误。请稍后再试。"}}function Um(){let e;try{e=$f()}catch{e=Ke=>{console.warn("Navigation attempted outside Router context:",Ke),window.location.href=Ke}}const[t,n]=E.useState("剧本"),r=["大纲","角色","关系","章节","分幕","剧本"],i=Te=>{n(Te),Te==="分幕"&&e("/scenes")},[a,c]=E.useState(!1),[u,f]=E.useState("deepseekr1"),h=["deepseekr1"],[p,g]=E.useState(!1),[y,b]=E.useState("简洁"),w=["简洁","细腻","幽默","悬疑","浪漫"],[S,k]=E.useState(!1),[C,R]=E.useState([]),[O,M]=E.useState(null),[A,N]=E.useState(""),[P,$]=E.useState([{text:"角色1和角色2在不同场景下的互动",isUser:!0},{text:"",isUser:!1}]),[I,_]=E.useState([]),[F,ee]=E.useState(null),[K,L]=E.useState("主角"),[Y,j]=E.useState(""),[G,Q]=E.useState("请优化以下剧情，使其更加生动有趣，情节更合理："),[V,B]=E.useState([]),[H,W]=E.useState(!1);return{selectedTab:t,setSelectedTab:i,tabs:r,showModelDropdown:a,toggleModelDropdown:()=>c(!a),selectedModel:u,selectModel:Te=>{f(Te),c(!1)},models:h,showStyleDropdown:p,toggleStyleDropdown:()=>g(!p),selectedStyle:y,selectStyle:Te=>{b(Te),g(!1)},styles:w,generatingScenarios:S,scenarioOptions:C,selectedScenario:O,generateScenarioOptions:async(Te="",Ke="",Be="主角",Fe="")=>{k(!0);let Ve="";Te&&(Ve+=`接上文：
${Te}
`),Ve+=`以「${Be}」的第二人称视角，使用${y}文风，要求符合逻辑、不能有超现实内容，并输出三种可能性的结果，继续展开以下剧情：
`,Ke&&(Ve+=`${Ke}
`),Fe&&(Ve+=`补充：${Fe}`),console.log("Generating scenarios with prompt:",Ve),console.log("Using model:",u,"with style:",y);try{if(u==="deepseekr1"){const Se=(await Fx(Ve)).split(`
`),ze=[];let ft={id:"",text:""};for(const it of Se)if(it.startsWith("选项")||it.startsWith("Option")){if(ft.id&&(ze.push(ft),ze.length>=3))break;ft={id:ze.length+1+"",text:it}}else ft.id&&it.trim()&&(ft.text+=" "+it.trim());for(ft.id&&ze.length<3&&ze.push(ft);ze.length<3;)ze.push({id:ze.length+1+"",text:`选项${ze.length+1}: DeepSeek生成的额外选项...`});R(ze),k(!1),$(it=>[...it,{text:`${u}模型和${y}文风`,isUser:!1}]);return}setTimeout(()=>{const _e=[{id:"1",text:`选项1 (${u}/${y}): 你走进房间，发现桌上放着一封信。拆开后，你不敢相信自己的眼睛...`},{id:"2",text:`选项2 (${u}/${y}): 你犹豫了一下，决定先不进入房间。直觉告诉你应该先确认周围环境...`},{id:"3",text:`选项3 (${u}/${y}): 你深吸一口气，推开了房门。出乎意料的是，房间里空无一人，但窗户大开...`}];R(_e),k(!1),$(Se=>[...Se,{text:`${u}模型和${y}文风`,isUser:!1}])},2e3)}catch(_e){console.error("生成剧情选项时出错:",_e),k(!1),$(Se=>[...Se,{text:"生成剧情选项时发生错误，请稍后重试。",isUser:!1}])}},selectScenario:Te=>{M(Te);const Ke=C.find(Be=>Be.id===Te);Ke&&($(Be=>[...Be,{text:`我选择了: ${Ke.text}`,isUser:!0}]),R([]))},scenes:I,setScenes:_,selectedScene:F,setSelectedScene:ee,characterName:K,setCharacterName:L,generateSceneSummaries:(Te,Ke="主角")=>{if(!Te||Te.trim().length===0){alert("请先输入初稿内容");return}if(Te.length>5e4){alert("初稿内容不能超过5万字");return}const Be=[];let Fe=0,Ve=Te;for(;Ve.length>0;){const Se=Math.min(Math.max(2e3,Math.floor(Math.random()*3e3)+2e3),Ve.length);if(Ve.length<=Se){Be.push({text:Ve,startPos:Fe,endPos:Fe+Ve.length});break}let ze=Se;for(let it=Se;it>Se-500&&it>0;it--)if(Ve[it]==="。"||Ve[it]===`
`){ze=it+1;break}const ft=Ve.substring(0,ze);Be.push({text:ft,startPos:Fe,endPos:Fe+ze}),Ve=Ve.substring(ze),Fe+=ze}return Be.map((Se,ze)=>{const ft=`${Ke}在第${ze+1}段落中与其他角色发生互动，情节发展带来情感变化`;return{id:`scene-${ze+1}`,summary:ft,startPos:Se.startPos,endPos:Se.endPos}})},selectedDraftText:Y,setSelectedDraftText:j,optimizationPrompt:G,setOptimizationPrompt:Q,optimizedResults:V,setOptimizedResults:B,isOptimizing:H,generateOptimizedText:async Te=>{if(!Te||Te.trim().length===0){alert("请选择需要优化的文本");return}W(!0);const Ke=`${G}

${Te}`;try{if(u==="deepseekr1"){const Be=await Fx(Ke),Fe={id:Date.now().toString(),text:Be};B(Ve=>[...Ve,Fe]),W(!1);return}setTimeout(()=>{const Be=`【${u}优化结果】这是一段使用${y}文风优化的文本示例。它不仅保留了原文的核心内容，还增加了更多的细节描写和情感表达，使故事更加生动。

${Te}

这里是延伸和丰富后的内容...`,Fe={id:Date.now().toString(),text:Be};B(Ve=>[...Ve,Fe]),W(!1)},2e3)}catch(Be){console.error("生成优化文本时出错:",Be),W(!1),alert("生成优化文本时发生错误，请稍后重试")}},optimizationText:A,setOptimizationText:N,messages:P,setMessages:$,handleKeyDown:async Te=>{if(Te.key==="Enter"&&Te.currentTarget.value){const Ke=Te.currentTarget.value;$(Be=>[...Be,{text:Ke,isUser:!0}]),N("");try{if(u==="deepseekr1"){$(Fe=>[...Fe,{text:"DeepSeek正在思考中...",isUser:!1}]);const Be=await Fx(Ke);$(Fe=>{const Ve=[...Fe];return Ve[Ve.length-1]={text:Be,isUser:!1},Ve});return}$(Be=>[...Be,{text:`这是来自${u}的模拟响应，基于您的输入："${Ke}"`,isUser:!1}])}catch(Be){console.error("处理用户输入时出错:",Be),$(Fe=>[...Fe,{text:"处理您的请求时发生错误，请稍后重试。",isUser:!1}])}}}}}function K5(){const{selectedTab:e,setSelectedTab:t,tabs:n,showModelDropdown:r,toggleModelDropdown:i,selectedModel:a,selectModel:c,models:u,selectedStyle:f,messages:h,setMessages:p}=Um(),[g,y]=E.useState(""),[b,w]=E.useState(""),[S,k]=E.useState(""),[C,R]=E.useState(!1),[O,M]=E.useState([]),A=E.useRef(null),N=E.useRef(null),[P,$]=E.useState([]),[I,_]=E.useState(!1),[F,ee]=E.useState([]),[K,L]=E.useState(!1),[Y,j]=E.useState(""),[G,Q]=E.useState({}),[V]=E.useState([{id:"q1",text:"1. 建议让角色动机更加明确，增加角色内心的矛盾和挣扎，使角色更加立体。"},{id:"q2",text:"2. 情节可以更加紧凑，节奏感更强，增加一些意外转折来提高读者兴趣。"},{id:"q3",text:"3. 考虑增加更多环境描写和细节，让读者能够更好地沉浸在故事世界中。"}]),[B,H]=E.useState(null),[W,re]=E.useState(""),[ae,ye]=E.useState(null),[me,Ne]=E.useState(!1),ue=["请帮我分析这个角色的心理动机","为这个场景增加更多冲突元素","优化这段对话，使其更加自然流畅","调整情节节奏，增加高潮部分的紧凑感","为这个情节添加一个意外转折"],[be,Ce]=E.useState("conversation"),Ue={角色:["让角色性格更加鲜明，增加以下特点...","调整角色之间的关系，使冲突更加明显","增加角色的成长弧线，从内向变得更加自信"],情节:["增加一个意外转折，让主角面临更大的挑战","调整情节节奏，使高潮部分更加紧凑","增加一些伏笔，为后续发展做铺垫"],对白:["让对白更加简练，突出角色个性","增加潜台词，让对白层次更加丰富","调整对白节奏，增加停顿和交锋"],场景:["增加场景描写，突出氛围和情绪","调整场景转换，使故事流程更加流畅","在关键场景增加象征性元素"]},Te=["剧情节奏太慢，希望更加紧凑","角色动机不够清晰，需要调整","故事缺乏高潮，需要增加戏剧冲突"];E.useEffect(()=>{const ce=ve=>{ve.detail&&ve.detail.text&&(ve.detail.previousContent&&y(ve.detail.previousContent),ve.detail.currentContent&&w(ve.detail.currentContent))};return window.addEventListener("draftTextSelected",ce),()=>{window.removeEventListener("draftTextSelected",ce)}},[]),E.useEffect(()=>{const ce=ve=>{if(ve.key==="Escape"&&O.length>0&&M([]),O.length>0&&["1","2","3"].includes(ve.key)){const Ie=parseInt(ve.key)-1;O[Ie]&&Bt(O[Ie].text)}};return window.addEventListener("keydown",ce),()=>{window.removeEventListener("keydown",ce)}},[O]),E.useEffect(()=>{O.length>0&&A.current?A.current.focus():N.current&&N.current.focus()},[O.length]),E.useEffect(()=>{if(S.trim()===""){_(!1);return}const ce=S.toLowerCase();let ve=[],Ie="";ce.includes("角色")||ce.includes("人物")||ce.includes("性格")?(ve=Ue.角色,Ie="角色相关建议"):ce.includes("情节")||ce.includes("剧情")||ce.includes("故事")?(ve=Ue.情节,Ie="情节相关建议"):ce.includes("对白")||ce.includes("台词")||ce.includes("说话")?(ve=Ue.对白,Ie="对白相关建议"):ce.includes("场景")||ce.includes("环境")||ce.includes("背景")?(ve=Ue.场景,Ie="场景相关建议"):ce.length>2&&(ve=Te,Ie="通用建议"),ve.length>0?($(ve),Be(Ie),_(!0)):_(!1)},[S]);const[Ke,Be]=E.useState(""),Fe=E.useCallback(ce=>{const ve=[];return ce.includes("角色")?ve.push("角色性格不够鲜明","角色动机不明确","角色缺乏成长"):ce.includes("情节")&&ve.push("情节节奏太慢","情节缺乏冲突","情节转折不自然"),ve.length===0&&ce.length>0?["加强戏剧冲突","改善节奏","增加悬念","优化结构"]:ve},[]),Ve=ce=>{H(ce),re(h[ce].text)},_e=()=>{if(B===null||!W.trim())return;const ce=[...h];ce[B]={...ce[B],text:W},p(ce),H(null),re("")},Se=()=>{H(null),re("")},ze=ce=>{const ve=h.filter((Ie,Ze)=>Ze!==ce);p(ve)},ft=async ce=>{if(h[ce].isUser)return;ye(ce);let ve="";for(let Ze=ce-1;Ze>=0;Ze--)if(h[Ze].isUser){ve=h[Ze].text;break}ve||(ve="请继续故事发展");const Ie=S;k(ve);try{if(await Ct(!0,0),O.length>0){const Ze=[...h];Ze[ce]={...Ze[ce],text:O[0].text.replace(/^\d+\.\s+/,"")},p(Ze),M([])}}catch(Ze){console.error("重新生成AI回复失败:",Ze)}finally{k(Ie),ye(null)}},it=()=>{window.confirm("确定要清空所有对话历史吗？此操作不可撤销。")&&(p([]),M([]))},Oe=ce=>{k(ce),Ne(!1),N.current&&N.current.focus()},tn=ce=>{Ce(ce)},ln=E.useCallback(ce=>{ce.trim()!==""&&ee(ve=>{const Ie=ve.filter(Ze=>Ze!==ce);return[ce,...Ie].slice(0,5)})},[]);E.useEffect(()=>{if(S.trim()===""){L(!1);return}const ce=F.find(ve=>ve.toLowerCase().startsWith(S.toLowerCase())&&ve.length>S.length);ce?(j(ce),L(!0)):L(!1)},[S,F]);const En=()=>{K&&Y&&(k(Y),L(!1),N.current&&N.current.focus())},Ct=async(ce=!0,ve=0)=>{if(!S.trim())return;const Ie=3,Ze=S.trim().toLowerCase();if(G[Ze]){M(G[Ze]),R(!1);return}ln(S),ce&&R(!0),console.log("开始生成优化内容，输入:",S);let Ht="";g&&(Ht+=`接上文：${g}

`),b&&(Ht+=`当前剧情：${b}

`),Ht+=`用户反馈：${S}

`,Ht+="根据以上上下文，请提供三种不同的剧情优化方向，每个方向具有创意性和连贯性，符合角色设定和故事逻辑。";try{console.log(`调用DeepSeek API... 尝试 ${ve+1}/${Ie+1}`);const yt="sk-657e30eb77ba48e0834a0821dcd8279f",Cn=new AbortController,kn=setTimeout(()=>Cn.abort(),15e3),Dn=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${yt}`},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:"你是一个专业的剧本顾问和编剧，擅长分析故事结构、角色发展并提供富有创意的剧情建议。你的回答应当简洁、具体、有创意，并且分为三个不同的选项。每个选项都应该以数字编号（1. 2. 3.）开头。"},{role:"user",content:Ht}],temperature:.8,max_tokens:2e3,top_p:.95}),signal:Cn.signal});if(clearTimeout(kn),!Dn.ok)throw new Error(`API调用失败: ${Dn.status}`);const Hn=await Dn.json();console.log("DeepSeek API返回:",Hn);const fn=Hn.choices[0].message.content.split(/\n\s*\d+[\.\)]\s+/).filter(hn=>hn.trim().length>0).slice(0,3).map(hn=>hn.trim()).map((hn,Er)=>({id:String(Er+1),text:`${Er+1}. ${hn}`}));for(;fn.length<3;)fn.push({id:String(fn.length+1),text:`${fn.length+1}. 抱歉，我无法为您提供更多的建议。`});console.log("格式化后的建议:",fn),Q(hn=>({...hn,[Ze]:fn})),M(fn)}catch(yt){if(console.error("生成优化内容失败:",yt),ve<Ie&&(yt.name==="AbortError"||yt.name==="TypeError"||yt.message&&yt.message.includes("network"))){console.log(`网络错误，将在1秒后重试 (${ve+1}/${Ie})`),M([{id:"retry",text:`网络连接不稳定，正在重试 (${ve+1}/${Ie})...`}]),setTimeout(()=>{Ct(!1,ve+1)},1e3*(ve+1));return}M([{id:"1",text:"1. 由于网络连接问题，无法获取建议。请检查您的网络连接后重试。"},{id:"2",text:"2. 您也可以刷新页面或稍后再试。"},{id:"3",text:"3. 如果问题持续存在，可能是API服务暂时不可用。"}])}finally{R(!1)}},ut=E.useCallback(()=>{if(!S.trim())return;const ce=S.trim().toLowerCase();if(G[ce]){M(G[ce]);return}if(ln(S),be==="conversation"){p(ve=>[...ve,{text:S,isUser:!0}]),R(!0),setTimeout(async()=>{try{if(await Ct(!1,0),O.length>0){const ve=O[0].text.replace(/^\d+\.\s+/,"");p(Ie=>[...Ie,{text:ve,isUser:!1}]),M([]),k("")}}catch(ve){console.error("生成AI回复失败:",ve),p(Ie=>[...Ie,{text:"抱歉，生成回复时发生错误，请稍后重试。",isUser:!1}])}finally{R(!1)}},300);return}M(V),R(!0),setTimeout(()=>{Ct(!1,0)},300)},[S,G,V,be]),Bt=ce=>{console.log("选择了回复:",ce);const ve=new CustomEvent("optimizedTextReady",{detail:{text:ce}});window.dispatchEvent(ve),y(""),w(""),k(""),M([]),console.log("回复已选择")},_t=E.useCallback(ce=>{const ve=ce.replace(/^\d+\.\s+/,"");navigator.clipboard.writeText(ve).then(()=>{console.log("文本已复制到剪贴板")}).catch(Ie=>{console.error("复制失败:",Ie)})},[]),jn=ce=>{k(ce),_(!1),N.current&&N.current.focus()};return v.jsxs("div",{className:"w-[520px] border-r border-gray-200 bg-white flex flex-col h-full",children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:`
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #000;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #333;
    }
    .scrollbar-container {
      position: relative;
    }
    .scrollbar-overlay {
      position: absolute;
      top: 0;
      right: 0;
      width: 6px;
      height: 50%;
      background-color: white;
      z-index: 5;
      pointer-events: none;
    }
  `}}),v.jsxs("div",{className:"scrollbar-container flex-1 relative overflow-auto",children:[v.jsx("div",{className:"scrollbar-overlay"}),v.jsxs("div",{className:"p-4 pb-20 overflow-y-auto custom-scrollbar",children:[" ",v.jsx(Rs,{tabs:n,defaultTab:e,onTabChange:t}),v.jsxs("div",{className:"flex items-center gap-4 mb-6 mt-4",children:[v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"flex items-center px-4 py-2 bg-gray-100 rounded-md cursor-pointer",onClick:i,children:[v.jsx("div",{className:"flex items-center justify-center mr-2",children:v.jsx("span",{className:"font-medium text-black",children:"AI"})}),v.jsx("span",{className:"font-medium text-black",children:a}),v.jsx(we,{icon:"mdi:chevron-down",className:"ml-2 text-gray-700"})]}),r&&v.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-10 w-full",children:u.map(ce=>v.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-gray-100 ${a===ce?"bg-gray-100":""}`,onClick:()=>c(ce),children:ce},ce))})]}),v.jsx("div",{className:"flex items-center px-4 py-2 bg-gray-50 rounded-md",children:v.jsxs("span",{className:"text-gray-700",children:["文风: ",f]})})]}),v.jsx("div",{className:"space-y-4 mb-6",children:h.length>0?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"对话历史"}),v.jsxs("button",{className:"text-xs text-gray-500 hover:text-red-500 flex items-center gap-1",onClick:it,children:[v.jsx(we,{icon:"mdi:delete-outline",className:"w-4 h-4"}),v.jsx("span",{children:"清空历史"})]})]}),h.map((ce,ve)=>v.jsx("div",{className:`flex ${ce.isUser?"justify-end":"justify-start"}`,children:B===ve?v.jsxs("div",{className:"w-full max-w-[80%] bg-white border border-gray-300 rounded-lg overflow-hidden",children:[v.jsx("textarea",{className:"w-full p-3 focus:outline-none resize-none",value:W,onChange:Ie=>re(Ie.target.value),rows:3,autoFocus:!0}),v.jsxs("div",{className:"flex justify-end p-2 bg-gray-50 border-t border-gray-200",children:[v.jsx("button",{className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800 mr-2",onClick:Se,children:"取消"}),v.jsx("button",{className:"px-3 py-1 text-xs bg-black text-white rounded-md",onClick:_e,children:"保存"})]})]}):v.jsxs("div",{className:`${ce.isUser?"bg-black text-white":"bg-white border border-gray-200"} rounded-lg px-4 py-3 relative max-w-[80%] group`,children:[v.jsx("div",{className:ce.isUser?"text-right":"",children:ce.text}),ce.isUser&&v.jsx("div",{className:"absolute w-3 h-3 bg-black transform rotate-45 right-[-6px] top-1/2 -translate-y-1/2"}),v.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[v.jsx("button",{className:"p-1 bg-gray-100 rounded-md hover:bg-gray-200 text-gray-600",onClick:()=>Ve(ve),title:"编辑消息",children:v.jsx(we,{icon:"mdi:pencil",className:"w-3 h-3"})}),!ce.isUser&&v.jsx("button",{className:`p-1 bg-gray-100 rounded-md hover:bg-gray-200 text-gray-600 ${ae===ve?"animate-spin":""}`,onClick:()=>ft(ve),disabled:ae!==null,title:"重新生成",children:v.jsx(we,{icon:"mdi:refresh",className:"w-3 h-3"})}),v.jsx("button",{className:"p-1 bg-gray-100 rounded-md hover:bg-gray-200 text-gray-600",onClick:()=>ze(ve),title:"删除消息",children:v.jsx(we,{icon:"mdi:delete",className:"w-3 h-3"})})]})]})},ve))]}):v.jsxs("div",{className:"text-center py-10 text-gray-500",children:[v.jsx("p",{children:"暂无对话历史"}),v.jsx("p",{className:"text-sm mt-1",children:"输入内容开始对话"})]})}),C?v.jsxs("div",{className:"text-center py-4 mb-4",children:[v.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"}),v.jsxs("p",{className:"mt-2 text-gray-600",children:["正在使用 ",a," 生成回复..."]})]}):O.length>0?v.jsx("div",{className:"space-y-3 mb-4",tabIndex:0,ref:A,children:O.map(ce=>v.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors overflow-hidden relative group",onClick:ve=>{ve.preventDefault(),ve.detail===2&&Bt(ce.text)},onDoubleClick:()=>Bt(ce.text),children:[v.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx("button",{className:"p-1 bg-gray-100 rounded-md hover:bg-gray-200 text-gray-600",onClick:ve=>{ve.stopPropagation(),_t(ce.text)},title:"复制内容","aria-label":"复制内容",children:v.jsx(we,{icon:"mdi:content-copy",className:"w-4 h-4"})})}),v.jsxs("p",{className:"whitespace-normal break-words",style:{userSelect:"text"},children:[v.jsxs("span",{className:"font-medium",children:[ce.id,". "]}),ce.text.replace(/^\d+\.\s+/,"")]})]},ce.id))}):null]})]}),v.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{className:`px-3 py-1 text-xs rounded-full ${be==="conversation"?"bg-black text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>tn("conversation"),children:"对话模式"}),v.jsx("button",{className:`px-3 py-1 text-xs rounded-full ${be==="optimization"?"bg-black text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>tn("optimization"),children:"优化模式"})]}),v.jsxs("button",{className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",onClick:()=>Ne(!me),children:[v.jsx(we,{icon:"mdi:lightning-bolt",className:"w-4 h-4"}),v.jsx("span",{children:"预设Prompt"})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{ref:N,type:"text",placeholder:C?"正在生成内容...":be==="conversation"?"输入内容开始对话...":"剧情不好？告诉我如何优化，如：xxxxxx",className:"w-full border border-gray-300 rounded-lg p-3 pr-10 text-gray-700 focus:border-black focus:ring-0 transition-colors",value:S,onChange:ce=>k(ce.target.value),onKeyDown:ce=>{if(ce.key==="Enter"&&S.trim()&&!C)ut();else if(ce.key==="Escape")_(!1),L(!1),Ne(!1);else if(ce.key==="ArrowDown"&&I){const ve=document.querySelectorAll(".suggestion-item");ve.length>0&&ve[0].focus(),ce.preventDefault()}else if(ce.key==="Tab"&&K)En(),ce.preventDefault();else if(ce.key==="ArrowRight"&&K){const ve=ce.currentTarget.selectionStart,Ie=ce.currentTarget.selectionEnd;ve===Ie&&Ie===S.length&&(En(),ce.preventDefault())}},onFocus:()=>{S.trim()!==""&&P.length>0&&_(!0)},onBlur:ce=>{setTimeout(()=>{ce.currentTarget&&document.activeElement&&document.body.contains(ce.currentTarget)&&!ce.currentTarget.contains(document.activeElement)&&(_(!1),L(!1))},200)},disabled:C}),v.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${S.trim()&&!C?"text-black":"text-gray-400"}`,onClick:()=>{S.trim()&&!C&&ut()},disabled:C,children:v.jsx(we,{icon:C?"mdi:loading":"mdi:send",className:C?"animate-spin":""})}),me&&v.jsxs("div",{className:"absolute left-0 right-0 bottom-full mb-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 overflow-hidden max-h-60 overflow-y-auto",children:[v.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500 border-b border-gray-100 flex justify-between items-center",children:[v.jsx("span",{children:"预设Prompt"}),v.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>Ne(!1),children:v.jsx(we,{icon:"mdi:close",className:"w-4 h-4"})})]}),v.jsx("div",{className:"divide-y divide-gray-50",children:ue.map((ce,ve)=>v.jsx("div",{className:"px-3 py-2.5 hover:bg-gray-50 cursor-pointer text-gray-700 transition-colors",onClick:()=>Oe(ce),children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:"mdi:lightning-bolt",className:"mr-2 text-gray-400 flex-shrink-0"}),v.jsx("span",{children:ce})]})},ve))})]}),I&&v.jsxs("div",{className:"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 overflow-hidden max-h-60 overflow-y-auto",children:[v.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500 border-b border-gray-100 flex justify-between items-center",children:[v.jsx("span",{children:Ke||"推荐建议"}),v.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>_(!1),children:v.jsx(we,{icon:"mdi:close",className:"w-4 h-4"})})]}),S.length>0&&v.jsxs("div",{className:"px-3 py-2 border-b border-gray-100",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:"快捷短语"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:Fe(S).map((ce,ve)=>v.jsx("button",{className:"text-xs bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded text-gray-700 transition-colors",onClick:()=>jn(ce),children:ce},ve))})]}),v.jsx("div",{className:"divide-y divide-gray-50",children:P.map((ce,ve)=>v.jsxs("div",{className:"suggestion-item px-3 py-2.5 hover:bg-gray-50 cursor-pointer text-gray-700 transition-colors flex items-center",onClick:()=>jn(ce),onKeyDown:Ie=>{if(Ie.key==="Enter")jn(ce);else if(Ie.key==="ArrowDown"){const Ze=document.querySelectorAll(".suggestion-item")[ve+1];Ze&&Ze.focus(),Ie.preventDefault()}else if(Ie.key==="ArrowUp"){const Ze=document.querySelectorAll(".suggestion-item")[ve-1];Ze?Ze.focus():N.current&&N.current.focus(),Ie.preventDefault()}},tabIndex:0,children:[v.jsx(we,{icon:"mdi:lightbulb-outline",className:"mr-2 text-gray-400 flex-shrink-0"}),v.jsx("span",{children:ce})]},ve))})]}),K&&v.jsx("div",{className:"absolute left-0 right-0 top-0 pointer-events-none",children:v.jsxs("div",{className:"relative pl-3 pr-10 py-3 text-gray-400",children:[v.jsx("span",{className:"invisible",children:S}),v.jsx("span",{children:Y.substring(S.length)}),v.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400",children:"Tab 补全"})]})}),S===""&&F.length>0&&v.jsxs("div",{className:"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 overflow-hidden",children:[v.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 border-b border-gray-100",children:"最近使用"}),F.map((ce,ve)=>v.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer text-gray-700 border-b border-gray-50 last:border-0",onClick:()=>jn(ce),children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:"mdi:history",className:"mr-2 text-gray-400 flex-shrink-0"}),v.jsx("span",{className:"truncate",children:ce})]})},ve))]})]})]})]})}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Z5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}function Vx(){}Object.assign(Vx,{default:Vx,register:Vx,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(e){const t=document.createDocumentFragment();Array.isArray(e)||(e=[e]),e.forEach(n=>{const r=n instanceof Node;t.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(t,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=arguments.length===0?!0:!!e;const t=this.parentNode,n=window.getComputedStyle(t,null),r=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),a=this.offsetTop-t.offsetTop<t.scrollTop,c=this.offsetTop-t.offsetTop+this.clientHeight-r>t.scrollTop+t.clientHeight,u=this.offsetLeft-t.offsetLeft<t.scrollLeft,f=this.offsetLeft-t.offsetLeft+this.clientWidth-i>t.scrollLeft+t.clientWidth,h=a&&!c;(a||c)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-r+this.clientHeight/2),(u||f)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-i+this.clientWidth/2),(a||c||u||f)&&!e&&this.scrollIntoView(h)});window.requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};let W5=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var Ek=(e=>(e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e))(Ek||{});const Je={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},Q5={LEFT:0};function Kc(e,t,n="log",r,i="color: inherit"){if(!("console"in window)||!window.console[n])return;const a=["info","log","warn","error"].includes(n),c=[];switch(Kc.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!a||e)return;break}r&&c.push(r);const u="Editor.js 2.31.0-rc.7";e&&(a?(c.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,i),t=`%c${u}%c ${t}`):t=`( ${u} )${t}`);try{a?r?console[n](`${t} %o`,...c):console[n](t,...c):console[n](t)}catch{}}Kc.logLevel="VERBOSE";function J5(e){Kc.logLevel=e}const Et=Kc.bind(window,!1),Lr=Kc.bind(window,!0);function Es(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function qt(e){return Es(e)==="function"||Es(e)==="asyncfunction"}function On(e){return Es(e)==="object"}function Qo(e){return Es(e)==="string"}function eB(e){return Es(e)==="boolean"}function $S(e){return Es(e)==="number"}function PS(e){return Es(e)==="undefined"}function zr(e){return e?Object.keys(e).length===0&&e.constructor===Object:!0}function Ck(e){return e>47&&e<58||e===32||e===13||e===229||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}async function tB(e,t=()=>{},n=()=>{}){async function r(i,a,c){try{await i.function(i.data),await a(PS(i.data)?{}:i.data)}catch{c(PS(i.data)?{}:i.data)}}return e.reduce(async(i,a)=>(await i,r(a,t,n)),Promise.resolve())}function kk(e){return Array.prototype.slice.call(e)}function ff(e,t){return function(){const n=this,r=arguments;window.setTimeout(()=>e.apply(n,r),t)}}function nB(e){return e.name.split(".").pop()}function rB(e){return/^[-\w]+\/([-+\w]+|\*)$/.test(e)}function zS(e,t,n){let r;return(...i)=>{const a=this,c=()=>{r=null,e.apply(a,i)};window.clearTimeout(r),r=window.setTimeout(c,t)}}function zg(e,t,n=void 0){let r,i,a,c=null,u=0;n||(n={});const f=function(){u=n.leading===!1?0:Date.now(),c=null,a=e.apply(r,i),c||(r=i=null)};return function(){const h=Date.now();!u&&n.leading===!1&&(u=h);const p=t-(h-u);return r=this,i=arguments,p<=0||p>t?(c&&(clearTimeout(c),c=null),u=h,a=e.apply(r,i),c||(r=i=null)):!c&&n.trailing!==!1&&(c=setTimeout(f,p)),a}}function oB(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return t&&(e[t]=!0),e}function hf(e){return e[0].toUpperCase()+e.slice(1)}function Hg(e,...t){if(!t.length)return e;const n=t.shift();if(On(e)&&On(n))for(const r in n)On(n[r])?(e[r]||Object.assign(e,{[r]:{}}),Hg(e[r],n[r])):Object.assign(e,{[r]:n[r]});return Hg(e,...t)}function Fm(e){const t=oB();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),t.mac?e=e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e=e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),e}function iB(e){try{return new URL(e).href}catch{}return e.substring(0,2)==="//"?window.location.protocol+e:window.location.origin+e}function sB(){return W5(10)}function aB(e){window.open(e,"_blank")}function lB(e=""){return`${e}${Math.floor(Math.random()*1e8).toString(16)}`}function Ug(e,t,n){const r=`«${t}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;e&&Lr(r,"warn")}function qa(e,t,n){const r=n.value?"value":"get",i=n[r],a=`#${t}Cache`;if(n[r]=function(...c){return this[a]===void 0&&(this[a]=i.apply(this,...c)),this[a]},r==="get"&&n.set){const c=n.set;n.set=function(u){delete e[a],c.apply(this,u)}}return n}const Tk=650;function Xa(){return window.matchMedia(`(max-width: ${Tk}px)`).matches}const Fg=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function cB(e,t){const n=Array.isArray(e)||On(e),r=Array.isArray(t)||On(t);return n||r?JSON.stringify(e)===JSON.stringify(t):e===t}let xe=class Gn{static isSingleTag(t){return t.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}static isLineBreakTag(t){return t&&t.tagName&&["BR","WBR"].includes(t.tagName)}static make(t,n=null,r={}){const i=document.createElement(t);if(Array.isArray(n)){const a=n.filter(c=>c!==void 0);i.classList.add(...a)}else n&&i.classList.add(n);for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a]);return i}static text(t){return document.createTextNode(t)}static append(t,n){Array.isArray(n)?n.forEach(r=>t.appendChild(r)):t.appendChild(n)}static prepend(t,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>t.prepend(r))):t.prepend(n)}static swap(t,n){const r=document.createElement("div"),i=t.parentNode;i.insertBefore(r,t),i.insertBefore(t,n),i.insertBefore(n,r),i.removeChild(r)}static find(t=document,n){return t.querySelector(n)}static get(t){return document.getElementById(t)}static findAll(t=document,n){return t.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(t=>`input[type="${t}"]`).join(", ")}static findAllInputs(t){return kk(t.querySelectorAll(Gn.allInputsSelector)).reduce((n,r)=>Gn.isNativeInput(r)||Gn.containsOnlyInlineElements(r)?[...n,r]:[...n,...Gn.getDeepestBlockElements(r)],[])}static getDeepestNode(t,n=!1){const r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(t&&t.nodeType===Node.ELEMENT_NODE&&t[r]){let a=t[r];if(Gn.isSingleTag(a)&&!Gn.isNativeInput(a)&&!Gn.isLineBreakTag(a))if(a[i])a=a[i];else if(a.parentNode[i])a=a.parentNode[i];else return a.parentNode;return this.getDeepestNode(a,n)}return t}static isElement(t){return $S(t)?!1:t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE}static isFragment(t){return $S(t)?!1:t&&t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(t){return t.contentEditable==="true"}static isNativeInput(t){const n=["INPUT","TEXTAREA"];return t&&t.tagName?n.includes(t.tagName):!1}static canSetCaret(t){let n=!0;if(Gn.isNativeInput(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=Gn.isContentEditable(t);return n}static isNodeEmpty(t,n){let r;return this.isSingleTag(t)&&!this.isLineBreakTag(t)?!1:(this.isElement(t)&&this.isNativeInput(t)?r=t.value:r=t.textContent.replace("​",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.length===0)}static isLeaf(t){return t?t.childNodes.length===0:!1}static isEmpty(t,n){const r=[t];for(;r.length>0;)if(t=r.shift(),!!t){if(this.isLeaf(t)&&!this.isNodeEmpty(t,n))return!1;t.childNodes&&r.push(...Array.from(t.childNodes))}return!0}static isHTMLString(t){const n=Gn.make("div");return n.innerHTML=t,n.childElementCount>0}static getContentLength(t){return Gn.isNativeInput(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:t.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(t){let n;Qo(t)?(n=document.createElement("div"),n.innerHTML=t):n=t;const r=i=>!Gn.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(t){return Gn.containsOnlyInlineElements(t)?[t]:Array.from(t.children).reduce((n,r)=>[...n,...Gn.getDeepestBlockElements(r)],[])}static getHolder(t){return Qo(t)?document.getElementById(t):t}static isAnchor(t){return t.tagName.toLowerCase()==="a"}static offset(t){const n=t.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,a=n.top+i,c=n.left+r;return{top:a,left:c,bottom:a+n.height,right:c+n.width}}};function uB(e){return!/[^\t\n\r ]/.test(e)}function dB(e){const t=window.getComputedStyle(e),n=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||n*1.2,i=parseFloat(t.paddingTop),a=parseFloat(t.borderTopWidth),c=parseFloat(t.marginTop),u=n*.8,f=(r-n)/2;return c+a+i+f+u}function _k(e){e.dataset.empty=xe.isEmpty(e)?"true":"false"}const fB={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},hB={Text:"",Link:"",Bold:"",Italic:""},pB={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},xB={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Nk={ui:fB,toolNames:hB,tools:pB,blockTunes:xB},Mk=class Na{static ui(t,n){return Na._t(t,n)}static t(t,n){return Na._t(t,n)}static setDictionary(t){Na.currentDictionary=t}static _t(t,n){const r=Na.getNamespace(t);return!r||!r[n]?n:r[n]}static getNamespace(t){return t.split(".").reduce((n,r)=>!n||!Object.keys(n).length?{}:n[r],Na.currentDictionary)}};Mk.currentDictionary=Nk;let Xn=Mk;class Ak extends Error{}let Zc=class{constructor(){this.subscribers={}}on(t,n){t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push(n)}once(t,n){t in this.subscribers||(this.subscribers[t]=[]);const r=i=>{const a=n(i),c=this.subscribers[t].indexOf(r);return c!==-1&&this.subscribers[t].splice(c,1),a};this.subscribers[t].push(r)}emit(t,n){zr(this.subscribers)||!this.subscribers[t]||this.subscribers[t].reduce((r,i)=>{const a=i(r);return a!==void 0?a:r},n)}off(t,n){if(this.subscribers[t]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${t.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[t].length;r++)if(this.subscribers[t][r]===n){delete this.subscribers[t][r];break}}destroy(){this.subscribers={}}};function Yo(e){Object.setPrototypeOf(this,{get id(){return e.id},get name(){return e.name},get config(){return e.config},get holder(){return e.holder},get isEmpty(){return e.isEmpty},get selected(){return e.selected},set stretched(t){e.stretched=t},get stretched(){return e.stretched},get focusable(){return e.focusable},call(t,n){return e.call(t,n)},save(){return e.save()},validate(t){return e.validate(t)},dispatchChange(){e.dispatchChange()},getActiveToolboxEntry(){return e.getActiveToolboxEntry()}})}let Wc=class{constructor(){this.allListeners=[]}on(t,n,r,i=!1){const a=lB("l"),c={id:a,element:t,eventType:n,handler:r,options:i};if(!this.findOne(t,n,r))return this.allListeners.push(c),t.addEventListener(n,r,i),a}off(t,n,r,i){const a=this.findAll(t,n,r);a.forEach((c,u)=>{const f=this.allListeners.indexOf(a[u]);f>-1&&(this.allListeners.splice(f,1),c.element.removeEventListener(c.eventType,c.handler,c.options))})}offById(t){const n=this.findById(t);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(t,n,r){const i=this.findAll(t,n,r);return i.length>0?i[0]:null}findAll(t,n,r){let i;const a=t?this.findByEventTarget(t):[];return t&&n&&r?i=a.filter(c=>c.eventType===n&&c.handler===r):t&&n?i=a.filter(c=>c.eventType===n):i=a,i}removeAll(){this.allListeners.map(t=>{t.element.removeEventListener(t.eventType,t.handler,t.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(t){return this.allListeners.filter(n=>{if(n.element===t)return n})}findByType(t){return this.allListeners.filter(n=>{if(n.eventType===t)return n})}findByHandler(t){return this.allListeners.filter(n=>{if(n.handler===t)return n})}findById(t){return this.allListeners.find(n=>n.id===t)}},xt=class Rk{constructor({config:t,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Wc,this.readOnlyMutableListeners={on:(r,i,a,c=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,i,a,c))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Rk)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=t,this.eventsDispatcher=n}set state(t){this.Editor=t}removeAllNodes(){for(const t in this.nodes){const n=this.nodes[t];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},Xe=class Ni{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const t=window.getSelection();return t?t.anchorNode:null}static get anchorElement(){const t=window.getSelection();if(!t)return null;const n=t.anchorNode;return n?xe.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const t=window.getSelection();return t?t.anchorOffset:null}static get isCollapsed(){const t=window.getSelection();return t?t.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Ni.get())}static isSelectionAtEditor(t){if(!t)return!1;let n=t.anchorNode||t.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Ni.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(t){if(!t)return;let n=t.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${Ni.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Ni.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(t){return t&&t.rangeCount?t.getRangeAt(0):null}static get rect(){let t=document.selection,n,r={x:0,y:0,width:0,height:0};if(t&&t.type!=="Control")return t=t,n=t.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Et("Method window.getSelection is not supported","warn"),r;if(t=window.getSelection(),t.rangeCount===null||isNaN(t.rangeCount))return Et("Method SelectionUtils.rangeCount is not supported","warn"),r;if(t.rangeCount===0)return r;if(n=t.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("​")),n.insertNode(i),r=i.getBoundingClientRect();const a=i.parentNode;a.removeChild(i),a.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(t,n=0){const r=document.createRange(),i=window.getSelection();return xe.isNativeInput(t)?xe.canSetCaret(t)?(t.focus(),t.selectionStart=t.selectionEnd=n,t.getBoundingClientRect()):void 0:(r.setStart(t,n),r.setEnd(t,n),i.removeAllRanges(),i.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(t){const n=Ni.range;return n===null?!1:t.contains(n.startContainer)}static addFakeCursor(){const t=Ni.range;if(t===null)return;const n=xe.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",t.collapse(),t.insertNode(n)}static isFakeCursorInsideContainer(t){return xe.find(t,".codex-editor__fake-cursor")!==null}static removeFakeCursor(t=document.body){const n=xe.find(t,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Ni.range}restore(){if(!this.savedSelectionRange)return;const t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(t.focusNode),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}findParentTag(t,n,r=10){const i=window.getSelection();let a=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(c=>{let u=r;for(;u>0&&c.parentNode&&!(c.tagName===t&&(a=c,n&&c.classList&&!c.classList.contains(n)&&(a=null),a));)c=c.parentNode,u--}),a)}expandToTag(t){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(t),n.addRange(r)}};function gB(e,t){const{type:n,target:r,addedNodes:i,removedNodes:a}=e;return e.type==="attributes"&&e.attributeName==="data-empty"?!1:!!(t.contains(r)||n==="childList"&&(Array.from(i).some(c=>c===t)||Array.from(a).some(c=>c===t)))}const Vg="redactor dom changed",Ok="block changed",Bk="fake cursor is about to be toggled",jk="fake cursor have been set",Ac="editor mobile layout toggled";function Yg(e,t){if(!e.conversionConfig)return!1;const n=e.conversionConfig[t];return qt(n)||Qo(n)}function pf(e,t){return Yg(e.tool,t)}function Dk(e,t){return Object.entries(e).some(([n,r])=>t[n]&&cB(t[n],r))}async function Lk(e,t){const n=(await e.save()).data,r=t.find(i=>i.name===e.name);return r!==void 0&&!Yg(r,"export")?[]:t.reduce((i,a)=>{if(!Yg(a,"import")||a.toolbox===void 0)return i;const c=a.toolbox.filter(u=>{if(zr(u)||u.icon===void 0)return!1;if(u.data!==void 0){if(Dk(u.data,n))return!1}else if(a.name===e.name)return!1;return!0});return i.push({...a,toolbox:c}),i},[])}function HS(e,t){return e.mergeable?e.name===t.name?!0:pf(t,"export")&&pf(e,"import"):!1}function mB(e,t){const n=t==null?void 0:t.export;return qt(n)?n(e):Qo(n)?e[n]:(n!==void 0&&Et("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function US(e,t,n){const r=t==null?void 0:t.import;return qt(r)?r(e,n):Qo(r)?{[r]:e}:(r!==void 0&&Et("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Yt=(e=>(e.Default="default",e.Separator="separator",e.Html="html",e))(Yt||{}),qo=(e=>(e.APPEND_CALLBACK="appendCallback",e.RENDERED="rendered",e.MOVED="moved",e.UPDATED="updated",e.REMOVED="removed",e.ON_PASTE="onPaste",e))(qo||{});let Xo=class Mi extends Zc{constructor({id:t=sB(),data:n,tool:r,readOnly:i,tunesData:a},c){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(u=void 0)=>{const f=u===void 0,h=u instanceof InputEvent;!f&&!h&&this.detectToolRootChange(u);let p;f||h?p=!0:p=!(u.length>0&&u.every(g=>{const{addedNodes:y,removedNodes:b,target:w}=g;return[...Array.from(y),...Array.from(b),w].some(S=>(xe.isElement(S)||(S=S.parentElement),S&&S.closest('[data-mutation-free="true"]')!==null))})),p&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=t,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=c||null,this.blockAPI=new Yo(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(a),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const t=xe.findAllInputs(this.holder);return this.inputIndex>t.length-1&&(this.inputIndex=t.length-1),this.cachedInputs=t,t}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(t){const n=this.inputs.findIndex(r=>r===t||r.contains(t));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const t=this.inputs;return t[t.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(t=>t&&!zr(t.data)?t.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return qt(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const t=xe.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return t&&n}get hasMedia(){const t=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(t.join(","))}set selected(t){var n,r;this.holder.classList.toggle(Mi.CSS.selected,t);const i=t===!0&&Xe.isRangeInsideContainer(this.holder),a=t===!1&&Xe.isFakeCursorInsideContainer(this.holder);(i||a)&&((n=this.editorEventBus)==null||n.emit(Bk,{state:t}),i?Xe.addFakeCursor():Xe.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(jk,{state:t}))}get selected(){return this.holder.classList.contains(Mi.CSS.selected)}set stretched(t){this.holder.classList.toggle(Mi.CSS.wrapperStretched,t)}get stretched(){return this.holder.classList.contains(Mi.CSS.wrapperStretched)}set dropTarget(t){this.holder.classList.toggle(Mi.CSS.dropTarget,t)}get pluginsContent(){return this.toolRenderedElement}call(t,n){if(qt(this.toolInstance[t])){t==="appendCallback"&&Et("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[t].call(this.toolInstance,n)}catch(r){Et(`Error during '${t}' call: ${r.message}`,"error")}}}async mergeWith(t){await this.toolInstance.merge(t)}async save(){const t=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([a,c])=>{if(qt(c.save))try{n[a]=c.save()}catch(u){Et(`Tune ${c.constructor.name} save method throws an Error %o`,"warn",u)}});const r=window.performance.now();let i;return Promise.resolve(t).then(a=>(i=window.performance.now(),{id:this.id,tool:this.name,data:a,tunes:n,time:i-r})).catch(a=>{Et(`Saving process for ${this.name} tool failed due to the ${a}`,"log","red")})}async validate(t){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(t)),n}getTunes(){const t=[],n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return xe.isElement(r)?t.push({type:Yt.Html,element:r}):Array.isArray(r)?t.push(...r):t.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render()).forEach(i=>{xe.isElement(i)?n.push({type:Yt.Html,element:i}):Array.isArray(i)?n.push(...i):n.push(i)}),{toolTunes:t,commonTunes:n}}updateCurrentInput(){this.currentInput=xe.isNativeInput(document.activeElement)||!Xe.anchorNode?document.activeElement:Xe.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),qt(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const t=this.tool.toolbox;if(t.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,r=t;return r==null?void 0:r.find(i=>Dk(i.data,n))}async exportDataAsString(){const t=await this.data;return mB(t,this.tool.conversionConfig)}compose(){const t=xe.make("div",Mi.CSS.wrapper),n=xe.make("div",Mi.CSS.content),r=this.toolInstance.render();t.setAttribute("data-cy","block-wrapper"),t.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let i=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(a=>{if(qt(a.wrap))try{i=a.wrap(i)}catch(c){Et(`Tune ${a.constructor.name} wrap method throws an Error %o`,"warn",c)}}),t.appendChild(i),t}composeTunes(t){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(t[n.name],this.blockAPI))}),Object.entries(t).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(t=>{t.addEventListener("focus",this.handleFocus),xe.isNativeInput(t)&&t.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(t=>{t.removeEventListener("focus",this.handleFocus),xe.isNativeInput(t)&&t.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var t;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(i=>gB(i,this.toolRenderedElement))&&this.didMutated(r)},(t=this.editorEventBus)==null||t.on(Vg,this.redactorDomChangedCallback)}unwatchBlockMutations(){var t;(t=this.editorEventBus)==null||t.off(Vg,this.redactorDomChangedCallback)}detectToolRootChange(t){t.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(_k)}};class yB extends xt{constructor(){super(...arguments),this.insert=(t=this.config.defaultBlock,n={},r={},i,a,c,u)=>{const f=this.Editor.BlockManager.insert({id:u,tool:t,data:n,index:i,needToFocus:a,replace:c});return new Yo(f)},this.composeBlockData=async t=>{const n=this.Editor.Tools.blockTools.get(t);return new Xo({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(t,n,r)=>{const{BlockManager:i}=this.Editor,a=i.getBlockById(t);if(a===void 0)throw new Error(`Block with id "${t}" not found`);const c=await i.update(a,n,r);return new Yo(c)},this.convert=async(t,n,r)=>{var i,a;const{BlockManager:c,Tools:u}=this.Editor,f=c.getBlockById(t);if(!f)throw new Error(`Block with id "${t}" not found`);const h=u.blockTools.get(f.name),p=u.blockTools.get(n);if(!p)throw new Error(`Block Tool with type "${n}" not found`);const g=((i=h==null?void 0:h.conversionConfig)==null?void 0:i.export)!==void 0,y=((a=p.conversionConfig)==null?void 0:a.import)!==void 0;if(g&&y){const b=await c.convert(f,n,r);return new Yo(b)}else{const b=[g?!1:hf(f.name),y?!1:hf(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${f.name}" to "${n}" is not possible. ${b} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(t,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=t.map(({id:i,type:a,data:c})=>this.Editor.BlockManager.composeBlock({id:i,tool:a||this.config.defaultBlock,data:c}));return this.Editor.BlockManager.insertMany(r,n),r.map(i=>new Yo(i))}}get methods(){return{clear:()=>this.clear(),render:t=>this.render(t),renderFromHTML:t=>this.renderFromHTML(t),delete:t=>this.delete(t),swap:(t,n)=>this.swap(t,n),move:(t,n)=>this.move(t,n),getBlockByIndex:t=>this.getBlockByIndex(t),getById:t=>this.getById(t),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:t=>this.getBlockIndex(t),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:t=>this.getBlockByElement(t),stretchBlock:(t,n=!0)=>this.stretchBlock(t,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(t){const n=this.Editor.BlockManager.getBlockById(t);if(!n){Lr("There is no block with id `"+t+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(t){const n=this.Editor.BlockManager.getBlockByIndex(t);if(n===void 0){Lr("There is no block at index `"+t+"`","warn");return}return new Yo(n)}getById(t){const n=this.Editor.BlockManager.getBlockById(t);return n===void 0?(Lr("There is no block with id `"+t+"`","warn"),null):new Yo(n)}getBlockByElement(t){const n=this.Editor.BlockManager.getBlock(t);if(n===void 0){Lr("There is no block corresponding to element `"+t+"`","warn");return}return new Yo(n)}swap(t,n){Et("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(t,n)}move(t,n){this.Editor.BlockManager.move(t,n)}delete(t=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(t);this.Editor.BlockManager.removeBlock(n)}catch(n){Lr(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(t){if(t===void 0||t.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(t.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(t){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(t,!0)}stretchBlock(t,n=!0){Ug(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(t);r&&(r.stretched=n)}insertNewBlock(){Et("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(t){if(typeof t!="number")throw new Error("Index should be a number");if(t<0)throw new Error("Index should be greater than or equal to 0");if(t===null)throw new Error("Index should be greater than or equal to 0")}}function vB(e,t){return typeof e=="number"?t.BlockManager.getBlockByIndex(e):typeof e=="string"?t.BlockManager.getBlockById(e):t.BlockManager.getBlockById(e.id)}class bB extends xt{constructor(){super(...arguments),this.setToFirstBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,t,n),!0):!1,this.setToLastBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,t,n),!0):!1,this.setToPreviousBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,t,n),!0):!1,this.setToNextBlock=(t=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,t,n),!0):!1,this.setToBlock=(t,n=this.Editor.Caret.positions.DEFAULT,r=0)=>{const i=vB(t,this.Editor);return i===void 0?!1:(this.Editor.Caret.setToBlock(i,n,r),!0)},this.focus=(t=!1)=>t?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class wB extends xt{get methods(){return{emit:(t,n)=>this.emit(t,n),off:(t,n)=>this.off(t,n),on:(t,n)=>this.on(t,n)}}on(t,n){this.eventsDispatcher.on(t,n)}emit(t,n){this.eventsDispatcher.emit(t,n)}off(t,n){this.eventsDispatcher.off(t,n)}}let SB=class Ik extends xt{static getNamespace(t,n){return n?`blockTunes.${t}`:`tools.${t}`}get methods(){return{t:()=>{Lr("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(t,n){return Object.assign(this.methods,{t:r=>Xn.t(Ik.getNamespace(t,n),r)})}};class EB extends xt{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(t,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(t,n)})}}class CB extends xt{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class kB extends xt{get methods(){return{on:(t,n,r,i)=>this.on(t,n,r,i),off:(t,n,r,i)=>this.off(t,n,r,i),offById:t=>this.offById(t)}}on(t,n,r,i){return this.listeners.on(t,n,r,i)}off(t,n,r,i){this.listeners.off(t,n,r,i)}offById(t){this.listeners.offById(t)}}var $k={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=n,i.c=r,i.d=function(a,c,u){i.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,c){if(1&c&&(a=i(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)i.d(u,f,(function(h){return a[h]}).bind(null,f));return u},i.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(c,"a",c),c},i.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},i.p="/",i(i.s=0)}([function(n,r,i){i(1),n.exports=function(){var a=i(6),c="cdx-notify--bounce-in",u=null;return{show:function(f){if(f.message){(function(){if(u)return!0;u=a.getWrapper(),document.body.appendChild(u)})();var h=null,p=f.time||8e3;switch(f.type){case"confirm":h=a.confirm(f);break;case"prompt":h=a.prompt(f);break;default:h=a.alert(f),window.setTimeout(function(){h.remove()},p)}u.appendChild(h),h.classList.add(c)}}}}()},function(n,r,i){var a=i(2);typeof a=="string"&&(a=[[n.i,a,""]]);var c={hmr:!0,transform:void 0,insertInto:void 0};i(4)(a,c),a.locals&&(n.exports=a.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(i){var a=[];return a.toString=function(){return this.map(function(c){var u=function(f,h){var p=f[1]||"",g=f[3];if(!g)return p;if(h&&typeof btoa=="function"){var y=(w=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(w))))+" */"),b=g.sources.map(function(S){return"/*# sourceURL="+g.sourceRoot+S+" */"});return[p].concat(b).concat([y]).join(`
`)}var w;return[p].join(`
`)}(c,i);return c[2]?"@media "+c[2]+"{"+u+"}":u}).join("")},a.i=function(c,u){typeof c=="string"&&(c=[[null,c,""]]);for(var f={},h=0;h<this.length;h++){var p=this[h][0];typeof p=="number"&&(f[p]=!0)}for(h=0;h<c.length;h++){var g=c[h];typeof g[0]=="number"&&f[g[0]]||(u&&!g[2]?g[2]=u:u&&(g[2]="("+g[2]+") and ("+u+")"),a.push(g))}},a}},function(n,r,i){var a,c,u={},f=(a=function(){return window&&document&&document.all&&!window.atob},function(){return c===void 0&&(c=a.apply(this,arguments)),c}),h=function($){var I={};return function(_){if(typeof _=="function")return _();if(I[_]===void 0){var F=(function(ee){return document.querySelector(ee)}).call(this,_);if(window.HTMLIFrameElement&&F instanceof window.HTMLIFrameElement)try{F=F.contentDocument.head}catch{F=null}I[_]=F}return I[_]}}(),p=null,g=0,y=[],b=i(5);function w($,I){for(var _=0;_<$.length;_++){var F=$[_],ee=u[F.id];if(ee){ee.refs++;for(var K=0;K<ee.parts.length;K++)ee.parts[K](F.parts[K]);for(;K<F.parts.length;K++)ee.parts.push(M(F.parts[K],I))}else{var L=[];for(K=0;K<F.parts.length;K++)L.push(M(F.parts[K],I));u[F.id]={id:F.id,refs:1,parts:L}}}}function S($,I){for(var _=[],F={},ee=0;ee<$.length;ee++){var K=$[ee],L=I.base?K[0]+I.base:K[0],Y={css:K[1],media:K[2],sourceMap:K[3]};F[L]?F[L].parts.push(Y):_.push(F[L]={id:L,parts:[Y]})}return _}function k($,I){var _=h($.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var F=y[y.length-1];if($.insertAt==="top")F?F.nextSibling?_.insertBefore(I,F.nextSibling):_.appendChild(I):_.insertBefore(I,_.firstChild),y.push(I);else if($.insertAt==="bottom")_.appendChild(I);else{if(typeof $.insertAt!="object"||!$.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var ee=h($.insertInto+" "+$.insertAt.before);_.insertBefore(I,ee)}}function C($){if($.parentNode===null)return!1;$.parentNode.removeChild($);var I=y.indexOf($);I>=0&&y.splice(I,1)}function R($){var I=document.createElement("style");return $.attrs.type===void 0&&($.attrs.type="text/css"),O(I,$.attrs),k($,I),I}function O($,I){Object.keys(I).forEach(function(_){$.setAttribute(_,I[_])})}function M($,I){var _,F,ee,K;if(I.transform&&$.css){if(!(K=I.transform($.css)))return function(){};$.css=K}if(I.singleton){var L=g++;_=p||(p=R(I)),F=P.bind(null,_,L,!1),ee=P.bind(null,_,L,!0)}else $.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(Y){var j=document.createElement("link");return Y.attrs.type===void 0&&(Y.attrs.type="text/css"),Y.attrs.rel="stylesheet",O(j,Y.attrs),k(Y,j),j}(I),F=(function(Y,j,G){var Q=G.css,V=G.sourceMap,B=j.convertToAbsoluteUrls===void 0&&V;(j.convertToAbsoluteUrls||B)&&(Q=b(Q)),V&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(V))))+" */");var H=new Blob([Q],{type:"text/css"}),W=Y.href;Y.href=URL.createObjectURL(H),W&&URL.revokeObjectURL(W)}).bind(null,_,I),ee=function(){C(_),_.href&&URL.revokeObjectURL(_.href)}):(_=R(I),F=(function(Y,j){var G=j.css,Q=j.media;if(Q&&Y.setAttribute("media",Q),Y.styleSheet)Y.styleSheet.cssText=G;else{for(;Y.firstChild;)Y.removeChild(Y.firstChild);Y.appendChild(document.createTextNode(G))}}).bind(null,_),ee=function(){C(_)});return F($),function(Y){if(Y){if(Y.css===$.css&&Y.media===$.media&&Y.sourceMap===$.sourceMap)return;F($=Y)}else ee()}}n.exports=function($,I){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(I=I||{}).attrs=typeof I.attrs=="object"?I.attrs:{},I.singleton||typeof I.singleton=="boolean"||(I.singleton=f()),I.insertInto||(I.insertInto="head"),I.insertAt||(I.insertAt="bottom");var _=S($,I);return w(_,I),function(F){for(var ee=[],K=0;K<_.length;K++){var L=_[K];(Y=u[L.id]).refs--,ee.push(Y)}for(F&&w(S(F,I),I),K=0;K<ee.length;K++){var Y;if((Y=ee[K]).refs===0){for(var j=0;j<Y.parts.length;j++)Y.parts[j]();delete u[Y.id]}}}};var A,N=(A=[],function($,I){return A[$]=I,A.filter(Boolean).join(`
`)});function P($,I,_,F){var ee=_?"":F.css;if($.styleSheet)$.styleSheet.cssText=N(I,ee);else{var K=document.createTextNode(ee),L=$.childNodes;L[I]&&$.removeChild(L[I]),L.length?$.insertBefore(K,L[I]):$.appendChild(K)}}},function(n,r){n.exports=function(i){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var c=a.protocol+"//"+a.host,u=c+a.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(f,h){var p,g=h.trim().replace(/^"(.*)"$/,function(y,b){return b}).replace(/^'(.*)'$/,function(y,b){return b});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(g)?f:(p=g.indexOf("//")===0?g:g.indexOf("/")===0?c+g:u+g.replace(/^\.\//,""),"url("+JSON.stringify(p)+")")})}},function(n,r,i){var a,c,u,f,h,p,g,y,b;n.exports=(a="cdx-notifies",c="cdx-notify",u="cdx-notify__cross",f="cdx-notify__button--confirm",h="cdx-notify__button--cancel",p="cdx-notify__input",g="cdx-notify__button",y="cdx-notify__btns-wrapper",{alert:b=function(w){var S=document.createElement("DIV"),k=document.createElement("DIV"),C=w.message,R=w.style;return S.classList.add(c),R&&S.classList.add(c+"--"+R),S.innerHTML=C,k.classList.add(u),k.addEventListener("click",S.remove.bind(S)),S.appendChild(k),S},confirm:function(w){var S=b(w),k=document.createElement("div"),C=document.createElement("button"),R=document.createElement("button"),O=S.querySelector("."+u),M=w.cancelHandler,A=w.okHandler;return k.classList.add(y),C.innerHTML=w.okText||"Confirm",R.innerHTML=w.cancelText||"Cancel",C.classList.add(g),R.classList.add(g),C.classList.add(f),R.classList.add(h),M&&typeof M=="function"&&(R.addEventListener("click",M),O.addEventListener("click",M)),A&&typeof A=="function"&&C.addEventListener("click",A),C.addEventListener("click",S.remove.bind(S)),R.addEventListener("click",S.remove.bind(S)),k.appendChild(C),k.appendChild(R),S.appendChild(k),S},prompt:function(w){var S=b(w),k=document.createElement("div"),C=document.createElement("button"),R=document.createElement("input"),O=S.querySelector("."+u),M=w.cancelHandler,A=w.okHandler;return k.classList.add(y),C.innerHTML=w.okText||"Ok",C.classList.add(g),C.classList.add(f),R.classList.add(p),w.placeholder&&R.setAttribute("placeholder",w.placeholder),w.default&&(R.value=w.default),w.inputType&&(R.type=w.inputType),M&&typeof M=="function"&&O.addEventListener("click",M),A&&typeof A=="function"&&C.addEventListener("click",function(){A(R.value)}),C.addEventListener("click",S.remove.bind(S)),k.appendChild(R),k.appendChild(C),S.appendChild(k),S},getWrapper:function(){var w=document.createElement("DIV");return w.classList.add(a),w}})}])})})($k);var TB=$k.exports;const _B=Uf(TB);class NB{show(t){_B.show(t)}}class MB extends xt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.notifier=new NB}get methods(){return{show:t=>this.show(t)}}show(t){return this.notifier.show(t)}}class AB extends xt{get methods(){const t=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return t()}}}toggle(t){return this.Editor.ReadOnly.toggle(t)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Pk={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Mc,function(){function n(g){var y=g.tags,b=Object.keys(y),w=b.map(function(S){return typeof y[S]}).every(function(S){return S==="object"||S==="boolean"||S==="function"});if(!w)throw new Error("The configuration was invalid");this.config=g}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(g){return r.indexOf(g.nodeName)!==-1}var a=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function c(g){return a.indexOf(g.nodeName)!==-1}n.prototype.clean=function(g){const y=document.implementation.createHTMLDocument(),b=y.createElement("div");return b.innerHTML=g,this._sanitize(y,b),b.innerHTML},n.prototype._sanitize=function(g,y){var b=u(g,y),w=b.firstChild();if(w)do{if(w.nodeType===Node.TEXT_NODE)if(w.data.trim()===""&&(w.previousElementSibling&&i(w.previousElementSibling)||w.nextElementSibling&&i(w.nextElementSibling))){y.removeChild(w),this._sanitize(g,y);break}else continue;if(w.nodeType===Node.COMMENT_NODE){y.removeChild(w),this._sanitize(g,y);break}var S=c(w),k;S&&(k=Array.prototype.some.call(w.childNodes,i));var C=!!y.parentNode,R=i(y)&&i(w)&&C,O=w.nodeName.toLowerCase(),M=f(this.config,O,w),A=S&&k;if(A||h(w,M)||!this.config.keepNestedBlockElements&&R){if(!(w.nodeName==="SCRIPT"||w.nodeName==="STYLE"))for(;w.childNodes.length>0;)y.insertBefore(w.childNodes[0],w);y.removeChild(w),this._sanitize(g,y);break}for(var N=0;N<w.attributes.length;N+=1){var P=w.attributes[N];p(P,M,w)&&(w.removeAttribute(P.name),N=N-1)}this._sanitize(g,w)}while(w=b.nextSibling())};function u(g,y){return g.createTreeWalker(y,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function f(g,y,b){return typeof g.tags[y]=="function"?g.tags[y](b):g.tags[y]}function h(g,y){return typeof y>"u"?!0:typeof y=="boolean"?!y:!1}function p(g,y,b){var w=g.name.toLowerCase();return y===!0?!1:typeof y[w]=="function"?!y[w](g.value,b):typeof y[w]>"u"||y[w]===!1?!0:typeof y[w]=="string"?y[w]!==g.value:!1}return n})})(Pk);var RB=Pk.exports;const OB=Uf(RB);function Vm(e,t){return e.map(n=>{const r=qt(t)?t(n.tool):t;return zr(r)||(n.data=Ym(n.data,r)),n})}function mo(e,t={}){const n={tags:t};return new OB(n).clean(e)}function Ym(e,t){return Array.isArray(e)?BB(e,t):On(e)?jB(e,t):Qo(e)?DB(e,t):e}function BB(e,t){return e.map(n=>Ym(n,t))}function jB(e,t){const n={};for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;const i=e[r],a=LB(t[r])?t[r]:t;n[r]=Ym(i,a)}return n}function DB(e,t){return On(t)?mo(e,t):t===!1?mo(e,{}):e}function LB(e){return On(e)||eB(e)||qt(e)}class IB extends xt{get methods(){return{clean:(t,n)=>this.clean(t,n)}}clean(t,n){return mo(t,n)}}class $B extends xt{get methods(){return{save:()=>this.save()}}save(){const t="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Lr(t,"warn"),Promise.reject(new Error(t))):this.Editor.Saver.save()}}class PB extends xt{constructor(){super(...arguments),this.selectionUtils=new Xe}get methods(){return{findParentTag:(t,n)=>this.findParentTag(t,n),expandToTag:t=>this.expandToTag(t),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(t,n){return this.selectionUtils.findParentTag(t,n)}expandToTag(t){this.selectionUtils.expandToTag(t)}}class zB extends xt{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class HB extends xt{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class UB extends xt{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:t=>this.toggleBlockSettings(t),toggleToolbox:t=>this.toggleToolbox(t)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(t){if(this.Editor.BlockManager.currentBlockIndex===-1){Lr("Could't toggle the Toolbar because there is no block selected ","warn");return}t??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(t){if(this.Editor.BlockManager.currentBlockIndex===-1){Lr("Could't toggle the Toolbox because there is no block selected ","warn");return}t??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var zk={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=n,i.c=r,i.d=function(a,c,u){i.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,c){if(1&c&&(a=i(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)i.d(u,f,(function(h){return a[h]}).bind(null,f));return u},i.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(c,"a",c),c},i.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},i.p="",i(i.s=0)}([function(n,r,i){n.exports=i(1)},function(n,r,i){i.r(r),i.d(r,"default",function(){return a});class a{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(u,f,h){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const p=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},h);if(p.hidingDelay&&(this.hidingDelay=p.hidingDelay),this.nodes.content.innerHTML="",typeof f=="string")this.nodes.content.appendChild(document.createTextNode(f));else{if(!(f instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof f+" given.");this.nodes.content.appendChild(f)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),p.placement){case"top":this.placeTop(u,p);break;case"left":this.placeLeft(u,p);break;case"right":this.placeRight(u,p);break;case"bottom":default:this.placeBottom(u,p)}p&&p.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},p.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(u=!1){if(this.hidingDelay&&!u)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(u,f,h){u.addEventListener("mouseenter",()=>{this.show(u,f,h)}),u.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const u="codex-tooltips-style";if(document.getElementById(u))return;const f=i(2),h=this.make("style",null,{textContent:f.toString(),id:u});this.prepend(document.head,h)}placeBottom(u,f){const h=u.getBoundingClientRect(),p=h.left+u.clientWidth/2-this.nodes.wrapper.offsetWidth/2,g=h.bottom+window.pageYOffset+this.offsetTop+f.marginTop;this.applyPlacement("bottom",p,g)}placeTop(u,f){const h=u.getBoundingClientRect(),p=h.left+u.clientWidth/2-this.nodes.wrapper.offsetWidth/2,g=h.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",p,g)}placeLeft(u,f){const h=u.getBoundingClientRect(),p=h.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-f.marginLeft,g=h.top+window.pageYOffset+u.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",p,g)}placeRight(u,f){const h=u.getBoundingClientRect(),p=h.right+this.offsetRight+f.marginRight,g=h.top+window.pageYOffset+u.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",p,g)}applyPlacement(u,f,h){this.nodes.wrapper.classList.add(this.CSS.placement[u]),this.nodes.wrapper.style.left=f+"px",this.nodes.wrapper.style.top=h+"px"}make(u,f=null,h={}){const p=document.createElement(u);Array.isArray(f)?p.classList.add(...f):f&&p.classList.add(f);for(const g in h)h.hasOwnProperty(g)&&(p[g]=h[g]);return p}append(u,f){Array.isArray(f)?f.forEach(h=>u.appendChild(h)):u.appendChild(f)}prepend(u,f){Array.isArray(f)?(f=f.reverse()).forEach(h=>u.prepend(h)):u.prepend(f)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(zk);var FB=zk.exports;const VB=Uf(FB);let Xr=null;function Gm(){Xr||(Xr=new VB)}function YB(e,t,n){Gm(),Xr==null||Xr.show(e,t,n)}function xf(e=!1){Gm(),Xr==null||Xr.hide(e)}function gf(e,t,n){Gm(),Xr==null||Xr.onHover(e,t,n)}function GB(){Xr==null||Xr.destroy(),Xr=null}class qB extends xt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n})}get methods(){return{show:(t,n,r)=>this.show(t,n,r),hide:()=>this.hide(),onHover:(t,n,r)=>this.onHover(t,n,r)}}show(t,n,r){YB(t,n,r)}hide(){xf()}onHover(t,n,r){gf(t,n,r)}}class XB extends xt{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Hk(e,t){const n={};return Object.entries(e).forEach(([r,i])=>{if(On(i)){const a=t?`${t}.${r}`:r;Object.values(i).every(c=>Qo(c))?n[r]=a:n[r]=Hk(i,a);return}n[r]=i}),n}const yr=Hk(Nk);function KB(e,t){const n={};return Object.keys(e).forEach(r=>{const i=t[r];i!==void 0?n[i]=e[r]:n[r]=e[r]}),n}const Uk=class pc{constructor(t,n){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(pc.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(pc.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=t===pc.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),t===pc.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,xe.canSetCaret(this.items[n])&&ff(()=>Xe.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};Uk.directions={RIGHT:"right",LEFT:"left"};let ec=Uk,mf=class Gg{constructor(t){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Gg.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case Je.TAB:this.handleTabPress(n);break;case Je.LEFT:case Je.UP:this.flipLeft();break;case Je.RIGHT:case Je.DOWN:this.flipRight();break;case Je.ENTER:this.handleEnterPress(n);break}},this.iterator=new ec(t.items,t.focusedItemClass),this.activateCallback=t.activateCallback,this.allowedKeys=t.allowedKeys||Gg.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Je.TAB,Je.LEFT,Je.RIGHT,Je.ENTER,Je.UP,Je.DOWN]}activate(t,n){this.activated=!0,t&&this.iterator.setItems(t),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(t){this.flipCallbacks.push(t)}removeOnFlip(t){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==t)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(t){return this.activated&&this.allowedKeys.includes(t.keyCode)}handleTabPress(t){switch(t.shiftKey?ec.directions.LEFT:ec.directions.RIGHT){case ec.directions.RIGHT:this.flipRight();break;case ec.directions.LEFT:this.flipLeft();break}}handleEnterPress(t){this.activated&&(this.iterator.currentItem&&(t.stopPropagation(),t.preventDefault(),this.iterator.currentItem.click()),qt(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(t=>t())}};const ZB='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',WB='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',QB='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',JB='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',e4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',t4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',n4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',r4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',FS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',o4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',i4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Fk='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',s4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',a4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',l4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',c4="__",u4="--";function Gi(e){return(t,n)=>[[e,t].filter(r=>!!r).join(c4),n].filter(r=>!!r).join(u4)}const tc=Gi("ce-hint"),nc={root:tc(),alignedStart:tc(null,"align-left"),alignedCenter:tc(null,"align-center"),title:tc("title"),description:tc("description")};class d4{constructor(t){this.nodes={root:xe.make("div",[nc.root,t.alignment==="center"?nc.alignedCenter:nc.alignedStart]),title:xe.make("div",nc.title,{textContent:t.title})},this.nodes.root.appendChild(this.nodes.title),t.description!==void 0&&(this.nodes.description=xe.make("div",nc.description,{textContent:t.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let qm=class{constructor(t){this.params=t}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){xf()}onChildrenOpen(){var t;this.params!==void 0&&"children"in this.params&&typeof((t=this.params.children)==null?void 0:t.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var t;this.params!==void 0&&"children"in this.params&&typeof((t=this.params.children)==null?void 0:t.onClose)=="function"&&this.params.children.onClose()}handleClick(){var t,n;this.params!==void 0&&"onActivate"in this.params&&((n=(t=this.params).onActivate)==null||n.call(t,this.params))}addHint(t,n){const r=new d4(n);gf(t,r.getElement(),{placement:n.position,hidingDelay:100})}get children(){var t;return this.params!==void 0&&"children"in this.params&&((t=this.params.children)==null?void 0:t.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var t;return this.params!==void 0&&"children"in this.params&&((t=this.params.children)==null?void 0:t.isOpen)===!0}get isChildrenFlippable(){var t;return!(this.params===void 0||!("children"in this.params)||((t=this.params.children)==null?void 0:t.isFlippable)===!1)}get isChildrenSearchable(){var t;return this.params!==void 0&&"children"in this.params&&((t=this.params.children)==null?void 0:t.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const pr=Gi("ce-popover-item"),Zt={container:pr(),active:pr(null,"active"),disabled:pr(null,"disabled"),focused:pr(null,"focused"),hidden:pr(null,"hidden"),confirmationState:pr(null,"confirmation"),noHover:pr(null,"no-hover"),noFocus:pr(null,"no-focus"),title:pr("title"),secondaryTitle:pr("secondary-title"),icon:pr("icon"),iconTool:pr("icon","tool"),iconChevronRight:pr("icon","chevron-right"),wobbleAnimation:Gi("wobble")()};let xs=class extends qm{constructor(t,n){super(t),this.params=t,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(Zt.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(Zt.noHover)},this.onErrorAnimationEnd=()=>{var r,i;(r=this.nodes.icon)==null||r.classList.remove(Zt.wobbleAnimation),(i=this.nodes.icon)==null||i.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(t,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(Zt.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(t){var n;(n=this.nodes.root)==null||n.classList.toggle(Zt.active,t)}toggleHidden(t){var n;(n=this.nodes.root)==null||n.classList.toggle(Zt.hidden,t)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(t,n){var r,i;const a=(n==null?void 0:n.wrapperTag)||"div",c=xe.make(a,Zt.container,{type:a==="button"?"button":void 0});return t.name&&(c.dataset.itemName=t.name),this.nodes.icon=xe.make("div",[Zt.icon,Zt.iconTool],{innerHTML:t.icon||n4}),c.appendChild(this.nodes.icon),t.title!==void 0&&c.appendChild(xe.make("div",Zt.title,{innerHTML:t.title||""})),t.secondaryLabel&&c.appendChild(xe.make("div",Zt.secondaryTitle,{textContent:t.secondaryLabel})),this.hasChildren&&c.appendChild(xe.make("div",[Zt.icon,Zt.iconChevronRight],{innerHTML:JB})),this.isActive&&c.classList.add(Zt.active),t.isDisabled&&c.classList.add(Zt.disabled),t.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(c,{...t.hint,position:((i=n==null?void 0:n.hint)==null?void 0:i.position)||"right"}),c}enableConfirmationMode(t){if(this.nodes.root===null)return;const n={...this.params,...t,confirmation:"confirmation"in t?t.confirmation:void 0},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Zt.confirmationState),this.confirmationState=t,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const t=this.make(this.params);this.nodes.root.innerHTML=t.innerHTML,this.nodes.root.classList.remove(Zt.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var t,n,r;(t=this.nodes.root)==null||t.classList.add(Zt.noHover),(n=this.nodes.root)==null||n.classList.add(Zt.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var t;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(t=this.nodes.root)==null||t.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(t){var n;if(!("confirmation"in t)||t.confirmation===void 0)try{(n=t.onActivate)==null||n.call(t,t),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(t.confirmation)}animateError(){var t,n,r;(t=this.nodes.icon)!=null&&t.classList.contains(Zt.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(Zt.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}};const Yx=Gi("ce-popover-item-separator"),Gx={container:Yx(),line:Yx("line"),hidden:Yx(null,"hidden")};class Vk extends qm{constructor(){super(),this.nodes={root:xe.make("div",Gx.container),line:xe.make("div",Gx.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(t){var n;(n=this.nodes.root)==null||n.classList.toggle(Gx.hidden,t)}}var vo=(e=>(e.Closed="closed",e.ClosedOnActivate="closed-on-activate",e))(vo||{});const Yn=Gi("ce-popover"),on={popover:Yn(),popoverContainer:Yn("container"),popoverOpenTop:Yn(null,"open-top"),popoverOpenLeft:Yn(null,"open-left"),popoverOpened:Yn(null,"opened"),search:Yn("search"),nothingFoundMessage:Yn("nothing-found-message"),nothingFoundMessageDisplayed:Yn("nothing-found-message","displayed"),items:Yn("items"),overlay:Yn("overlay"),overlayHidden:Yn("overlay","hidden"),popoverNested:Yn(null,"nested"),getPopoverNestedClass:e=>Yn(null,`nested-level-${e.toString()}`),popoverInline:Yn(null,"inline"),popoverHeader:Yn("header")};var Da=(e=>(e.NestingLevel="--nesting-level",e.PopoverHeight="--popover-height",e.InlinePopoverWidth="--inline-popover-width",e.TriggerItemLeft="--trigger-item-left",e.TriggerItemTop="--trigger-item-top",e))(Da||{});const VS=Gi("ce-popover-item-html"),YS={root:VS(),hidden:VS(null,"hidden")};let Rc=class extends qm{constructor(t,n){var r,i;super(t),this.nodes={root:xe.make("div",YS.root)},this.nodes.root.appendChild(t.element),t.name&&(this.nodes.root.dataset.itemName=t.name),t.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...t.hint,position:((i=n==null?void 0:n.hint)==null?void 0:i.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(t){var n;(n=this.nodes.root)==null||n.classList.toggle(YS.hidden,t)}getControls(){const t=this.nodes.root.querySelectorAll(`button, ${xe.allInputsSelector}`);return Array.from(t)}};class Yk extends Zc{constructor(t,n={}){super(),this.params=t,this.itemsRenderParams=n,this.listeners=new Wc,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(t.items),t.messages&&(this.messages={...this.messages,...t.messages}),this.nodes={},this.nodes.popoverContainer=xe.make("div",[on.popoverContainer]),this.nodes.nothingFoundMessage=xe.make("div",[on.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=xe.make("div",[on.items]),this.items.forEach(r=>{const i=r.getElement();i!==null&&this.nodes.items.appendChild(i)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=xe.make("div",[on.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(t=>t instanceof xs)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(on.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(on.popoverOpened),this.nodes.popover.classList.remove(on.popoverOpenTop),this.itemsDefault.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),this.emit(vo.Closed)}destroy(){var t;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(t=this.search)==null||t.destroy()}activateItemByName(t){const n=this.items.find(r=>r.name===t);this.handleItemClick(n)}buildItems(t){return t.map(n=>{switch(n.type){case Yt.Separator:return new Vk;case Yt.Html:return new Rc(n,this.itemsRenderParams[Yt.Html]);default:return new xs(n,this.itemsRenderParams[Yt.Default])}})}getTargetItem(t){return this.items.filter(n=>n instanceof xs||n instanceof Rc).find(n=>{const r=n.getElement();return r===null?!1:t.composedPath().includes(r)})}handleItemClick(t){if(!("isDisabled"in t&&t.isDisabled)){if(t.hasChildren){this.showNestedItems(t),"handleClick"in t&&typeof t.handleClick=="function"&&t.handleClick();return}this.itemsDefault.filter(n=>n!==t).forEach(n=>n.reset()),"handleClick"in t&&typeof t.handleClick=="function"&&t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&(this.hide(),this.emit(vo.ClosedOnActivate))}}handleClick(t){const n=this.getTargetItem(t);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(t){if(t instanceof xs&&(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string")){const n=this.itemsDefault.filter(r=>r.toggle===t.toggle);if(n.length===1){t.toggleActive();return}n.forEach(r=>{r.toggleActive(r===t)})}}}var yf=(e=>(e.Search="search",e))(yf||{});const qx=Gi("cdx-search-field"),Xx={wrapper:qx(),icon:qx("icon"),input:qx("input")};class f4 extends Zc{constructor({items:t,placeholder:n}){super(),this.listeners=new Wc,this.items=t,this.wrapper=xe.make("div",Xx.wrapper);const r=xe.make("div",Xx.icon,{innerHTML:s4});this.input=xe.make("input",Xx.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(yf.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(yf.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(t=>this.checkItem(t))}checkItem(t){var n,r;const i=((n=t.title)==null?void 0:n.toLowerCase())||"",a=(r=this.searchQuery)==null?void 0:r.toLowerCase();return a!==void 0?i.includes(a):!1}}var h4=Object.defineProperty,p4=Object.getOwnPropertyDescriptor,x4=(e,t,n,r)=>{for(var i=p4(t,n),a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=c(t,n,i)||i);return i&&h4(t,n,i),i};const Gk=class qk extends Yk{constructor(t,n){super(t,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(i=>i.isFocused);r==null||r.onFocus()},this.onSearch=r=>{var i;const a=r.query==="",c=r.items.length===0;this.items.forEach(f=>{let h=!1;f instanceof xs?h=!r.items.includes(f):(f instanceof Vk||f instanceof Rc)&&(h=c||!a),f.toggleHidden(h)}),this.toggleNothingFoundMessage(c);const u=r.query===""?this.flippableElements:r.items.map(f=>f.getElement());(i=this.flipper)!=null&&i.isActivated&&(this.flipper.deactivate(),this.flipper.activate(u))},t.nestingLevel!==void 0&&(this.nestingLevel=t.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(on.popoverNested),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),t.searchable&&this.addSearch(),t.flippable!==!1&&(this.flipper=new mf({items:this.flippableElements,focusedItemClass:Zt.focused,allowedKeys:[Je.TAB,Je.UP,Je.DOWN,Je.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var t;this.nodes.popover.style.setProperty(Da.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(on.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(on.popoverOpenLeft),super.show(),(t=this.flipper)==null||t.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(t){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=t,this.showNestedPopoverForItem(t))}handleHover(t){const n=this.getTargetItem(t);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(t,n){const r=n.getElement(),i=(r?r.offsetTop:0)-this.scrollTop,a=this.offsetTop+i;t.style.setProperty(Da.TriggerItemTop,a+"px")}destroyNestedPopoverIfExists(){var t,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(vo.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(t=this.flipper)==null||t.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(t){var n;this.nestedPopover=new qk({searchable:t.isChildrenSearchable,items:t.children,nestingLevel:this.nestingLevel+1,flippable:t.isChildrenFlippable,messages:this.messages}),t.onChildrenOpen(),this.nestedPopover.on(vo.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,t),r.style.setProperty(Da.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const t=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.height,i=t.top+r,a=t.top-r,c=Math.min(window.innerHeight,n.bottom);return a<n.top||i<=c}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const t=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.width,i=t.right+r,a=t.left-r,c=Math.min(window.innerWidth,n.right);return a<n.left||i<=c}get size(){var t;const n={height:0,width:0};if(this.nodes.popover===null)return n;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(on.popoverOpened),(t=r.querySelector("."+on.popoverNested))==null||t.remove(),document.body.appendChild(r);const i=r.querySelector("."+on.popoverContainer);return n.height=i.offsetHeight,n.width=i.offsetWidth,r.remove(),n}get flippableElements(){return this.items.map(t=>{if(t instanceof xs)return t.getElement();if(t instanceof Rc)return t.getControls()}).flat().filter(t=>t!=null)}addSearch(){this.search=new f4({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(yf.Search,this.onSearch);const t=this.search.getElement();t.classList.add(on.search),this.nodes.popoverContainer.insertBefore(t,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(on.nothingFoundMessageDisplayed,t)}};x4([qa],Gk.prototype,"size");let Xm=Gk;class g4 extends Xm{constructor(t){const n=!Xa();super({...t,class:on.popoverInline},{[Yt.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[Yt.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(r=>{!(r instanceof xs)&&!(r instanceof Rc)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Da.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(t,n){const r=n.getElement(),i=r?r.offsetLeft:0,a=this.offsetLeft+i;t.style.setProperty(Da.TriggerItemLeft,a+"px")}showNestedItems(t){if(this.nestedPopoverTriggerItem===t){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(t)}showNestedPopoverForItem(t){const n=super.showNestedPopoverForItem(t);return n.getElement().classList.add(on.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(t){var n;t!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(t)}}const Xk=class xc{constructor(){this.scrollPosition=null}lock(){Fg?this.lockHard():document.body.classList.add(xc.CSS.scrollLocked)}unlock(){Fg?this.unlockHard():document.body.classList.remove(xc.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(xc.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(xc.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};Xk.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let m4=Xk;const Kx=Gi("ce-popover-header"),Zx={root:Kx(),text:Kx("text"),backButton:Kx("back-button")};class y4{constructor({text:t,onBackButtonClick:n}){this.listeners=new Wc,this.text=t,this.onBackButtonClick=n,this.nodes={root:xe.make("div",[Zx.root]),backButton:xe.make("button",[Zx.backButton]),text:xe.make("div",[Zx.text])},this.nodes.backButton.innerHTML=QB,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class v4{constructor(){this.history=[]}push(t){this.history.push(t)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let Kk=class extends Yk{constructor(t){super(t,{[Yt.Default]:{hint:{enabled:!1}},[Yt.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new m4,this.history=new v4,this.isHidden=!0,this.nodes.overlay=xe.make("div",[on.overlay,on.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:t.items})}show(){this.nodes.overlay.classList.remove(on.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(on.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(t){this.updateItemsAndHeader(t.children,t.title),this.history.push({title:t.title,items:t.children})}updateItemsAndHeader(t,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new y4({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var i;return(i=r.getElement())==null?void 0:i.remove()}),this.items=this.buildItems(t),this.items.forEach(r=>{var i;const a=r.getElement();a!==null&&((i=this.nodes.items)==null||i.appendChild(a))})}};class b4 extends xt{constructor(){super(...arguments),this.opened=!1,this.selection=new Xe,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,Xe.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(vo.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var t;if(this.popover!==null)return"flipper"in this.popover?(t=this.popover)==null?void 0:t.flipper:void 0}make(){this.nodes.wrapper=xe.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(Ac,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Ac,this.close)}async open(t=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(t),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:i}=t.getTunes();this.eventsDispatcher.emit(this.events.opened);const a=Xa()?Kk:Xm;this.popover=new a({searchable:!0,items:await this.getTunesItems(t,i,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Xn.ui(yr.ui.popover,"Nothing found"),search:Xn.ui(yr.ui.popover,"Filter")}}),this.popover.on(vo.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(t,n,r){const i=[];r!==void 0&&r.length>0&&(i.push(...r),i.push({type:Yt.Separator}));const a=Array.from(this.Editor.Tools.blockTools.values()),c=(await Lk(t,a)).reduce((u,f)=>(f.toolbox.forEach(h=>{u.push({icon:h.icon,title:Xn.t(yr.toolNames,h.title),name:f.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:p,Caret:g,Toolbar:y}=this.Editor,b=await p.convert(t,f.name,h.data);y.close(),g.setToBlock(b,g.positions.END)}})}),u),[]);return c.length>0&&(i.push({icon:Fk,name:"convert-to",title:Xn.ui(yr.ui.popover,"Convert to"),children:{searchable:!0,items:c}}),i.push({type:Yt.Separator})),i.push(...n),i.map(u=>this.resolveTuneAliases(u))}resolveTuneAliases(t){if(t.type===Yt.Separator||t.type===Yt.Html)return t;const n=KB(t,{label:"title"});return t.confirmation&&(n.confirmation=this.resolveTuneAliases(t.confirmation)),n}}var Zk={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=n,i.c=r,i.d=function(a,c,u){i.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,c){if(1&c&&(a=i(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)i.d(u,f,(function(h){return a[h]}).bind(null,f));return u},i.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(c,"a",c),c},i.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},i.p="",i(i.s=0)}([function(n,r,i){function a(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function c(f,h,p){return h&&a(f.prototype,h),p&&a(f,p),f}i.r(r);var u=function(){function f(h){var p=this;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,f),this.commands={},this.keys={},this.name=h.name,this.parseShortcutName(h.name),this.element=h.on,this.callback=h.callback,this.executeShortcut=function(g){p.execute(g)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return c(f,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),c(f,[{key:"parseShortcutName",value:function(h){h=h.split("+");for(var p=0;p<h.length;p++){h[p]=h[p].toUpperCase();var g=!1;for(var y in f.supportedCommands)if(f.supportedCommands[y].includes(h[p])){g=this.commands[y]=!0;break}g||(this.keys[h[p]]=!0)}for(var b in f.supportedCommands)this.commands[b]||(this.commands[b]=!1)}},{key:"execute",value:function(h){var p,g={CMD:h.ctrlKey||h.metaKey,SHIFT:h.shiftKey,ALT:h.altKey},y=!0;for(p in this.commands)this.commands[p]!==g[p]&&(y=!1);var b,w=!0;for(b in this.keys)w=w&&h.keyCode===f.keyCodes[b];y&&w&&this.callback(h)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),f}();r.default=u}]).default})})(Zk);var w4=Zk.exports;const S4=Uf(w4);class E4{constructor(){this.registeredShortcuts=new Map}add(t){if(this.findShortcut(t.on,t.name))throw Error(`Shortcut ${t.name} is already registered for ${t.on}. Please remove it before add a new handler.`);const n=new S4({name:t.name,on:t.on,callback:t.handler}),r=this.registeredShortcuts.get(t.on)||[];this.registeredShortcuts.set(t.on,[...r,n])}remove(t,n){const r=this.findShortcut(t,n);if(!r)return;r.remove();const i=this.registeredShortcuts.get(t);this.registeredShortcuts.set(t,i.filter(a=>a!==r))}findShortcut(t,n){return(this.registeredShortcuts.get(t)||[]).find(({name:r})=>r===n)}}const Ua=new E4;var C4=Object.defineProperty,k4=Object.getOwnPropertyDescriptor,Wk=(e,t,n,r)=>{for(var i=k4(t,n),a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=c(t,n,i)||i);return i&&C4(t,n,i),i},Fd=(e=>(e.Opened="toolbox-opened",e.Closed="toolbox-closed",e.BlockAdded="toolbox-block-added",e))(Fd||{});const Km=class Qk extends Zc{constructor({api:t,tools:n,i18nLabels:r}){super(),this.opened=!1,this.listeners=new Wc,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=n,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:xe.make("div",Qk.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(Ac,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(t=this.popover)==null||t.off(vo.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Ac,this.handleMobileLayoutToggle)}toolButtonActivated(t,n){this.insertNewBlock(t,n)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var t;const n=Xa()?Kk:Xm;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(vo.Closed,this.onPopoverClose),(t=this.nodes.toolbox)==null||t.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(vo.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(n=>{n.toolbox&&t.push(n)}),t}get toolboxItemsToBeDisplayed(){const t=(n,r,i=!0)=>({icon:n.icon,title:Xn.t(yr.toolNames,n.title||hf(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut&&i?Fm(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach((i,a)=>{n.push(t(i,r,a===0))}):r.toolbox!==void 0&&n.push(t(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const n=t.shortcut;n&&this.enableShortcutForTool(t.name,n)})}enableShortcutForTool(t,n){Ua.add({name:n,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const i=this.api.blocks.getCurrentBlockIndex(),a=this.api.blocks.getBlockByIndex(i);if(a)try{const c=await this.api.blocks.convert(a.id,t);this.api.caret.setToBlock(c,"end");return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const n=t.shortcut;n&&Ua.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(t,n){const r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r);if(!i)return;const a=i.isEmpty?r:r+1;let c;if(n){const f=await this.api.blocks.composeBlockData(t);c=Object.assign(f,n)}const u=this.api.blocks.insert(t,c,void 0,a,void 0,i.isEmpty);u.call(qo.APPEND_CALLBACK),this.api.caret.setToBlock(a),this.emit("toolbox-block-added",{block:u}),this.api.toolbar.close()}};Wk([qa],Km.prototype,"toolsToBeDisplayed");Wk([qa],Km.prototype,"toolboxItemsToBeDisplayed");let T4=Km;const Jk="block hovered";async function _4(e,t){const n=navigator.keyboard;if(!n)return t;try{return(await n.getLayoutMap()).get(e)||t}catch(r){return console.error(r),t}}class N4 extends xt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var t;return{opened:(t=this.toolboxInstance)==null?void 0:t.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Et("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Et("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(t){t?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(t=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Et("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!t)return;this.hoveredBlock=t;const n=t.holder,{isMobile:r}=this.Editor.UI;let i;const a=20,c=t.firstInput,u=n.getBoundingClientRect(),f=c!==void 0?c.getBoundingClientRect():null,h=f!==null?f.top-u.top:null,p=h!==null?h>a:void 0;if(r)i=n.offsetTop+n.offsetHeight;else if(c===void 0||p){const g=parseInt(window.getComputedStyle(t.pluginsContent).paddingTop);i=n.offsetTop+g}else{const g=dB(c),y=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);i=n.offsetTop+g-y+8+h}this.nodes.wrapper.style.top=`${Math.floor(i)}px`,this.Editor.BlockManager.blocks.length===1&&t.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var t,n;this.Editor.ReadOnly.isEnabled||((t=this.nodes.wrapper)==null||t.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(t=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),t?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=xe.make("div",this.CSS.toolbar),["content","actions"].forEach(a=>{this.nodes[a]=xe.make("div",this.CSS[a])}),xe.append(this.nodes.wrapper,this.nodes.content),xe.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=xe.make("div",this.CSS.plusButton,{innerHTML:i4}),xe.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{xf(!0),this.plusButtonClicked()},!1);const t=xe.make("div");t.appendChild(document.createTextNode(Xn.ui(yr.ui.toolbar.toolbox,"Add"))),t.appendChild(xe.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),gf(this.nodes.plusButton,t,{hidingDelay:400}),this.nodes.settingsToggler=xe.make("span",this.CSS.settingsToggler,{innerHTML:o4}),xe.append(this.nodes.actions,this.nodes.settingsToggler);const n=xe.make("div"),r=xe.text(Xn.ui(yr.ui.blockTunes.toggler,"Click to tune")),i=await _4("Slash","/");n.appendChild(r),n.appendChild(xe.make("div",this.CSS.plusButtonShortcut,{textContent:Fm(`CMD + ${i}`)})),gf(this.nodes.settingsToggler,n,{hidingDelay:400}),xe.append(this.nodes.actions,this.makeToolbox()),xe.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),xe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new T4({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Xn.ui(yr.ui.popover,"Filter"),nothingFound:Xn.ui(yr.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Fd.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Fd.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Fd.BlockAdded,({block:t})=>{const{BlockManager:n,Caret:r}=this.Editor,i=n.getBlockById(t.id);i.inputs.length===0&&(i===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var t;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(t=this.toolboxInstance)==null||t.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",t=>{var n;t.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),xf(!0)},!0),Xa()||this.eventsDispatcher.on(Jk,t=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(t.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var vs=(e=>(e[e.Block=0]="Block",e[e.Inline=1]="Inline",e[e.Tune=2]="Tune",e))(vs||{}),Vd=(e=>(e.Shortcut="shortcut",e.Toolbox="toolbox",e.EnabledInlineTools="inlineToolbar",e.EnabledBlockTunes="tunes",e.Config="config",e))(Vd||{}),e2=(e=>(e.Shortcut="shortcut",e.SanitizeConfig="sanitize",e))(e2||{}),Ma=(e=>(e.IsEnabledLineBreaks="enableLineBreaks",e.Toolbox="toolbox",e.ConversionConfig="conversionConfig",e.IsReadOnlySupported="isReadOnlySupported",e.PasteConfig="pasteConfig",e))(Ma||{}),vf=(e=>(e.IsInline="isInline",e.Title="title",e.IsReadOnlySupported="isReadOnlySupported",e))(vf||{}),qg=(e=>(e.IsTune="isTune",e))(qg||{});let Zm=class{constructor({name:t,constructable:n,config:r,api:i,isDefault:a,isInternal:c=!1,defaultPlaceholder:u}){this.api=i,this.name=t,this.constructable=n,this.config=r,this.isDefault=a,this.isInternal=c,this.defaultPlaceholder=u}get settings(){const t=this.config.config||{};return this.isDefault&&!("placeholder"in t)&&this.defaultPlaceholder&&(t.placeholder=this.defaultPlaceholder),t}reset(){if(qt(this.constructable.reset))return this.constructable.reset()}prepare(){if(qt(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const t=this.constructable.shortcut;return this.config.shortcut||t}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===vs.Inline}isBlock(){return this.type===vs.Block}isTune(){return this.type===vs.Tune}};class M4 extends xt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=Xa()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(t=!1){t&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var t,n;if(this.opened){for(const[r,i]of this.tools){const a=this.getToolShortcut(r.name);a!==void 0&&Ua.remove(this.Editor.UI.nodes.redactor,a),qt(i.clear)&&i.clear()}this.tools=new Map,this.reset(),this.opened=!1,(t=this.popover)==null||t.hide(),(n=this.popover)==null||n.destroy(),this.popover=null}}containsNode(t){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(t)}destroy(){var t;this.removeAllNodes(),(t=this.popover)==null||t.destroy(),this.popover=null}make(){this.nodes.wrapper=xe.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),xe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var t;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const n=await this.getPopoverItems();this.popover=new g4({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Xn.ui(yr.ui.popover,"Nothing found"),search:Xn.ui(yr.ui.popover,"Filter")}}),this.move(this.popover.size.width),(t=this.nodes.wrapper)==null||t.append(this.popover.getElement()),this.popover.show()}move(t){const n=Xe.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:n.x-r.x,y:n.y+n.height-r.top+this.toolbarVerticalMargin};i.x+t+r.x>this.Editor.UI.contentRect.right&&(i.x=this.Editor.UI.contentRect.right-t-r.x),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const t=["IMG","INPUT"],n=Xe.get(),r=Xe.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const i=xe.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(i===null||n!==null&&t.includes(i.tagName))return!1;const a=this.Editor.BlockManager.getBlock(n.anchorNode);return!a||this.getTools().some(c=>a.tool.inlineTools.has(c.name))===!1?!1:i.closest("[contenteditable]")!==null}getTools(){const t=this.Editor.BlockManager.currentBlock;return t?Array.from(t.tool.inlineTools.values()).filter(n=>!(this.Editor.ReadOnly.isEnabled&&n.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(t=>{const n=t.create();this.tools.set(t,n)})}async getPopoverItems(){const t=[];let n=0;for(const[r,i]of this.tools){const a=await i.render(),c=this.getToolShortcut(r.name);if(c!==void 0)try{this.enableShortcuts(r.name,c)}catch{}const u=c!==void 0?Fm(c):void 0,f=Xn.t(yr.toolNames,r.title||hf(r.name));[a].flat().forEach(h=>{var p,g;const y={name:r.name,onActivate:()=>{this.toolClicked(i)},hint:{title:f,description:u}};if(xe.isElement(h)){const b={...y,element:h,type:Yt.Html};if(qt(i.renderActions)){const w=i.renderActions();b.children={isOpen:(p=i.checkState)==null?void 0:p.call(i,Xe.get()),isFlippable:!1,items:[{type:Yt.Html,element:w}]}}else(g=i.checkState)==null||g.call(i,Xe.get());t.push(b)}else if(h.type===Yt.Html)t.push({...y,...h,type:Yt.Html});else if(h.type===Yt.Separator)t.push({type:Yt.Separator});else{const b={...y,...h,type:Yt.Default};"children"in b&&n!==0&&t.push({type:Yt.Separator}),t.push(b),"children"in b&&n<this.tools.size-1&&t.push({type:Yt.Separator})}}),n++}return t}getToolShortcut(t){const{Tools:n}=this.Editor,r=n.inlineTools.get(t),i=n.internal.inlineTools;return Array.from(i.keys()).includes(t)?this.inlineTools[t][e2.Shortcut]:r==null?void 0:r.shortcut}enableShortcuts(t,n){Ua.add({name:n,handler:r=>{var i;const{currentBlock:a}=this.Editor.BlockManager;a&&a.tool.enabledInlineTools&&(r.preventDefault(),(i=this.popover)==null||i.activateItemByName(t))},on:document})}toolClicked(t){var n;const r=Xe.range;(n=t.surround)==null||n.call(t,r),this.checkToolsState()}checkToolsState(){var t;(t=this.tools)==null||t.forEach(n=>{var r;(r=n.checkState)==null||r.call(n,Xe.get())})}get inlineTools(){const t={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{t[n]=r.create()}),t}}function t2(){const e=window.getSelection();if(e===null)return[null,0];let t=e.focusNode,n=e.focusOffset;return t===null?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[n]?(t=t.childNodes[n],n=0):(t=t.childNodes[n-1],n=t.textContent.length)),[t,n])}function n2(e,t,n,r){const i=document.createRange();r==="left"?(i.setStart(e,0),i.setEnd(t,n)):(i.setStart(t,n),i.setEnd(e,e.childNodes.length));const a=i.cloneContents(),c=document.createElement("div");c.appendChild(a);const u=c.textContent||"";return uB(u)}function Yd(e){const t=xe.getDeepestNode(e);if(t===null||xe.isEmpty(e))return!0;if(xe.isNativeInput(t))return t.selectionEnd===0;if(xe.isEmpty(e))return!0;const[n,r]=t2();return n===null?!1:n2(e,n,r,"left")}function Gd(e){const t=xe.getDeepestNode(e,!0);if(t===null)return!0;if(xe.isNativeInput(t))return t.selectionEnd===t.value.length;const[n,r]=t2();return n===null?!1:n2(e,n,r,"right")}var r2={},Wm={},Ff={},Os={},Qm={},Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.allInputsSelector=A4;function A4(){var e=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+e.map(function(t){return'input[type="'.concat(t,'"]')}).join(", ")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.allInputsSelector=void 0;var t=Jm;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}})})(Qm);var Bs={},e0={};Object.defineProperty(e0,"__esModule",{value:!0});e0.isNativeInput=R4;function R4(e){var t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNativeInput=void 0;var t=e0;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}})})(Bs);var o2={},t0={};Object.defineProperty(t0,"__esModule",{value:!0});t0.append=O4;function O4(e,t){Array.isArray(t)?t.forEach(function(n){e.appendChild(n)}):e.appendChild(t)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.append=void 0;var t=t0;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return t.append}})})(o2);var n0={},r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.blockElements=B4;function B4(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.blockElements=void 0;var t=r0;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return t.blockElements}})})(n0);var i2={},o0={};Object.defineProperty(o0,"__esModule",{value:!0});o0.calculateBaseline=j4;function j4(e){var t=window.getComputedStyle(e),n=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||n*1.2,i=parseFloat(t.paddingTop),a=parseFloat(t.borderTopWidth),c=parseFloat(t.marginTop),u=n*.8,f=(r-n)/2,h=c+a+i+f+u;return h}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateBaseline=void 0;var t=o0;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return t.calculateBaseline}})})(i2);var s2={},i0={},s0={},a0={};Object.defineProperty(a0,"__esModule",{value:!0});a0.isContentEditable=D4;function D4(e){return e.contentEditable==="true"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isContentEditable=void 0;var t=a0;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return t.isContentEditable}})})(s0);Object.defineProperty(i0,"__esModule",{value:!0});i0.canSetCaret=$4;var L4=Bs,I4=s0;function $4(e){var t=!0;if((0,L4.isNativeInput)(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=(0,I4.isContentEditable)(e);return t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.canSetCaret=void 0;var t=i0;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return t.canSetCaret}})})(s2);var Vf={},l0={};function P4(e,t,n){const r=n.value!==void 0?"value":"get",i=n[r],a=`#${t}Cache`;if(n[r]=function(...c){return this[a]===void 0&&(this[a]=i.apply(this,c)),this[a]},r==="get"&&n.set){const c=n.set;n.set=function(u){delete e[a],c.apply(this,u)}}return n}function a2(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return t!==void 0&&(e[t]=!0),e}function c0(e){return e!=null&&e!==""&&(typeof e!="object"||Object.keys(e).length>0)}function z4(e){return!c0(e)}const H4=()=>typeof window<"u"&&window.navigator!==null&&c0(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function U4(e){const t=a2();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),t.mac?e=e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e=e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),e}function F4(e){return e[0].toUpperCase()+e.slice(1)}function V4(e){const t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=e,document.body.appendChild(t);const n=window.getSelection(),r=document.createRange();if(r.selectNode(t),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(t)}function Y4(e,t,n){let r;return(...i)=>{const a=this,c=()=>{r=void 0,n!==!0&&e.apply(a,i)},u=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(c,t),u&&e.apply(a,i)}}function Pi(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function G4(e){return Pi(e)==="boolean"}function l2(e){return Pi(e)==="function"||Pi(e)==="asyncfunction"}function q4(e){return l2(e)&&/^\s*class\s+/.test(e.toString())}function X4(e){return Pi(e)==="number"}function qd(e){return Pi(e)==="object"}function K4(e){return Promise.resolve(e)===e}function Z4(e){return Pi(e)==="string"}function W4(e){return Pi(e)==="undefined"}function Xg(e,...t){if(!t.length)return e;const n=t.shift();if(qd(e)&&qd(n))for(const r in n)qd(n[r])?(e[r]===void 0&&Object.assign(e,{[r]:{}}),Xg(e[r],n[r])):Object.assign(e,{[r]:n[r]});return Xg(e,...t)}function Q4(e,t,n){const r=`«${t}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;e&&console.warn(r)}function J4(e){try{return new URL(e).href}catch{}return e.substring(0,2)==="//"?window.location.protocol+e:window.location.origin+e}function ej(e){return e>47&&e<58||e===32||e===13||e===229||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}const tj={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},nj={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let rj=class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,n)=>{this.completed=this.completed.then(e).then(t).catch(n)})}};function oj(e,t,n=void 0){let r,i,a,c=null,u=0;n||(n={});const f=function(){u=n.leading===!1?0:Date.now(),c=null,a=e.apply(r,i),c===null&&(r=i=null)};return function(){const h=Date.now();!u&&n.leading===!1&&(u=h);const p=t-(h-u);return r=this,i=arguments,p<=0||p>t?(c&&(clearTimeout(c),c=null),u=h,a=e.apply(r,i),c===null&&(r=i=null)):!c&&n.trailing!==!1&&(c=setTimeout(f,p)),a}}const ij=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:rj,beautifyShortcut:U4,cacheable:P4,capitalize:F4,copyTextToClipboard:V4,debounce:Y4,deepMerge:Xg,deprecationAssert:Q4,getUserOS:a2,getValidUrl:J4,isBoolean:G4,isClass:q4,isEmpty:z4,isFunction:l2,isIosDevice:H4,isNumber:X4,isObject:qd,isPrintableKey:ej,isPromise:K4,isString:Z4,isUndefined:W4,keyCodes:tj,mouseButtons:nj,notEmpty:c0,throttle:oj,typeOf:Pi},Symbol.toStringTag,{value:"Module"})),u0=Z5(ij);Object.defineProperty(l0,"__esModule",{value:!0});l0.containsOnlyInlineElements=lj;var sj=u0,aj=n0;function lj(e){var t;(0,sj.isString)(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;var n=function(r){return!(0,aj.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(t.children).every(n)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsOnlyInlineElements=void 0;var t=l0;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return t.containsOnlyInlineElements}})})(Vf);var c2={},d0={},Yf={},f0={};Object.defineProperty(f0,"__esModule",{value:!0});f0.make=cj;function cj(e,t,n){var r;t===void 0&&(t=null),n===void 0&&(n={});var i=document.createElement(e);if(Array.isArray(t)){var a=t.filter(function(u){return u!==void 0});(r=i.classList).add.apply(r,a)}else t!==null&&i.classList.add(t);for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(i[c]=n[c]);return i}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.make=void 0;var t=f0;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return t.make}})})(Yf);Object.defineProperty(d0,"__esModule",{value:!0});d0.fragmentToString=dj;var uj=Yf;function dj(e){var t=(0,uj.make)("div");return t.appendChild(e),t.innerHTML}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fragmentToString=void 0;var t=d0;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return t.fragmentToString}})})(c2);var u2={},h0={};Object.defineProperty(h0,"__esModule",{value:!0});h0.getContentLength=hj;var fj=Bs;function hj(e){var t,n;return(0,fj.isNativeInput)(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:(n=(t=e.textContent)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContentLength=void 0;var t=h0;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return t.getContentLength}})})(u2);var p0={},x0={},GS=Mc&&Mc.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(x0,"__esModule",{value:!0});x0.getDeepestBlockElements=d2;var pj=Vf;function d2(e){return(0,pj.containsOnlyInlineElements)(e)?[e]:Array.from(e.children).reduce(function(t,n){return GS(GS([],t,!0),d2(n),!0)},[])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestBlockElements=void 0;var t=x0;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return t.getDeepestBlockElements}})})(p0);var f2={},g0={},Gf={},m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.isLineBreakTag=xj;function xj(e){return["BR","WBR"].includes(e.tagName)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLineBreakTag=void 0;var t=m0;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return t.isLineBreakTag}})})(Gf);var qf={},y0={};Object.defineProperty(y0,"__esModule",{value:!0});y0.isSingleTag=gj;function gj(e){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSingleTag=void 0;var t=y0;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return t.isSingleTag}})})(qf);Object.defineProperty(g0,"__esModule",{value:!0});g0.getDeepestNode=h2;var mj=Bs,yj=Gf,vj=qf;function h2(e,t){t===void 0&&(t=!1);var n=t?"lastChild":"firstChild",r=t?"previousSibling":"nextSibling";if(e.nodeType===Node.ELEMENT_NODE&&e[n]){var i=e[n];if((0,vj.isSingleTag)(i)&&!(0,mj.isNativeInput)(i)&&!(0,yj.isLineBreakTag)(i))if(i[r])i=i[r];else if(i.parentNode!==null&&i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return h2(i,t)}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestNode=void 0;var t=g0;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return t.getDeepestNode}})})(f2);var p2={},v0={},md=Mc&&Mc.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(v0,"__esModule",{value:!0});v0.findAllInputs=Cj;var bj=Vf,wj=p0,Sj=Qm,Ej=Bs;function Cj(e){return Array.from(e.querySelectorAll((0,Sj.allInputsSelector)())).reduce(function(t,n){return(0,Ej.isNativeInput)(n)||(0,bj.containsOnlyInlineElements)(n)?md(md([],t,!0),[n],!1):md(md([],t,!0),(0,wj.getDeepestBlockElements)(n),!0)},[])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findAllInputs=void 0;var t=v0;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return t.findAllInputs}})})(p2);var x2={},b0={};Object.defineProperty(b0,"__esModule",{value:!0});b0.isCollapsedWhitespaces=kj;function kj(e){return!/[^\t\n\r ]/.test(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCollapsedWhitespaces=void 0;var t=b0;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return t.isCollapsedWhitespaces}})})(x2);var w0={},S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.isElement=_j;var Tj=u0;function _j(e){return(0,Tj.isNumber)(e)?!1:!!e&&!!e.nodeType&&e.nodeType===Node.ELEMENT_NODE}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=void 0;var t=S0;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return t.isElement}})})(w0);var g2={},E0={},C0={},k0={};Object.defineProperty(k0,"__esModule",{value:!0});k0.isLeaf=Nj;function Nj(e){return e===null?!1:e.childNodes.length===0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLeaf=void 0;var t=k0;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return t.isLeaf}})})(C0);var T0={},_0={};Object.defineProperty(_0,"__esModule",{value:!0});_0.isNodeEmpty=Bj;var Mj=Gf,Aj=w0,Rj=Bs,Oj=qf;function Bj(e,t){var n="";return(0,Oj.isSingleTag)(e)&&!(0,Mj.isLineBreakTag)(e)?!1:((0,Aj.isElement)(e)&&(0,Rj.isNativeInput)(e)?n=e.value:e.textContent!==null&&(n=e.textContent.replace("​","")),t!==void 0&&(n=n.replace(new RegExp(t,"g"),"")),n.trim().length===0)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeEmpty=void 0;var t=_0;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return t.isNodeEmpty}})})(T0);Object.defineProperty(E0,"__esModule",{value:!0});E0.isEmpty=Lj;var jj=C0,Dj=T0;function Lj(e,t){e.normalize();for(var n=[e];n.length>0;){var r=n.shift();if(r){if(e=r,(0,jj.isLeaf)(e)&&!(0,Dj.isNodeEmpty)(e,t))return!1;n.push.apply(n,Array.from(e.childNodes))}}return!0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var t=E0;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return t.isEmpty}})})(g2);var m2={},N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.isFragment=$j;var Ij=u0;function $j(e){return(0,Ij.isNumber)(e)?!1:!!e&&!!e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isFragment=void 0;var t=N0;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return t.isFragment}})})(m2);var y2={},M0={};Object.defineProperty(M0,"__esModule",{value:!0});M0.isHTMLString=zj;var Pj=Yf;function zj(e){var t=(0,Pj.make)("div");return t.innerHTML=e,t.childElementCount>0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLString=void 0;var t=M0;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return t.isHTMLString}})})(y2);var v2={},A0={};Object.defineProperty(A0,"__esModule",{value:!0});A0.offset=Hj;function Hj(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=t.top+r,a=t.left+n;return{top:i,left:a,bottom:i+t.height,right:a+t.width}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.offset=void 0;var t=A0;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}})})(v2);var b2={},R0={};Object.defineProperty(R0,"__esModule",{value:!0});R0.prepend=Uj;function Uj(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(function(n){return e.prepend(n)})):e.prepend(t)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=void 0;var t=R0;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return t.prepend}})})(b2);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.offset=e.make=e.isLineBreakTag=e.isSingleTag=e.isNodeEmpty=e.isLeaf=e.isHTMLString=e.isFragment=e.isEmpty=e.isElement=e.isContentEditable=e.isCollapsedWhitespaces=e.findAllInputs=e.isNativeInput=e.allInputsSelector=e.getDeepestNode=e.getDeepestBlockElements=e.getContentLength=e.fragmentToString=e.containsOnlyInlineElements=e.canSetCaret=e.calculateBaseline=e.blockElements=e.append=void 0;var t=Qm;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}});var n=Bs;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=o2;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return r.append}});var i=n0;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var a=i2;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return a.calculateBaseline}});var c=s2;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return c.canSetCaret}});var u=Vf;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return u.containsOnlyInlineElements}});var f=c2;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return f.fragmentToString}});var h=u2;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return h.getContentLength}});var p=p0;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return p.getDeepestBlockElements}});var g=f2;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return g.getDeepestNode}});var y=p2;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return y.findAllInputs}});var b=x2;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return b.isCollapsedWhitespaces}});var w=s0;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return w.isContentEditable}});var S=w0;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return S.isElement}});var k=g2;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return k.isEmpty}});var C=m2;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return C.isFragment}});var R=y2;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return R.isHTMLString}});var O=C0;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return O.isLeaf}});var M=T0;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return M.isNodeEmpty}});var A=Gf;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return A.isLineBreakTag}});var N=qf;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return N.isSingleTag}});var P=Yf;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return P.make}});var $=v2;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return $.offset}});var I=b2;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return I.prepend}})})(Os);var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.getContenteditableSlice=Vj;var Fj=Os;function Vj(e,t,n,r,i){var a;i===void 0&&(i=!1);var c=document.createRange();if(r==="left"?(c.setStart(e,0),c.setEnd(t,n)):(c.setStart(t,n),c.setEnd(e,e.childNodes.length)),i===!0){var u=c.extractContents();return(0,Fj.fragmentToString)(u)}var f=c.cloneContents(),h=document.createElement("div");h.appendChild(f);var p=(a=h.textContent)!==null&&a!==void 0?a:"";return p}Object.defineProperty(Ff,"__esModule",{value:!0});Ff.checkContenteditableSliceForEmptiness=qj;var Yj=Os,Gj=Xf;function qj(e,t,n,r){var i=(0,Gj.getContenteditableSlice)(e,t,n,r);return(0,Yj.isCollapsedWhitespaces)(i)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkContenteditableSliceForEmptiness=void 0;var t=Ff;Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}})})(Wm);var w2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContenteditableSlice=void 0;var t=Xf;Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}})})(w2);var S2={},O0={};Object.defineProperty(O0,"__esModule",{value:!0});O0.focus=Kj;var Xj=Os;function Kj(e,t){var n,r;if(t===void 0&&(t=!0),(0,Xj.isNativeInput)(e)){e.focus();var i=t?0:e.value.length;e.setSelectionRange(i,i)}else{var a=document.createRange(),c=window.getSelection();if(!c)return;var u=function(y){var b=document.createTextNode("");y.appendChild(b),a.setStart(b,0),a.setEnd(b,0)},f=function(y){return y!=null},h=e.childNodes,p=t?h[0]:h[h.length-1];if(f(p)){for(;f(p)&&p.nodeType!==Node.TEXT_NODE;)p=t?p.firstChild:p.lastChild;if(f(p)&&p.nodeType===Node.TEXT_NODE){var g=(r=(n=p.textContent)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,i=t?0:g;a.setStart(p,i),a.setEnd(p,i)}else u(e)}else u(e);c.removeAllRanges(),c.addRange(a)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.focus=void 0;var t=O0;Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return t.focus}})})(S2);var B0={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.getCaretNodeAndOffset=Zj;function Zj(){var e=window.getSelection();if(e===null)return[null,0];var t=e.focusNode,n=e.focusOffset;return t===null?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[n]!==void 0?(t=t.childNodes[n],n=0):(t=t.childNodes[n-1],t.textContent!==null&&(n=t.textContent.length))),[t,n])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCaretNodeAndOffset=void 0;var t=Kf;Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return t.getCaretNodeAndOffset}})})(B0);var E2={},Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.getRange=Wj;function Wj(){var e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRange=void 0;var t=Zf;Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return t.getRange}})})(E2);var C2={},j0={};Object.defineProperty(j0,"__esModule",{value:!0});j0.isCaretAtEndOfInput=eD;var qS=Os,Qj=B0,Jj=Wm;function eD(e){var t=(0,qS.getDeepestNode)(e,!0);if(t===null)return!0;if((0,qS.isNativeInput)(t))return t.selectionEnd===t.value.length;var n=(0,Qj.getCaretNodeAndOffset)(),r=n[0],i=n[1];return r===null?!1:(0,Jj.checkContenteditableSliceForEmptiness)(e,r,i,"right")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtEndOfInput=void 0;var t=j0;Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return t.isCaretAtEndOfInput}})})(C2);var k2={},D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.isCaretAtStartOfInput=rD;var yd=Os,tD=Kf,nD=Ff;function rD(e){var t=(0,yd.getDeepestNode)(e);if(t===null||(0,yd.isEmpty)(e))return!0;if((0,yd.isNativeInput)(t))return t.selectionEnd===0;if((0,yd.isEmpty)(e))return!0;var n=(0,tD.getCaretNodeAndOffset)(),r=n[0],i=n[1];return r===null?!1:(0,nD.checkContenteditableSliceForEmptiness)(e,r,i,"left")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtStartOfInput=void 0;var t=D0;Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return t.isCaretAtStartOfInput}})})(k2);var T2={},L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.save=sD;var oD=Os,iD=Zf;function sD(){var e=(0,iD.getRange)(),t=(0,oD.make)("span");if(t.id="cursor",t.hidden=!0,!!e)return e.insertNode(t),function(){var n=window.getSelection();n&&(e.setStartAfter(t),e.setEndAfter(t),n.removeAllRanges(),n.addRange(e),setTimeout(function(){t.remove()},150))}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=void 0;var t=L0;Object.defineProperty(e,"save",{enumerable:!0,get:function(){return t.save}})})(T2);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=e.isCaretAtStartOfInput=e.isCaretAtEndOfInput=e.getRange=e.getCaretNodeAndOffset=e.focus=e.getContenteditableSlice=e.checkContenteditableSliceForEmptiness=void 0;var t=Wm;Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}});var n=w2;Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var r=S2;Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return r.focus}});var i=B0;Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return i.getCaretNodeAndOffset}});var a=E2;Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return a.getRange}});var c=C2;Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return c.isCaretAtEndOfInput}});var u=k2;Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return u.isCaretAtStartOfInput}});var f=T2;Object.defineProperty(e,"save",{enumerable:!0,get:function(){return f.save}})})(r2);class aD extends xt{keydown(t){switch(this.beforeKeydownProcessing(t),t.keyCode){case Je.BACKSPACE:this.backspace(t);break;case Je.DELETE:this.delete(t);break;case Je.ENTER:this.enter(t);break;case Je.DOWN:case Je.RIGHT:this.arrowRightAndDown(t);break;case Je.UP:case Je.LEFT:this.arrowLeftAndUp(t);break;case Je.TAB:this.tabPressed(t);break}t.key==="/"&&!t.ctrlKey&&!t.metaKey&&this.slashPressed(t),t.code==="Slash"&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(t){this.needToolbarClosing(t)&&Ck(t.keyCode)&&(this.Editor.Toolbar.close(),t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||this.Editor.BlockSelection.clearSelection(t))}keyup(t){t.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(t){const n=this.Editor.BlockManager.getBlockByChildNode(t.target);n.dropTarget=!0}dragLeave(t){const n=this.Editor.BlockManager.getBlockByChildNode(t.target);n.dropTarget=!1}handleCommandC(t){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(t)}handleCommandX(t){const{BlockSelection:n,BlockManager:r,Caret:i}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(t).then(()=>{const a=r.removeSelectedBlocks(),c=r.insertDefaultBlockAtIndex(a,!0);i.setToBlock(c,i.positions.START),n.clearSelection(t)})}tabPressed(t){const{InlineToolbar:n,Caret:r}=this.Editor;n.opened||(t.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&t.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(t){this.Editor.BlockManager.currentBlock.isEmpty&&(t.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(t){const{BlockManager:n,UI:r}=this.Editor,i=n.currentBlock;if(i===void 0||i.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||t.shiftKey&&!Fg)return;let a=i;i.currentInput!==void 0&&Yd(i.currentInput)&&!i.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):i.currentInput&&Gd(i.currentInput)?a=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):a=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(a),this.Editor.Toolbar.moveAndOpen(a),t.preventDefault()}backspace(t){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,previousBlock:a}=n;if(!(i===void 0||!Xe.isCollapsed||!i.currentInput||!Yd(i.currentInput))){if(t.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){r.navigatePrevious();return}if(a!==null){if(a.isEmpty){n.removeBlock(a);return}if(i.isEmpty){n.removeBlock(i);const c=n.currentBlock;r.setToBlock(c,r.positions.END);return}HS(a,i)?this.mergeBlocks(a,i):r.setToBlock(a,r.positions.END)}}}delete(t){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,nextBlock:a}=n;if(!(!Xe.isCollapsed||!Gd(i.currentInput))){if(t.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){r.navigateNext();return}if(a!==null){if(a.isEmpty){n.removeBlock(a);return}if(i.isEmpty){n.removeBlock(i),r.setToBlock(a,r.positions.START);return}HS(i,a)?this.mergeBlocks(i,a):r.setToBlock(a,r.positions.START)}}}mergeBlocks(t,n){const{BlockManager:r,Toolbar:i}=this.Editor;t.lastInput!==void 0&&(r2.focus(t.lastInput,!1),r.mergeBlocks(t,n).then(()=>{i.close()}))}arrowRightAndDown(t){const n=mf.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===Je.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,i=((r==null?void 0:r.currentInput)!==void 0?Gd(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(t.shiftKey&&t.keyCode===Je.DOWN&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(t.keyCode===Je.DOWN||t.keyCode===Je.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){t.preventDefault();return}ff(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(t)}arrowLeftAndUp(t){if(this.Editor.UI.someToolbarOpened){if(mf.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===Je.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=((n==null?void 0:n.currentInput)!==void 0?Yd(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(t.shiftKey&&t.keyCode===Je.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(t.keyCode===Je.UP||t.keyCode===Je.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){t.preventDefault();return}ff(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(t)}needToolbarClosing(t){const n=t.keyCode===Je.ENTER&&this.Editor.Toolbar.toolbox.opened,r=t.keyCode===Je.ENTER&&this.Editor.BlockSettings.opened,i=t.keyCode===Je.ENTER&&this.Editor.InlineToolbar.opened,a=t.keyCode===Je.TAB;return!(t.shiftKey||a||n||r||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Wx{constructor(t){this.blocks=[],this.workingArea=t}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return kk(this.workingArea.children)}static set(t,n,r){return isNaN(Number(n))?(Reflect.set(t,n,r),!0):(t.insert(+n,r),!0)}static get(t,n){return isNaN(Number(n))?Reflect.get(t,n):t.get(+n)}push(t){this.blocks.push(t),this.insertToDOM(t)}swap(t,n){const r=this.blocks[n];xe.swap(this.blocks[t].holder,r.holder),this.blocks[n]=this.blocks[t],this.blocks[t]=r}move(t,n){const r=this.blocks.splice(n,1)[0],i=t-1,a=Math.max(0,i),c=this.blocks[a];t>0?this.insertToDOM(r,"afterend",c):this.insertToDOM(r,"beforebegin",c),this.blocks.splice(t,0,r);const u=this.composeBlockEvent("move",{fromIndex:n,toIndex:t});r.call(qo.MOVED,u)}insert(t,n,r=!1){if(!this.length){this.push(n);return}t>this.length&&(t=this.length),r&&(this.blocks[t].holder.remove(),this.blocks[t].call(qo.REMOVED));const i=r?1:0;if(this.blocks.splice(t,i,n),t>0){const a=this.blocks[t-1];this.insertToDOM(n,"afterend",a)}else{const a=this.blocks[t+1];a?this.insertToDOM(n,"beforebegin",a):this.insertToDOM(n)}}replace(t,n){if(this.blocks[t]===void 0)throw Error("Incorrect index");this.blocks[t].holder.replaceWith(n.holder),this.blocks[t]=n}insertMany(t,n){const r=new DocumentFragment;for(const i of t)r.appendChild(i.holder);if(this.length>0){if(n>0){const i=Math.min(n-1,this.length-1);this.blocks[i].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...t)}else this.blocks.push(...t),this.workingArea.appendChild(r);t.forEach(i=>i.call(qo.RENDERED))}remove(t){isNaN(t)&&(t=this.length-1),this.blocks[t].holder.remove(),this.blocks[t].call(qo.REMOVED),this.blocks.splice(t,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(t=>t.call(qo.REMOVED)),this.blocks.length=0}insertAfter(t,n){const r=this.blocks.indexOf(t);this.insert(r+1,n)}get(t){return this.blocks[t]}indexOf(t){return this.blocks.indexOf(t)}insertToDOM(t,n,r){n?r.holder.insertAdjacentElement(n,t.holder):this.workingArea.appendChild(t.holder),t.call(qo.RENDERED)}composeBlockEvent(t,n){return new CustomEvent(t,{detail:n})}}const XS="block-removed",KS="block-added",lD="block-moved",ZS="block-changed";class cD{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((n,r)=>{this.completed=this.completed.then(t).then(n).catch(r)})}}class uD extends xt{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(t){this._currentBlockIndex=t}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(t){this.currentBlockIndex=this.getBlockIndex(t)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(t=>!!t.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(t=>!!t.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(t=>t.isEmpty)}prepare(){const t=new Wx(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(t,{set:Wx.set,get:Wx.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(t){t?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:t,data:n={},id:r=void 0,tunes:i={}}){const a=this.Editor.ReadOnly.isEnabled,c=this.Editor.Tools.blockTools.get(t),u=new Xo({id:r,data:n,tool:c,api:this.Editor.API,readOnly:a,tunesData:i},this.eventsDispatcher);return a||window.requestIdleCallback(()=>{this.bindBlockEvents(u)},{timeout:2e3}),u}insert({id:t=void 0,tool:n=this.config.defaultBlock,data:r={},index:i,needToFocus:a=!0,replace:c=!1,tunes:u={}}={}){let f=i;f===void 0&&(f=this.currentBlockIndex+(c?0:1));const h=this.composeBlock({id:t,tool:n,data:r,tunes:u});return c&&this.blockDidMutated(XS,this.getBlockByIndex(f),{index:f}),this._blocks.insert(f,h,c),this.blockDidMutated(KS,h,{index:f}),a?this.currentBlockIndex=f:f<=this.currentBlockIndex&&this.currentBlockIndex++,h}insertMany(t,n=0){this._blocks.insertMany(t,n)}async update(t,n,r){if(!n&&!r)return t;const i=await t.data,a=this.composeBlock({id:t.id,tool:t.name,data:Object.assign({},i,n??{}),tunes:r??t.tunes}),c=this.getBlockIndex(t);return this._blocks.replace(c,a),this.blockDidMutated(ZS,a,{index:c}),a}replace(t,n,r){const i=this.getBlockIndex(t);return this.insert({tool:n,data:r,index:i,replace:!0})}paste(t,n,r=!1){const i=this.insert({tool:t,replace:r});try{window.requestIdleCallback(()=>{i.call(qo.ON_PASTE,n)})}catch(a){Et(`${t}: onPaste callback call is failed`,"error",a)}return i}insertDefaultBlockAtIndex(t,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[t]=r,this.blockDidMutated(KS,r,{index:t}),n?this.currentBlockIndex=t:t<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(t,n){let r;if(t.name===n.name&&t.mergeable){const i=await n.data;if(zr(i)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[a]=Vm([i],t.tool.sanitizeConfig);r=a}else if(t.mergeable&&pf(n,"export")&&pf(t,"import")){const i=await n.exportDataAsString(),a=mo(i,t.tool.sanitizeConfig);r=US(a,t.tool.conversionConfig)}r!==void 0&&(await t.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(t))}removeBlock(t,n=!0){return new Promise(r=>{const i=this._blocks.indexOf(t);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");t.destroy(),this._blocks.remove(i),this.blockDidMutated(XS,t,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),r()})}removeSelectedBlocks(){let t;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),t=n);return t}removeAllBlocks(){for(let t=this.blocks.length-1;t>=0;t--)this._blocks.remove(t);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const t=this.Editor.Caret.extractFragmentFromCaretPosition(),n=xe.make("div");n.appendChild(t);const r={text:xe.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(t){return t===-1&&(t=this._blocks.length-1),this._blocks[t]}getBlockIndex(t){return this._blocks.indexOf(t)}getBlockById(t){return this._blocks.array.find(n=>n.id===t)}getBlock(t){xe.isElement(t)||(t=t.parentNode);const n=this._blocks.nodes,r=t.closest(`.${Xo.CSS.wrapper}`),i=n.indexOf(r);if(i>=0)return this._blocks[i]}setCurrentBlockByChildNode(t){xe.isElement(t)||(t=t.parentNode);const n=t.closest(`.${Xo.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(t){if(!t||!(t instanceof Node))return;xe.isElement(t)||(t=t.parentNode);const n=t.closest(`.${Xo.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(t,n){this._blocks.swap(t,n),this.currentBlockIndex=n}move(t,n=this.currentBlockIndex){if(isNaN(t)||isNaN(n)){Et("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(t)||!this.validateIndex(n)){Et("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(t,n),this.currentBlockIndex=t,this.blockDidMutated(lD,this.currentBlock,{fromIndex:n,toIndex:t})}async convert(t,n,r){if(!await t.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(n);if(!i)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const a=await t.exportDataAsString(),c=mo(a,i.sanitizeConfig);let u=US(c,i.conversionConfig,i.settings);return r&&(u=Object.assign(u,r)),this.replace(t,i.name,u)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(t=!1){const n=new cD;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.unsetCurrentBlock(),t&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(t=>t.destroy()))}bindBlockEvents(t){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(t.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(t.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(t.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(t.holder,"dragleave",r=>{n.dragLeave(r)}),t.on("didMutated",r=>this.blockDidMutated(ZS,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",t=>this.Editor.BlockEvents.handleCommandX(t)),this.blocks.forEach(t=>{this.bindBlockEvents(t)})}validateIndex(t){return!(t<0||t>=this._blocks.length)}blockDidMutated(t,n,r){const i=new CustomEvent(t,{detail:{target:new Yo(n),...r}});return this.eventsDispatcher.emit(Ok,{event:i}),n}}class dD extends xt{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:t}=this.Editor;return t.blocks.every(n=>n.selected===!0)}set allBlocksSelected(t){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=t}),this.clearCache()}get anyBlockSelected(){const{BlockManager:t}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=t.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(t=>t.selected)}prepare(){this.selection=new Xe,Ua.add({name:"CMD+A",handler:t=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){t.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(t)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Xe.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(t){const{BlockManager:n}=this.Editor;let r;isNaN(t)?r=n.currentBlock:r=n.getBlockByIndex(t),r.selected=!1,this.clearCache()}clearSelection(t,n=!1){const{BlockManager:r,Caret:i,RectangleSelection:a}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const c=t&&t instanceof KeyboardEvent,u=c&&Ck(t.keyCode);if(this.anyBlockSelected&&c&&u&&!Xe.isSelectionExists){const f=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(f,!0),i.setToBlock(r.currentBlock),ff(()=>{const h=t.key;i.insertContentAtCaretPosition(h.length>1?"":h)},20)()}if(this.Editor.CrossBlockSelection.clear(t),!this.anyBlockSelected||a.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(t){t.preventDefault();const n=xe.make("div");this.selectedBlocks.forEach(a=>{const c=mo(a.holder.innerHTML,this.sanitizerConfig),u=xe.make("p");u.innerHTML=c,n.appendChild(u)});const r=Array.from(n.childNodes).map(a=>a.textContent).join(`

`),i=n.innerHTML;return t.clipboardData.setData("text/plain",r),t.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(a=>a.save())).then(a=>{try{t.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(a))}catch{}})}selectBlockByIndex(t){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(t);r!==void 0&&this.selectBlock(r)}selectBlock(t){this.selection.save(),Xe.get().removeAllRanges(),t.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(t){t.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Ua.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(t){if(this.Editor.RectangleSelection.clearSelection(),xe.isNativeInput(t.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(t.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(t.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(t.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Xe.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let fD=class Kg extends xt{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(t,n=this.positions.DEFAULT,r=0){var i;const{BlockManager:a,BlockSelection:c}=this.Editor;if(c.clearSelection(),!t.focusable){(i=window.getSelection())==null||i.removeAllRanges(),c.selectBlock(t),a.currentBlock=t;return}let u;switch(n){case this.positions.START:u=t.firstInput;break;case this.positions.END:u=t.lastInput;break;default:u=t.currentInput}if(!u)return;const f=xe.getDeepestNode(u,n===this.positions.END),h=xe.getContentLength(f);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>h:r=h;break}this.set(f,r),a.setCurrentBlockByChildNode(t.holder),a.currentBlock.currentInput=u}setToInput(t,n=this.positions.DEFAULT,r=0){const{currentBlock:i}=this.Editor.BlockManager,a=xe.getDeepestNode(t);switch(n){case this.positions.START:this.set(a,0);break;case this.positions.END:this.set(a,xe.getContentLength(a));break;default:r&&this.set(a,r)}i.currentInput=t}set(t,n=0){const{top:r,bottom:i}=Xe.setCursor(t,n),{innerHeight:a}=window;r<0?window.scrollBy(0,r-30):i>a&&window.scrollBy(0,i-a+30)}setToTheLastBlock(){const t=this.Editor.BlockManager.lastBlock;if(t)if(t.tool.isDefault&&t.isEmpty)this.setToBlock(t);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const t=Xe.get();if(t.rangeCount){const n=t.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(xe.isNativeInput(r)){const i=r,a=document.createDocumentFragment(),c=i.value.substring(0,i.selectionStart),u=i.value.substring(i.selectionStart);return a.textContent=u,i.value=c,a}else{const i=n.cloneRange();return i.selectNodeContents(r),i.setStart(n.endContainer,n.endOffset),i.extractContents()}}}navigateNext(t=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:i}=n;if(r===void 0)return!1;const{nextInput:a,currentInput:c}=r,u=c!==void 0?Gd(c):void 0;let f=i;const h=t||u||!r.focusable;if(a&&h)return this.setToInput(a,this.positions.START),!0;if(f===null){if(r.tool.isDefault||!h)return!1;f=n.insertAtEnd()}return h?(this.setToBlock(f,this.positions.START),!0):!1}navigatePrevious(t=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:i,currentInput:a}=n,c=a!==void 0?Yd(a):void 0,u=t||c||!n.focusable;return i&&u?(this.setToInput(i,this.positions.END),!0):r!==null&&u?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(t){const n=document.createElement("span");n.classList.add(Kg.CSS.shadowCaret),t.insertAdjacentElement("beforeend",n)}restoreCaret(t){const n=t.querySelector(`.${Kg.CSS.shadowCaret}`);if(!n)return;new Xe().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(t){const n=document.createDocumentFragment(),r=document.createElement("div"),i=Xe.get(),a=Xe.range;r.innerHTML=t,Array.from(r.childNodes).forEach(h=>n.appendChild(h)),n.childNodes.length===0&&n.appendChild(new Text);const c=n.lastChild;a.deleteContents(),a.insertNode(n);const u=document.createRange(),f=c.nodeType===Node.TEXT_NODE?c:c.firstChild;f!==null&&f.textContent!==null&&u.setStart(f,f.textContent.length),i.removeAllRanges(),i.addRange(u)}};class hD extends xt{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=t=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(t.relatedTarget===null&&t.target===null)return;const i=n.getBlockByChildNode(t.relatedTarget)||this.lastSelectedBlock,a=n.getBlockByChildNode(t.target);if(!(!i||!a)&&a!==i){if(i===this.firstSelectedBlock){Xe.get().removeAllRanges(),i.selected=!0,a.selected=!0,r.clearCache();return}if(a===this.firstSelectedBlock){i.selected=!1,a.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,a),this.lastSelectedBlock=a}}}async prepare(){this.listeners.on(document,"mousedown",t=>{this.enableCrossBlockSelection(t)})}watchSelection(t){if(t.button!==Q5.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(t.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(t=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),Xe.get().removeAllRanges());const i=n.blocks.indexOf(this.lastSelectedBlock)+(t?1:-1),a=n.blocks[i];a&&(this.lastSelectedBlock.selected!==a.selected?(a.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=a,this.Editor.InlineToolbar.close(),a.holder.scrollIntoView({block:"nearest"}))}clear(t){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor,a=n.blocks.indexOf(this.firstSelectedBlock),c=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&a>-1&&c>-1&&t&&t instanceof KeyboardEvent)switch(t.keyCode){case Je.DOWN:case Je.RIGHT:i.setToBlock(n.blocks[Math.max(a,c)],i.positions.END);break;case Je.UP:case Je.LEFT:i.setToBlock(n.blocks[Math.min(a,c)],i.positions.START);break;default:i.setToBlock(n.blocks[Math.max(a,c)],i.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(t){const{UI:n}=this.Editor;Xe.isCollapsed||this.Editor.BlockSelection.clearSelection(t),n.nodes.redactor.contains(t.target)?this.watchSelection(t):this.Editor.BlockSelection.clearSelection(t)}toggleBlocksSelectedState(t,n){const{BlockManager:r,BlockSelection:i}=this.Editor,a=r.blocks.indexOf(t),c=r.blocks.indexOf(n),u=t.selected!==n.selected;for(let f=Math.min(a,c);f<=Math.max(a,c);f++){const h=r.blocks[f];h!==this.firstSelectedBlock&&h!==(u?t:n)&&(r.blocks[f].selected=!r.blocks[f].selected,i.clearCache())}}}class pD extends xt{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(t){t?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:t}=this.Editor;this.readOnlyMutableListeners.on(t.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(t.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(t.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(t){const{BlockManager:n,Paste:r,Caret:i}=this.Editor;t.preventDefault(),n.blocks.forEach(c=>{c.dropTarget=!1}),Xe.isAtEditor&&!Xe.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const a=n.setCurrentBlockByChildNode(t.target);if(a)this.Editor.Caret.setToBlock(a,i.positions.END);else{const c=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(c,i.positions.END)}await r.processDataTransfer(t.dataTransfer,!0)}processDragStart(){Xe.isAtEditor&&!Xe.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(t){t.preventDefault()}}const xD=180,gD=400;class mD extends xt{constructor({config:t,eventsDispatcher:n}){super({config:t,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=gD,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(Ok,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(Bk,()=>{this.disable()}),this.eventsDispatcher.on(jk,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(t){this.disabled||!qt(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${t.detail.target.id}:event:${t.type}`,t),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(t){this.eventsDispatcher.emit(Vg,{mutations:t})}}const _2=class N2 extends xt{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const n=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!qt(n.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(n){Et(`Paste handling for «${t.name}» Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async t=>{const{BlockManager:n,Toolbar:r}=this.Editor,i=n.setCurrentBlockByChildNode(t.target);!i||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||i&&this.exceptionList.includes(i.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,n=!1){const{Tools:r}=this.Editor,i=t.types;if((i.includes?i.includes("Files"):i.contains("Files"))&&!zr(this.toolsFiles)){await this.processFiles(t.files);return}const a=t.getData(this.MIME_TYPE),c=t.getData("text/plain");let u=t.getData("text/html");if(a)try{this.insertEditorJSData(JSON.parse(a));return}catch{}n&&c.trim()&&u.trim()&&(u="<p>"+(u.trim()?u:c)+"</p>");const f=Object.keys(this.toolsTags).reduce((g,y)=>(g[y.toLowerCase()]=this.toolsTags[y].sanitizationConfig??{},g),{}),h=Object.assign({},f,r.getAllInlineToolsSanitizeConfig(),{br:{}}),p=mo(u,h);!p.trim()||p.trim()===c||!xe.isHTMLString(p)?await this.processText(c):await this.processText(p,!0)}async processText(t,n=!1){const{Caret:r,BlockManager:i}=this.Editor,a=n?this.processHTML(t):this.processPlain(t);if(!a.length)return;if(a.length===1){a[0].isBlock?this.processSingleBlock(a.pop()):this.processInlinePaste(a.pop());return}const c=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;a.map(async(u,f)=>this.insertBlock(u,f===0&&c)),i.currentBlock&&r.setToBlock(i.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return Qo(t)?[t]:On(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const n=t.pasteConfig.tags||[],r=[];n.forEach(i=>{const a=this.collectTagNames(i);r.push(...a),a.forEach(c=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,c)){Et(`Paste handler for «${t.name}» Tool on «${c}» tag is skipped because it is already used by «${this.toolsTags[c].tool.name}» Tool.`,"warn");return}const u=On(i)?i[c]:null;this.toolsTags[c.toUpperCase()]={tool:t,sanitizationConfig:u}})}),this.tagsByTool[t.name]=r.map(i=>i.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:n={}}=t.pasteConfig;let{extensions:r,mimeTypes:i}=n;!r&&!i||(r&&!Array.isArray(r)&&(Et(`«extensions» property of the onDrop config for «${t.name}» Tool should be an array`),r=[]),i&&!Array.isArray(i)&&(Et(`«mimeTypes» property of the onDrop config for «${t.name}» Tool should be an array`),i=[]),i&&(i=i.filter(a=>rB(a)?!0:(Et(`MIME type value «${a}» for the «${t.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:r||[],mimeTypes:i||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||zr(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||Et(`Pattern ${r} for «${t.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:t})})}isNativeBehaviour(t){return xe.isNativeInput(t)}async processFiles(t){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(t).map(a=>this.processFile(a))),r=r.filter(a=>!!a);const i=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((a,c)=>{n.paste(a.type,a.event,c===0&&i)})}async processFile(t){const n=nB(t),r=Object.entries(this.toolsFiles).find(([a,{mimeTypes:c,extensions:u}])=>{const[f,h]=t.type.split("/"),p=u.find(y=>y.toLowerCase()===n.toLowerCase()),g=c.find(y=>{const[b,w]=y.split("/");return b===f&&(w===h||w==="*")});return!!p||!!g});if(!r)return;const[i]=r;return{event:this.composePasteEvent("file",{file:t}),type:i}}processHTML(t){const{Tools:n}=this.Editor,r=xe.make("DIV");return r.innerHTML=t,this.getNodes(r).map(i=>{let a,c=n.defaultTool,u=!1;switch(i.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:a=xe.make("div"),a.appendChild(i);break;case Node.ELEMENT_NODE:a=i,u=!0,this.toolsTags[a.tagName]&&(c=this.toolsTags[a.tagName].tool);break}const{tags:f}=c.pasteConfig||{tags:[]},h=f.reduce((y,b)=>(this.collectTagNames(b).forEach(w=>{const S=On(b)?b[w]:null;y[w.toLowerCase()]=S||{}}),y),{}),p=Object.assign({},h,c.baseSanitizeConfig);if(a.tagName.toLowerCase()==="table"){const y=mo(a.outerHTML,p);a=xe.make("div",void 0,{innerHTML:y}).firstChild}else a.innerHTML=mo(a.innerHTML,p);const g=this.composePasteEvent("tag",{data:a});return{content:a,isBlock:u,tool:c.name,event:g}}).filter(i=>{const a=xe.isEmpty(i.content),c=xe.isSingleTag(i.content);return!a||c})}processPlain(t){const{defaultBlock:n}=this.config;if(!t)return[];const r=n;return t.split(/\r?\n/).filter(i=>i.trim()).map(i=>{const a=xe.make("div");a.textContent=i;const c=this.composePasteEvent("tag",{data:a});return{content:a,tool:r,isBlock:!1,event:c}})}async processSingleBlock(t){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:i}=r;if(!i||t.tool!==i.name||!xe.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(i==null?void 0:i.tool.isDefault)&&i.isEmpty);return}n.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:n,Caret:r}=this.Editor,{content:i}=t;if(n.currentBlock&&n.currentBlock.tool.isDefault&&i.textContent.length<N2.PATTERN_PROCESSING_MAX_LENGTH){const a=await this.processPattern(i.textContent);if(a){const c=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,u=n.paste(a.tool,a.event,c);r.setToBlock(u,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const a=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,mo(i.innerHTML,a))}else this.insertBlock(t)}async processPattern(t){const n=this.toolsPatterns.find(r=>{const i=r.pattern.exec(t);return i?t===i.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:t}),tool:n.tool.name}:void 0}insertBlock(t,n=!1){const{BlockManager:r,Caret:i}=this.Editor,{currentBlock:a}=r;let c;if(n&&a&&a.isEmpty){c=r.paste(t.tool,t.event,!0),i.setToBlock(c,i.positions.END);return}c=r.paste(t.tool,t.event),i.setToBlock(c,i.positions.END)}insertEditorJSData(t){const{BlockManager:n,Caret:r,Tools:i}=this.Editor;Vm(t,a=>i.blockTools.get(a).sanitizeConfig).forEach(({tool:a,data:c},u)=>{let f=!1;u===0&&(f=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const h=n.insert({tool:a,data:c,replace:f});r.setToBlock(h,r.positions.END)})}processElementNode(t,n,r){const i=Object.keys(this.toolsTags),a=t,{tool:c}=this.toolsTags[a.tagName]||{},u=this.tagsByTool[c==null?void 0:c.name]||[],f=i.includes(a.tagName),h=xe.blockElements.includes(a.tagName.toLowerCase()),p=Array.from(a.children).some(({tagName:y})=>i.includes(y)&&!u.includes(y)),g=Array.from(a.children).some(({tagName:y})=>xe.blockElements.includes(y.toLowerCase()));if(!h&&!f&&!p)return r.appendChild(a),[...n,r];if(f&&!p||h&&!g&&!p)return[...n,r,a]}getNodes(t){const n=Array.from(t.childNodes);let r;const i=(a,c)=>{if(xe.isEmpty(c)&&!xe.isSingleTag(c))return a;const u=a[a.length-1];let f=new DocumentFragment;switch(u&&xe.isFragment(u)&&(f=a.pop()),c.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(c,a,f),r)return r;break;case Node.TEXT_NODE:return f.appendChild(c),[...a,f];default:return[...a,f]}return[...a,...Array.from(c.childNodes).reduce(i,[])]};return n.reduce(i,[])}composePasteEvent(t,n){return new CustomEvent(t,{detail:n})}};_2.PATTERN_PROCESSING_MAX_LENGTH=450;let yD=_2;class vD extends xt{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:t}=this.Editor,{blockTools:n}=t,r=[];Array.from(n.entries()).forEach(([i,a])=>{a.isReadOnlySupported||r.push(i)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(t=!this.readOnlyEnabled,n=!1){t&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=t;for(const a in this.Editor)this.Editor[a].toggleReadOnly&&this.Editor[a].toggleReadOnly(t);if(r===t)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const i=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(i.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new Ak(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let bD=class Xd extends xt{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(t,n){const r=document.elementFromPoint(t-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${Xo.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],a=r.closest("."+this.Editor.UI.CSS.editorWrapper),c=i.some(u=>!!r.closest(u));!a||c||(this.mousedown=!0,this.startX=t,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:t}=this.genHTML();this.listeners.on(t,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",zg(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",zg(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(t){t.button===this.MAIN_MOUSE_BUTTON&&(t.target.closest(xe.allInputsSelector)!==null||this.startSelection(t.pageX,t.pageY))}processMouseMove(t){this.changingRectangle(t),this.scrollByZones(t.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(t){this.changingRectangle(t)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(t){if(this.inScrollZone=null,t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:t}=this.Editor,n=t.nodes.holder.querySelector("."+t.CSS.editorWrapper),r=xe.make("div",Xd.CSS.overlay,{}),i=xe.make("div",Xd.CSS.overlayContainer,{}),a=xe.make("div",Xd.CSS.rect,{});return i.appendChild(a),r.appendChild(i),n.appendChild(r),this.overlayRectangle=a,{container:n,overlay:r}}scrollVertical(t){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,t),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(t)},0)}changingRectangle(t){if(!this.mousedown)return;t.pageY!==void 0&&(this.mouseX=t.pageX,this.mouseY=t.pageY);const{rightPos:n,leftPos:r,index:i}=this.genInfoForMouseSelection(),a=this.startX>n&&this.mouseX>n,c=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(a||c),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),Xe.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const t=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!t)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&t)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const t=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(t,n),i=this.Editor.BlockManager.getBlockByChildNode(r);let a;i!==void 0&&(a=this.Editor.BlockManager.blocks.findIndex(p=>p.holder===i.holder));const c=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Xo.CSS.content),u=Number.parseInt(window.getComputedStyle(c).width,10)/2,f=t-u,h=t+u;return{index:a,leftPos:f,rightPos:h}}addBlockInSelection(t){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(t),this.stackOfSelected.push(t)}trySelectNextBlock(t){const n=this.stackOfSelected[this.stackOfSelected.length-1]===t,r=this.stackOfSelected.length,i=1,a=-1,c=0;if(n)return;const u=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let f=c;r>1&&(f=u?i:a);const h=t>this.stackOfSelected[r-1]&&f===i,p=t<this.stackOfSelected[r-1]&&f===a,g=!(h||p||f===c);if(!g&&(t>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let w=this.stackOfSelected[r-1]+1||t;for(w;w<=t;w++)this.addBlockInSelection(w);return}if(!g&&t<this.stackOfSelected[r-1]){for(let w=this.stackOfSelected[r-1]-1;w>=t;w--)this.addBlockInSelection(w);return}if(!g)return;let y=r-1,b;for(t>this.stackOfSelected[r-1]?b=()=>t>this.stackOfSelected[y]:b=()=>t<this.stackOfSelected[y];b();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[y]),this.stackOfSelected.pop(),y--}};class wD extends xt{async render(t){return new Promise(n=>{const{Tools:r,BlockManager:i}=this.Editor;if(t.length===0)i.insert();else{const a=t.map(({type:c,data:u,tunes:f,id:h})=>{r.available.has(c)===!1&&(Lr(`Tool «${c}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),u=this.composeStubDataForTool(c,u,h),c=r.stubTool);let p;try{p=i.composeBlock({id:h,tool:c,data:u,tunes:f})}catch(g){Et(`Block «${c}» skipped because of plugins error`,"error",{data:u,error:g}),u=this.composeStubDataForTool(c,u,h),c=r.stubTool,p=i.composeBlock({id:h,tool:c,data:u,tunes:f})}return p});i.insertMany(a)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(t,n,r){const{Tools:i}=this.Editor;let a=t;if(i.unavailable.has(t)){const c=i.unavailable.get(t).toolbox;c!==void 0&&c[0].title!==void 0&&(a=c[0].title)}return{savedData:{id:r,type:t,data:n},title:a}}}class SD extends xt{async save(){const{BlockManager:t,Tools:n}=this.Editor,r=t.blocks,i=[];try{r.forEach(u=>{i.push(this.getSavedData(u))});const a=await Promise.all(i),c=await Vm(a,u=>n.blockTools.get(u).sanitizeConfig);return this.makeOutput(c)}catch(a){Lr("Saving failed due to the Error %o","error",a)}}async getSavedData(t){const n=await t.save(),r=n&&await t.validate(n.data);return{...n,isValid:r}}makeOutput(t){const n=[];return t.forEach(({id:r,tool:i,data:a,tunes:c,isValid:u})=>{if(!u){Et(`Block «${i}» skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){n.push(a);return}const f={id:r,type:i,data:a,...!zr(c)&&{tunes:c}};n.push(f)}),{time:+new Date,blocks:n,version:"2.31.0-rc.7"}}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const ED='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function CD(e){const t=document.createElement("div");t.innerHTML=e.trim();const n=document.createDocumentFragment();return n.append(...Array.from(t.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class I0{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:I0.DEFAULT_PLACEHOLDER,this._data=t??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(t){if(t.code!=="Backspace"&&t.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable="false",t.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(t.innerHTML=this._data.text),this.readOnly||(t.contentEditable="true",t.addEventListener("keyup",this.onKeyUp)),t}render(){return this._element=this.drawView(),this._element}merge(t){if(!this._element)return;this._data.text+=t.text;const n=CD(t.text);this._element.appendChild(n),this._element.normalize()}validate(t){return!(t.text.trim()===""&&!this._preserveBlank)}save(t){return{text:t.innerHTML}}onPaste(t){const n={text:t.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:ED,title:"Text"}}}class $0{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:ZB,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}$0.isInline=!0;$0.title="Bold";class P0{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=r4,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+I"}}P0.isInline=!0;P0.title="Italic";class z0{constructor({api:t}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new Xe}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=FS,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",t=>{t.keyCode===this.ENTER_KEY&&this.enterPressed(t)}),this.nodes.input}surround(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const t=this.selection.findParentTag("A");if(t){this.nodes.button.innerHTML=a4,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=t.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=FS,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(t=!1){this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(t=!0){if(this.selection.isFakeBackgroundEnabled){const n=new Xe;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(t){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),t.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Et("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(t){return!/\s/.test(t)}prepareLink(t){return t=t.trim(),t=this.addProtocol(t),t}addProtocol(t){if(/^(\w+):(\/\/)?/.test(t))return t;const n=/^\/[^/\s]/.test(t),r=t.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(t);return!n&&!r&&!i&&(t="http://"+t),t}insertLink(t){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,t)}unlink(){document.execCommand(this.commandUnlink)}}z0.isInline=!0;z0.title="Link";let M2=class{constructor({api:t}){this.i18nAPI=t.i18n,this.blocksAPI=t.blocks,this.selectionAPI=t.selection,this.toolsAPI=t.tools,this.caretAPI=t.caret}async render(){const t=Xe.get(),n=this.blocksAPI.getBlockByElement(t.anchorNode);if(n===void 0)return[];const r=this.toolsAPI.getBlockTools(),i=await Lk(n,r);if(i.length===0)return[];const a=i.reduce((h,p)=>{var g;return(g=p.toolbox)==null||g.forEach(y=>{h.push({icon:y.icon,title:Xn.t(yr.toolNames,y.title),name:p.name,closeOnActivate:!0,onActivate:async()=>{const b=await this.blocksAPI.convert(n.id,p.name,y.data);this.caretAPI.setToBlock(b,"end")}})}),h},[]),c=await n.getActiveToolboxEntry(),u=c!==void 0?c.icon:Fk,f=!Xa();return{icon:u,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:f,items:a,onOpen:()=>{f&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{f&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}};M2.isInline=!0;let A2=class{constructor({data:t,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const t=xe.make("div",this.CSS.wrapper),n=l4,r=xe.make("div",this.CSS.info),i=xe.make("div",this.CSS.title,{textContent:this.title}),a=xe.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.innerHTML=n,r.appendChild(i),r.appendChild(a),t.appendChild(r),t}};A2.isReadOnlySupported=!0;class kD extends Zm{constructor(){super(...arguments),this.type=vs.Inline}get title(){return this.constructable[vf.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[vf.IsReadOnlySupported]??!1}}class TD extends Zm{constructor(){super(...arguments),this.type=vs.Tune}create(t,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:t})}}let co=class Aa extends Map{get blockTools(){const t=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Aa(t)}get inlineTools(){const t=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Aa(t)}get blockTunes(){const t=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Aa(t)}get internalTools(){const t=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Aa(t)}get externalTools(){const t=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Aa(t)}};var _D=Object.defineProperty,ND=Object.getOwnPropertyDescriptor,R2=(e,t,n,r)=>{for(var i=ND(t,n),a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=c(t,n,i)||i);return i&&_D(t,n,i),i};class H0 extends Zm{constructor(){super(...arguments),this.type=vs.Block,this.inlineTools=new co,this.tunes=new co}create(t,n,r){return new this.constructable({data:t,block:n,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Ma.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Ma.IsEnabledLineBreaks]}get toolbox(){const t=this.constructable[Ma.Toolbox],n=this.config[Vd.Toolbox];if(!zr(t)&&n!==!1)return n?Array.isArray(t)?Array.isArray(n)?n.map((r,i)=>{const a=t[i];return a?{...a,...r}:r}):[n]:Array.isArray(n)?n:[{...t,...n}]:Array.isArray(t)?t:[t]}get conversionConfig(){return this.constructable[Ma.ConversionConfig]}get enabledInlineTools(){return this.config[Vd.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Vd.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Ma.PasteConfig]??{}}get sanitizeConfig(){const t=super.sanitizeConfig,n=this.baseSanitizeConfig;if(zr(t))return n;const r={};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];On(a)?r[i]=Object.assign({},n,a):r[i]=a}return r}get baseSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(t,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(t,n.sanitizeConfig)),t}}R2([qa],H0.prototype,"sanitizeConfig");R2([qa],H0.prototype,"baseSanitizeConfig");class MD{constructor(t,n,r){this.api=r,this.config=t,this.editorConfig=n}get(t){const{class:n,isInternal:r=!1,...i}=this.config[t],a=this.getConstructor(n),c=n[qg.IsTune];return new a({name:t,constructable:n,config:i,api:this.api.getMethodsForTool(t,c),isDefault:t===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(t){switch(!0){case t[vf.IsInline]:return kD;case t[qg.IsTune]:return TD;default:return H0}}}let O2=class{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:WB,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(t+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,i=r.getBoundingClientRect();let a=Math.abs(window.innerHeight-r.offsetHeight);i.top<window.innerHeight&&(a=window.scrollY+r.offsetHeight),window.scrollTo(0,a),this.api.blocks.move(t+1),this.api.toolbar.toggleBlockSettings(!0)}};O2.isTune=!0;let B2=class{constructor({api:t}){this.api=t}render(){return{icon:t4,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};B2.isTune=!0;let j2=class{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:e4,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(t),r=this.api.blocks.getBlockByIndex(t-1);if(t===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const i=n.holder,a=r.holder,c=i.getBoundingClientRect(),u=a.getBoundingClientRect();let f;u.top>0?f=Math.abs(c.top)-Math.abs(u.top):f=Math.abs(c.top)+u.height,window.scrollBy(0,-1*f),this.api.blocks.move(t-1),this.api.toolbar.toggleBlockSettings(!0)}};j2.isTune=!0;var AD=Object.defineProperty,RD=Object.getOwnPropertyDescriptor,OD=(e,t,n,r)=>{for(var i=RD(t,n),a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=c(t,n,i)||i);return i&&AD(t,n,i),i};let D2=class extends xt{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new co,this.toolsUnavailable=new co}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Hg({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const t=this.prepareConfig();this.factory=new MD(t,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(t);if(n.length===0)return Promise.resolve();await tB(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(t,n.sanitizeConfig)}),t}destroy(){Object.values(this.available).forEach(async t=>{qt(t.reset)&&await t.reset()})}get internalTools(){return{convertTo:{class:M2,isInternal:!0},link:{class:z0,isInternal:!0},bold:{class:$0,isInternal:!0},italic:{class:P0,isInternal:!0},paragraph:{class:I0,inlineToolbar:!0,isInternal:!0},stub:{class:A2,isInternal:!0},moveUp:{class:j2,isInternal:!0},delete:{class:B2,isInternal:!0},moveDown:{class:O2,isInternal:!0}}}toolPrepareMethodSuccess(t){const n=this.factory.get(t.toolName);if(n.isInline()){const r=["render"].filter(i=>!n.create()[i]);if(r.length){Et(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(t){this.toolsUnavailable.set(t.toolName,this.factory.get(t.toolName))}getListOfPrepareFunctions(t){const n=[];return Object.entries(t).forEach(([r,i])=>{n.push({function:qt(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:r,config:i.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(t=>{this.assignInlineToolsToBlockTool(t),this.assignBlockTunesToBlockTool(t)})}assignInlineToolsToBlockTool(t){if(this.config.inlineToolbar!==!1){if(t.enabledInlineTools===!0){t.inlineTools=new co(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(t.enabledInlineTools)&&(t.inlineTools=new co(["convertTo",...t.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(t){if(t.enabledBlockTunes!==!1){if(Array.isArray(t.enabledBlockTunes)){const n=new co(t.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));t.tunes=new co([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new co(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));t.tunes=new co([...n,...this.blockTunes.internalTools]);return}t.tunes=this.blockTunes.internalTools}}validateTools(){for(const t in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,t)){if(t in this.internalTools)return;const n=this.config.tools[t];if(!qt(n)&&!qt(n.class))throw Error(`Tool «${t}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const t={};for(const n in this.config.tools)On(this.config.tools[n])?t[n]=this.config.tools[n]:t[n]={class:this.config.tools[n]};return t}};OD([qa],D2.prototype,"getAllInlineToolsSanitizeConfig");const BD=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class jD extends xt{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=zS(()=>{this.windowResize()},200),this.selectionChangeDebounced=zS(()=>{this.selectionChanged()},xD),this.documentTouchedListener=t=>{this.documentTouched(t)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const t=this.nodes.wrapper.querySelector(`.${Xo.CSS.content}`);return t?(this.contentRectCache=t.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(t){t?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:t}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,t.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:t,BlockSettings:n,InlineToolbar:r}=this.Editor;return!!(n.opened||r.opened||t.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([t,n])=>n.flipper instanceof mf).some(([t,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:t,BlockSettings:n,InlineToolbar:r}=this.Editor;n.close(),r.close(),t.toolbox.close()}setIsMobile(){const t=window.innerWidth<Tk;t!==this.isMobile&&this.eventsDispatcher.emit(Ac,{isEnabled:this.isMobile}),this.isMobile=t}make(){this.nodes.holder=xe.getHolder(this.config.holder),this.nodes.wrapper=xe.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=xe.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const t="editor-js-styles";if(xe.get(t))return;const n=xe.make("style",null,{id:t,textContent:BD.toString()});this.config.style&&!zr(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),xe.prepend(document.head,n)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",t=>{this.redactorClicked(t)},!1),this.readOnlyMutableListeners.on(document,"keydown",t=>{this.documentKeydown(t)},!0),this.readOnlyMutableListeners.on(document,"mousedown",t=>{this.documentClicked(t)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let t;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",zg(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&t!==r&&(t=r,this.eventsDispatcher.emit(Jk,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(t){switch(t.keyCode){case Je.ENTER:this.enterPressed(t);break;case Je.BACKSPACE:case Je.DELETE:this.backspacePressed(t);break;case Je.ESC:this.escapePressed(t);break;default:this.defaultBehaviour(t);break}}defaultBehaviour(t){const{currentBlock:n}=this.Editor.BlockManager,r=t.target.closest(`.${this.CSS.editorWrapper}`),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(t);return}r||n&&i||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(t){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor;if(r.anyBlockSelected&&!Xe.isSelectionExists){const a=n.removeSelectedBlocks(),c=n.insertDefaultBlockAtIndex(a,!0);i.setToBlock(c,i.positions.START),r.clearSelection(t),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}escapePressed(t){this.Editor.BlockSelection.clearSelection(t),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(t){const{BlockManager:n,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const i=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!Xe.isSelectionExists){r.clearSelection(t),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation();return}if(!this.someToolbarOpened&&i&&t.target.tagName==="BODY"){const a=this.Editor.BlockManager.insert();t.preventDefault(),this.Editor.Caret.setToBlock(a),this.Editor.Toolbar.moveAndOpen(a)}this.Editor.BlockSelection.clearSelection(t)}documentClicked(t){var n,r;if(!t.isTrusted)return;const i=t.target;this.nodes.holder.contains(i)||Xe.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const a=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(i),c=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(i),u=a||c;if(this.Editor.BlockSettings.opened&&!u){this.Editor.BlockSettings.close();const f=this.Editor.BlockManager.getBlockByChildNode(i);this.Editor.Toolbar.moveAndOpen(f)}this.Editor.BlockSelection.clearSelection(t)}documentTouched(t){let n=t.target;if(n===this.nodes.redactor){const r=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,i=t instanceof MouseEvent?t.clientY:t.touches[0].clientY;n=document.elementFromPoint(r,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(t){if(!Xe.isCollapsed)return;const n=t.target,r=t.metaKey||t.ctrlKey;if(xe.isAnchor(n)&&r){t.stopImmediatePropagation(),t.stopPropagation();const i=n.getAttribute("href"),a=iB(i);aB(a);return}this.processBottomZoneClick(t)}processBottomZoneClick(t){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=xe.offset(n.holder).bottom,i=t.pageY,{BlockSelection:a}=this.Editor;if(t.target instanceof Element&&t.target.isEqualNode(this.nodes.redactor)&&!a.anyBlockSelected&&r<i){t.stopImmediatePropagation(),t.stopPropagation();const{BlockManager:c,Caret:u,Toolbar:f}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),f.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:t,BlockSelection:n}=this.Editor,r=Xe.anchorElement;if(t.isCrossBlockSelectionStarted&&n.anyBlockSelected&&Xe.get().removeAllRanges(),!r){Xe.range||this.Editor.InlineToolbar.close();return}const i=r.closest(`.${Xo.CSS.content}`);(i===null||i.closest(`.${Xe.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function t(n){const r=n.target;_k(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",t),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",t),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",t)}}const DD={BlocksAPI:yB,CaretAPI:bB,EventsAPI:wB,I18nAPI:SB,API:EB,InlineToolbarAPI:CB,ListenersAPI:kB,NotifierAPI:MB,ReadOnlyAPI:AB,SanitizerAPI:IB,SaverAPI:$B,SelectionAPI:PB,ToolsAPI:zB,StylesAPI:HB,ToolbarAPI:UB,TooltipAPI:qB,UiAPI:XB,BlockSettings:b4,Toolbar:N4,InlineToolbar:M4,BlockEvents:aD,BlockManager:uD,BlockSelection:dD,Caret:fD,CrossBlockSelection:hD,DragNDrop:pD,ModificationsObserver:mD,Paste:yD,ReadOnly:vD,RectangleSelection:bD,Renderer:wD,Saver:SD,Tools:D2,UI:jD};class LD{constructor(t){this.moduleInstances={},this.eventsDispatcher=new Zc;let n,r;this.isReady=new Promise((i,a)=>{n=i,r=a}),Promise.resolve().then(async()=>{this.configuration=t,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:a,UI:c,ModificationsObserver:u}=this.moduleInstances;c.checkEmptiness(),u.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&a.setToBlock(i.blocks[0],a.positions.START),n()}).catch(i=>{Et(`Editor.js is not ready because of ${i}`,"error"),r(i)})}set configuration(t){var n,r;On(t)?this.config={...t}:this.config={holder:t},Ug(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Ek.VERBOSE),J5(this.config.logLevel),Ug(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(zr(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Xn.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:t,holder:n}=this.config;if(t&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(Qo(n)&&!xe.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&On(n)&&!xe.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((t,n)=>t.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof Ak)throw new Error(r.message);Et(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(DD).forEach(([t,n])=>{try{this.moduleInstances[t]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Et("[constructModules]",`Module ${t} skipped because`,"error",r)}})}configureModules(){for(const t in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,t)&&(this.moduleInstances[t].state=this.getModulesDiff(t))}getModulesDiff(t){const n={};for(const r in this.moduleInstances)r!==t&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class ID{static get version(){return"2.31.0-rc.7"}constructor(t){let n=()=>{};On(t)&&qt(t.onReady)&&(n=t.onReady);const r=new LD(t);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(t){const n=["configuration"],r=()=>{Object.values(t.moduleInstances).forEach(i=>{qt(i.destroy)&&i.destroy(),i.listeners.removeAll()}),GB(),t=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};n.forEach(i=>{this[i]=t[i]}),this.destroy=r,Object.setPrototypeOf(this,t.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,a])=>{Object.entries(a).forEach(([c,u])=>{this[u]=t.moduleInstances.API.methods[i][c]})})}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const $D='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',PD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',zD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',HD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',UD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',FD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',VD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let YD=class{constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._settings=n,this._data=this.normalizeData(t),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(t){return t.text!==void 0}normalizeData(t){const n={text:"",level:this.defaultLevel.number};return this.isHeaderData(t)&&(n.text=t.text||"",t.level!==void 0&&!isNaN(parseInt(t.level.toString()))&&(n.level=parseInt(t.level.toString()))),n}render(){return this._element}renderSettings(){return this.levels.map(t=>({icon:t.svg,label:this.api.i18n.t(`Heading ${t.number}`),onActivate:()=>this.setLevel(t.number),closeOnActivate:!0,isActive:this.currentLevel.number===t.number,render:()=>document.createElement("div")}))}setLevel(t){this.data={level:t,text:this.data.text}}merge(t){this._element.insertAdjacentHTML("beforeend",t.text)}validate(t){return t.text.trim()!==""}save(t){return{text:t.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(t){if(this._data=this.normalizeData(t),t.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}t.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const t=document.createElement(this.currentLevel.tag);return t.innerHTML=this._data.text||"",t.classList.add(this._CSS.wrapper),t.contentEditable=this.readOnly?"false":"true",t.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),t}get currentLevel(){let t=this.levels.find(n=>n.number===this._data.level);return t||(t=this.defaultLevel),t}get defaultLevel(){if(this._settings.defaultLevel){const t=this.levels.find(n=>n.number===this._settings.defaultLevel);if(t)return t;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const t=[{number:1,tag:"H1",svg:$D},{number:2,tag:"H2",svg:PD},{number:3,tag:"H3",svg:zD},{number:4,tag:"H4",svg:HD},{number:5,tag:"H5",svg:UD},{number:6,tag:"H6",svg:FD}];return this._settings.levels?t.filter(n=>this._settings.levels.includes(n.number)):t}onPaste(t){const n=t.detail;if("data"in n){const r=n.data;let i=this.defaultLevel.number;switch(r.tagName){case"H1":i=1;break;case"H2":i=2;break;case"H3":i=3;break;case"H4":i=4;break;case"H5":i=5;break;case"H6":i=6;break}this._settings.levels&&(i=this._settings.levels.reduce((a,c)=>Math.abs(c-i)<Math.abs(a-i)?c:a)),this.data={level:i,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:VD,title:"Heading"}}};(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"•"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const GD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',WS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',QS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',JS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',qD='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',XD='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',KD='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',ZD='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',WD='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',QD='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>';var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Pt={},U0={},F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.allInputsSelector=e6;function e6(){var e=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+e.map(function(t){return'input[type="'.concat(t,'"]')}).join(", ")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.allInputsSelector=void 0;var t=F0;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}})})(U0);var js={},V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.isNativeInput=t6;function t6(e){var t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNativeInput=void 0;var t=V0;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}})})(js);var L2={},Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.append=n6;function n6(e,t){Array.isArray(t)?t.forEach(function(n){e.appendChild(n)}):e.appendChild(t)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.append=void 0;var t=Y0;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return t.append}})})(L2);var G0={},q0={};Object.defineProperty(q0,"__esModule",{value:!0});q0.blockElements=r6;function r6(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.blockElements=void 0;var t=q0;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return t.blockElements}})})(G0);var I2={},X0={};Object.defineProperty(X0,"__esModule",{value:!0});X0.calculateBaseline=o6;function o6(e){var t=window.getComputedStyle(e),n=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||n*1.2,i=parseFloat(t.paddingTop),a=parseFloat(t.borderTopWidth),c=parseFloat(t.marginTop),u=n*.8,f=(r-n)/2,h=c+a+i+f+u;return h}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateBaseline=void 0;var t=X0;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return t.calculateBaseline}})})(I2);var $2={},K0={},Z0={},W0={};Object.defineProperty(W0,"__esModule",{value:!0});W0.isContentEditable=i6;function i6(e){return e.contentEditable==="true"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isContentEditable=void 0;var t=W0;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return t.isContentEditable}})})(Z0);Object.defineProperty(K0,"__esModule",{value:!0});K0.canSetCaret=l6;var s6=js,a6=Z0;function l6(e){var t=!0;if((0,s6.isNativeInput)(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=(0,a6.isContentEditable)(e);return t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.canSetCaret=void 0;var t=K0;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return t.canSetCaret}})})($2);var Wf={},Q0={};function c6(e,t,n){const r=n.value!==void 0?"value":"get",i=n[r],a=`#${t}Cache`;if(n[r]=function(...c){return this[a]===void 0&&(this[a]=i.apply(this,c)),this[a]},r==="get"&&n.set){const c=n.set;n.set=function(u){delete e[a],c.apply(this,u)}}return n}function P2(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return t!==void 0&&(e[t]=!0),e}function J0(e){return e!=null&&e!==""&&(typeof e!="object"||Object.keys(e).length>0)}function u6(e){return!J0(e)}const d6=()=>typeof window<"u"&&window.navigator!==null&&J0(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function f6(e){const t=P2();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),t.mac?e=e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e=e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),e}function h6(e){return e[0].toUpperCase()+e.slice(1)}function p6(e){const t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=e,document.body.appendChild(t);const n=window.getSelection(),r=document.createRange();if(r.selectNode(t),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(t)}function x6(e,t,n){let r;return(...i)=>{const a=this,c=()=>{r=void 0,n!==!0&&e.apply(a,i)},u=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(c,t),u&&e.apply(a,i)}}function zi(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function g6(e){return zi(e)==="boolean"}function z2(e){return zi(e)==="function"||zi(e)==="asyncfunction"}function m6(e){return z2(e)&&/^\s*class\s+/.test(e.toString())}function y6(e){return zi(e)==="number"}function Kd(e){return zi(e)==="object"}function v6(e){return Promise.resolve(e)===e}function b6(e){return zi(e)==="string"}function w6(e){return zi(e)==="undefined"}function Zg(e,...t){if(!t.length)return e;const n=t.shift();if(Kd(e)&&Kd(n))for(const r in n)Kd(n[r])?(e[r]===void 0&&Object.assign(e,{[r]:{}}),Zg(e[r],n[r])):Object.assign(e,{[r]:n[r]});return Zg(e,...t)}function S6(e,t,n){const r=`«${t}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;e&&console.warn(r)}function E6(e){try{return new URL(e).href}catch{}return e.substring(0,2)==="//"?window.location.protocol+e:window.location.origin+e}function C6(e){return e>47&&e<58||e===32||e===13||e===229||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}const k6={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},T6={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class _6{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((n,r)=>{this.completed=this.completed.then(t).then(n).catch(r)})}}function N6(e,t,n=void 0){let r,i,a,c=null,u=0;n||(n={});const f=function(){u=n.leading===!1?0:Date.now(),c=null,a=e.apply(r,i),c===null&&(r=i=null)};return function(){const h=Date.now();!u&&n.leading===!1&&(u=h);const p=t-(h-u);return r=this,i=arguments,p<=0||p>t?(c&&(clearTimeout(c),c=null),u=h,a=e.apply(r,i),c===null&&(r=i=null)):!c&&n.trailing!==!1&&(c=setTimeout(f,p)),a}}const M6=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:_6,beautifyShortcut:f6,cacheable:c6,capitalize:h6,copyTextToClipboard:p6,debounce:x6,deepMerge:Zg,deprecationAssert:S6,getUserOS:P2,getValidUrl:E6,isBoolean:g6,isClass:m6,isEmpty:u6,isFunction:z2,isIosDevice:d6,isNumber:y6,isObject:Kd,isPrintableKey:C6,isPromise:v6,isString:b6,isUndefined:w6,keyCodes:k6,mouseButtons:T6,notEmpty:J0,throttle:N6,typeOf:zi},Symbol.toStringTag,{value:"Module"})),ey=JD(M6);Object.defineProperty(Q0,"__esModule",{value:!0});Q0.containsOnlyInlineElements=O6;var A6=ey,R6=G0;function O6(e){var t;(0,A6.isString)(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;var n=function(r){return!(0,R6.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(t.children).every(n)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsOnlyInlineElements=void 0;var t=Q0;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return t.containsOnlyInlineElements}})})(Wf);var H2={},ty={},Qf={},ny={};Object.defineProperty(ny,"__esModule",{value:!0});ny.make=B6;function B6(e,t,n){var r;t===void 0&&(t=null),n===void 0&&(n={});var i=document.createElement(e);if(Array.isArray(t)){var a=t.filter(function(u){return u!==void 0});(r=i.classList).add.apply(r,a)}else t!==null&&i.classList.add(t);for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(i[c]=n[c]);return i}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.make=void 0;var t=ny;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return t.make}})})(Qf);Object.defineProperty(ty,"__esModule",{value:!0});ty.fragmentToString=D6;var j6=Qf;function D6(e){var t=(0,j6.make)("div");return t.appendChild(e),t.innerHTML}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fragmentToString=void 0;var t=ty;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return t.fragmentToString}})})(H2);var U2={},ry={};Object.defineProperty(ry,"__esModule",{value:!0});ry.getContentLength=I6;var L6=js;function I6(e){var t,n;return(0,L6.isNativeInput)(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:(n=(t=e.textContent)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContentLength=void 0;var t=ry;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return t.getContentLength}})})(U2);var oy={},iy={},eE=bf&&bf.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(iy,"__esModule",{value:!0});iy.getDeepestBlockElements=F2;var $6=Wf;function F2(e){return(0,$6.containsOnlyInlineElements)(e)?[e]:Array.from(e.children).reduce(function(t,n){return eE(eE([],t,!0),F2(n),!0)},[])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestBlockElements=void 0;var t=iy;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return t.getDeepestBlockElements}})})(oy);var V2={},sy={},Jf={},ay={};Object.defineProperty(ay,"__esModule",{value:!0});ay.isLineBreakTag=P6;function P6(e){return["BR","WBR"].includes(e.tagName)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLineBreakTag=void 0;var t=ay;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return t.isLineBreakTag}})})(Jf);var eh={},ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.isSingleTag=z6;function z6(e){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSingleTag=void 0;var t=ly;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return t.isSingleTag}})})(eh);Object.defineProperty(sy,"__esModule",{value:!0});sy.getDeepestNode=Y2;var H6=js,U6=Jf,F6=eh;function Y2(e,t){t===void 0&&(t=!1);var n=t?"lastChild":"firstChild",r=t?"previousSibling":"nextSibling";if(e.nodeType===Node.ELEMENT_NODE&&e[n]){var i=e[n];if((0,F6.isSingleTag)(i)&&!(0,H6.isNativeInput)(i)&&!(0,U6.isLineBreakTag)(i))if(i[r])i=i[r];else if(i.parentNode!==null&&i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return Y2(i,t)}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestNode=void 0;var t=sy;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return t.getDeepestNode}})})(V2);var G2={},cy={},vd=bf&&bf.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(cy,"__esModule",{value:!0});cy.findAllInputs=X6;var V6=Wf,Y6=oy,G6=U0,q6=js;function X6(e){return Array.from(e.querySelectorAll((0,G6.allInputsSelector)())).reduce(function(t,n){return(0,q6.isNativeInput)(n)||(0,V6.containsOnlyInlineElements)(n)?vd(vd([],t,!0),[n],!1):vd(vd([],t,!0),(0,Y6.getDeepestBlockElements)(n),!0)},[])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findAllInputs=void 0;var t=cy;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return t.findAllInputs}})})(G2);var q2={},uy={};Object.defineProperty(uy,"__esModule",{value:!0});uy.isCollapsedWhitespaces=K6;function K6(e){return!/[^\t\n\r ]/.test(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCollapsedWhitespaces=void 0;var t=uy;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return t.isCollapsedWhitespaces}})})(q2);var dy={},fy={};Object.defineProperty(fy,"__esModule",{value:!0});fy.isElement=W6;var Z6=ey;function W6(e){return(0,Z6.isNumber)(e)?!1:!!e&&!!e.nodeType&&e.nodeType===Node.ELEMENT_NODE}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=void 0;var t=fy;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return t.isElement}})})(dy);var X2={},hy={},py={},xy={};Object.defineProperty(xy,"__esModule",{value:!0});xy.isLeaf=Q6;function Q6(e){return e===null?!1:e.childNodes.length===0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLeaf=void 0;var t=xy;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return t.isLeaf}})})(py);var gy={},my={};Object.defineProperty(my,"__esModule",{value:!0});my.isNodeEmpty=rL;var J6=Jf,eL=dy,tL=js,nL=eh;function rL(e,t){var n="";return(0,nL.isSingleTag)(e)&&!(0,J6.isLineBreakTag)(e)?!1:((0,eL.isElement)(e)&&(0,tL.isNativeInput)(e)?n=e.value:e.textContent!==null&&(n=e.textContent.replace("​","")),t!==void 0&&(n=n.replace(new RegExp(t,"g"),"")),n.trim().length===0)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeEmpty=void 0;var t=my;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return t.isNodeEmpty}})})(gy);Object.defineProperty(hy,"__esModule",{value:!0});hy.isEmpty=sL;var oL=py,iL=gy;function sL(e,t){e.normalize();for(var n=[e];n.length>0;){var r=n.shift();if(r){if(e=r,(0,oL.isLeaf)(e)&&!(0,iL.isNodeEmpty)(e,t))return!1;n.push.apply(n,Array.from(e.childNodes))}}return!0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var t=hy;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return t.isEmpty}})})(X2);var K2={},yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.isFragment=lL;var aL=ey;function lL(e){return(0,aL.isNumber)(e)?!1:!!e&&!!e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isFragment=void 0;var t=yy;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return t.isFragment}})})(K2);var Z2={},vy={};Object.defineProperty(vy,"__esModule",{value:!0});vy.isHTMLString=uL;var cL=Qf;function uL(e){var t=(0,cL.make)("div");return t.innerHTML=e,t.childElementCount>0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLString=void 0;var t=vy;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return t.isHTMLString}})})(Z2);var W2={},by={};Object.defineProperty(by,"__esModule",{value:!0});by.offset=dL;function dL(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=t.top+r,a=t.left+n;return{top:i,left:a,bottom:i+t.height,right:a+t.width}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.offset=void 0;var t=by;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}})})(W2);var Q2={},wy={};Object.defineProperty(wy,"__esModule",{value:!0});wy.prepend=fL;function fL(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(function(n){return e.prepend(n)})):e.prepend(t)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=void 0;var t=wy;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return t.prepend}})})(Q2);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.offset=e.make=e.isLineBreakTag=e.isSingleTag=e.isNodeEmpty=e.isLeaf=e.isHTMLString=e.isFragment=e.isEmpty=e.isElement=e.isContentEditable=e.isCollapsedWhitespaces=e.findAllInputs=e.isNativeInput=e.allInputsSelector=e.getDeepestNode=e.getDeepestBlockElements=e.getContentLength=e.fragmentToString=e.containsOnlyInlineElements=e.canSetCaret=e.calculateBaseline=e.blockElements=e.append=void 0;var t=U0;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}});var n=js;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=L2;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return r.append}});var i=G0;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var a=I2;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return a.calculateBaseline}});var c=$2;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return c.canSetCaret}});var u=Wf;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return u.containsOnlyInlineElements}});var f=H2;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return f.fragmentToString}});var h=U2;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return h.getContentLength}});var p=oy;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return p.getDeepestBlockElements}});var g=V2;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return g.getDeepestNode}});var y=G2;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return y.findAllInputs}});var b=q2;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return b.isCollapsedWhitespaces}});var w=Z0;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return w.isContentEditable}});var S=dy;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return S.isElement}});var k=X2;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return k.isEmpty}});var C=K2;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return C.isFragment}});var R=Z2;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return R.isHTMLString}});var O=py;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return O.isLeaf}});var M=gy;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return M.isNodeEmpty}});var A=Jf;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return A.isLineBreakTag}});var N=eh;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return N.isSingleTag}});var P=Qf;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return P.make}});var $=W2;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return $.offset}});var I=Q2;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return I.prepend}})})(Pt);const nr="cdx-list",zn={wrapper:nr,item:`${nr}__item`,itemContent:`${nr}__item-content`,itemChildren:`${nr}__item-children`};class uo{static get CSS(){return{...zn,orderedList:`${nr}-ordered`}}constructor(t,n){this.config=n,this.readOnly=t}renderWrapper(t){let n;return t===!0?n=Pt.make("ol",[uo.CSS.wrapper,uo.CSS.orderedList]):n=Pt.make("ol",[uo.CSS.orderedList,uo.CSS.itemChildren]),n}renderItem(t,n){const r=Pt.make("li",uo.CSS.item),i=Pt.make("div",uo.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()});return r.appendChild(i),r}getItemContent(t){const n=t.querySelector(`.${uo.CSS.itemContent}`);return!n||Pt.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class fo{static get CSS(){return{...zn,unorderedList:`${nr}-unordered`}}constructor(t,n){this.config=n,this.readOnly=t}renderWrapper(t){let n;return t===!0?n=Pt.make("ul",[fo.CSS.wrapper,fo.CSS.unorderedList]):n=Pt.make("ul",[fo.CSS.unorderedList,fo.CSS.itemChildren]),n}renderItem(t,n){const r=Pt.make("li",fo.CSS.item),i=Pt.make("div",fo.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()});return r.appendChild(i),r}getItemContent(t){const n=t.querySelector(`.${fo.CSS.itemContent}`);return!n||Pt.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function us(e){return e.nodeType===Node.ELEMENT_NODE}var Ec={},Sy={},th={},nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.getContenteditableSlice=pL;var hL=Pt;function pL(e,t,n,r,i){var a;i===void 0&&(i=!1);var c=document.createRange();if(r==="left"?(c.setStart(e,0),c.setEnd(t,n)):(c.setStart(t,n),c.setEnd(e,e.childNodes.length)),i===!0){var u=c.extractContents();return(0,hL.fragmentToString)(u)}var f=c.cloneContents(),h=document.createElement("div");h.appendChild(f);var p=(a=h.textContent)!==null&&a!==void 0?a:"";return p}Object.defineProperty(th,"__esModule",{value:!0});th.checkContenteditableSliceForEmptiness=mL;var xL=Pt,gL=nh;function mL(e,t,n,r){var i=(0,gL.getContenteditableSlice)(e,t,n,r);return(0,xL.isCollapsedWhitespaces)(i)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkContenteditableSliceForEmptiness=void 0;var t=th;Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}})})(Sy);var J2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContenteditableSlice=void 0;var t=nh;Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}})})(J2);var eT={},Ey={};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.focus=vL;var yL=Pt;function vL(e,t){var n,r;if(t===void 0&&(t=!0),(0,yL.isNativeInput)(e)){e.focus();var i=t?0:e.value.length;e.setSelectionRange(i,i)}else{var a=document.createRange(),c=window.getSelection();if(!c)return;var u=function(y,b){b===void 0&&(b=!1);var w=document.createTextNode("");b?y.insertBefore(w,y.firstChild):y.appendChild(w),a.setStart(w,0),a.setEnd(w,0)},f=function(y){return y!=null},h=e.childNodes,p=t?h[0]:h[h.length-1];if(f(p)){for(;f(p)&&p.nodeType!==Node.TEXT_NODE;)p=t?p.firstChild:p.lastChild;if(f(p)&&p.nodeType===Node.TEXT_NODE){var g=(r=(n=p.textContent)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,i=t?0:g;a.setStart(p,i),a.setEnd(p,i)}else u(e,t)}else u(e);c.removeAllRanges(),c.addRange(a)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.focus=void 0;var t=Ey;Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return t.focus}})})(eT);var Cy={},rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.getCaretNodeAndOffset=bL;function bL(){var e=window.getSelection();if(e===null)return[null,0];var t=e.focusNode,n=e.focusOffset;return t===null?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[n]!==void 0?(t=t.childNodes[n],n=0):(t=t.childNodes[n-1],t.textContent!==null&&(n=t.textContent.length))),[t,n])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCaretNodeAndOffset=void 0;var t=rh;Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return t.getCaretNodeAndOffset}})})(Cy);var tT={},oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.getRange=wL;function wL(){var e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRange=void 0;var t=oh;Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return t.getRange}})})(tT);var nT={},ky={};Object.defineProperty(ky,"__esModule",{value:!0});ky.isCaretAtEndOfInput=CL;var tE=Pt,SL=Cy,EL=Sy;function CL(e){var t=(0,tE.getDeepestNode)(e,!0);if(t===null)return!0;if((0,tE.isNativeInput)(t))return t.selectionEnd===t.value.length;var n=(0,SL.getCaretNodeAndOffset)(),r=n[0],i=n[1];return r===null?!1:(0,EL.checkContenteditableSliceForEmptiness)(e,r,i,"right")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtEndOfInput=void 0;var t=ky;Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return t.isCaretAtEndOfInput}})})(nT);var rT={},Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.isCaretAtStartOfInput=_L;var bd=Pt,kL=rh,TL=th;function _L(e){var t=(0,bd.getDeepestNode)(e);if(t===null||(0,bd.isEmpty)(e))return!0;if((0,bd.isNativeInput)(t))return t.selectionEnd===0;if((0,bd.isEmpty)(e))return!0;var n=(0,kL.getCaretNodeAndOffset)(),r=n[0],i=n[1];return r===null?!1:(0,TL.checkContenteditableSliceForEmptiness)(e,r,i,"left")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtStartOfInput=void 0;var t=Ty;Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return t.isCaretAtStartOfInput}})})(rT);var oT={},_y={};Object.defineProperty(_y,"__esModule",{value:!0});_y.save=AL;var NL=Pt,ML=oh;function AL(){var e=(0,ML.getRange)(),t=(0,NL.make)("span");if(t.id="cursor",t.hidden=!0,!!e)return e.insertNode(t),function(){var n=window.getSelection();n&&(e.setStartAfter(t),e.setEndAfter(t),n.removeAllRanges(),n.addRange(e),setTimeout(function(){t.remove()},150))}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=void 0;var t=_y;Object.defineProperty(e,"save",{enumerable:!0,get:function(){return t.save}})})(oT);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=e.isCaretAtStartOfInput=e.isCaretAtEndOfInput=e.getRange=e.getCaretNodeAndOffset=e.focus=e.getContenteditableSlice=e.checkContenteditableSliceForEmptiness=void 0;var t=Sy;Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}});var n=J2;Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var r=eT;Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return r.focus}});var i=Cy;Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return i.getCaretNodeAndOffset}});var a=tT;Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return a.getRange}});var c=nT;Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return c.isCaretAtEndOfInput}});var u=rT;Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return u.isCaretAtStartOfInput}});var f=oT;Object.defineProperty(e,"save",{enumerable:!0,get:function(){return f.save}})})(Ec);class mn{static get CSS(){return{...zn,checklist:`${nr}-checklist`,itemChecked:`${nr}__checkbox--checked`,noHover:`${nr}__checkbox--no-hover`,checkbox:`${nr}__checkbox-check`,checkboxContainer:`${nr}__checkbox`}}constructor(t,n){this.config=n,this.readOnly=t}renderWrapper(t){let n;return t===!0?(n=Pt.make("ul",[mn.CSS.wrapper,mn.CSS.checklist]),n.addEventListener("click",r=>{const i=r.target;if(i){const a=i.closest(`.${mn.CSS.checkboxContainer}`);a&&a.contains(i)&&this.toggleCheckbox(a)}})):n=Pt.make("ul",[mn.CSS.checklist,mn.CSS.itemChildren]),n}renderItem(t,n){const r=Pt.make("li",[mn.CSS.item,mn.CSS.item]),i=Pt.make("div",mn.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()}),a=Pt.make("span",mn.CSS.checkbox),c=Pt.make("div",mn.CSS.checkboxContainer);return n.checked===!0&&c.classList.add(mn.CSS.itemChecked),a.innerHTML=GD,c.appendChild(a),r.appendChild(c),r.appendChild(i),r}getItemContent(t){const n=t.querySelector(`.${mn.CSS.itemContent}`);return!n||Pt.isEmpty(n)?"":n.innerHTML}getItemMeta(t){const n=t.querySelector(`.${mn.CSS.checkboxContainer}`);return{checked:n?n.classList.contains(mn.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(t){t.classList.toggle(mn.CSS.itemChecked),t.classList.add(mn.CSS.noHover),t.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(t),{once:!0})}removeSpecialHoverBehavior(t){t.classList.remove(mn.CSS.noHover)}}function Qx(e,t="after"){const n=[];let r;function i(a){switch(t){case"after":return a.nextElementSibling;case"before":return a.previousElementSibling}}for(r=i(e);r!==null;)n.push(r),r=i(r);return n.length!==0?n:null}function Vo(e,t=!0){let n=e;return e.classList.contains(zn.item)&&(n=e.querySelector(`.${zn.itemChildren}`)),n===null?[]:t?Array.from(n.querySelectorAll(`:scope > .${zn.item}`)):Array.from(n.querySelectorAll(`.${zn.item}`))}function RL(e){return e.nextElementSibling===null}function OL(e){return e.querySelector(`.${zn.itemChildren}`)!==null}function Ai(e){return e.querySelector(`.${zn.itemChildren}`)}function Jx(e){let t=e;e.classList.contains(zn.item)&&(t=Ai(e)),t!==null&&Vo(t).length===0&&t.remove()}function Zd(e){return e.querySelector(`.${zn.itemContent}`)}function xa(e,t=!0){const n=Zd(e);n&&Ec.focus(n,t)}class eg{get currentItem(){const t=window.getSelection();if(!t)return null;let n=t.anchorNode;return!n||(us(n)||(n=n.parentNode),!n)||!us(n)?null:n.closest(`.${zn.item}`)}get currentItemLevel(){const t=this.currentItem;if(t===null)return null;let n=t.parentNode,r=0;for(;n!==null&&n!==this.listWrapper;)us(n)&&n.classList.contains(zn.item)&&(r+=1),n=n.parentNode;return r+1}constructor({data:t,config:n,api:r,readOnly:i,block:a},c){this.config=n,this.data=t,this.readOnly=i,this.api=r,this.block=a,this.renderer=c}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",t=>{switch(t.key){case"Enter":t.shiftKey||this.enterPressed(t);break;case"Backspace":this.backspace(t);break;case"Tab":t.shiftKey?this.shiftTab(t):this.addTab(t);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(t){const n=t??this.listWrapper,r=c=>Vo(c).map(u=>{const f=Ai(u),h=this.renderer.getItemContent(u),p=this.renderer.getItemMeta(u),g=f?r(f):[];return{content:h,meta:p,items:g}}),i=n?r(n):[];let a={style:this.data.style,meta:{},items:i};return this.data.style==="ordered"&&(a.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),a}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(t){const n=this.block.holder.querySelectorAll(`.${zn.item}`),r=n[n.length-1],i=Zd(r);if(r===null||i===null||(i.insertAdjacentHTML("beforeend",t.items[0].content),this.listWrapper===void 0))return;const a=Vo(this.listWrapper);if(a.length===0)return;const c=a[a.length-1];let u=Ai(c);const f=t.items.shift();f!==void 0&&(f.items.length!==0&&(u===null&&(u=this.renderer.renderWrapper(!1)),this.appendItems(f.items,u)),t.items.length>0&&this.appendItems(t.items,this.listWrapper))}onPaste(t){const n=t.detail.data;this.data=this.pasteHandler(n);const r=this.listWrapper;r&&r.parentNode&&r.parentNode.replaceChild(this.render(),r)}pasteHandler(t){const{tagName:n}=t;let r="unordered",i;switch(n){case"OL":r="ordered",i="ol";break;case"UL":case"LI":r="unordered",i="ul"}const a={style:r,meta:{},items:[]};r==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);const c=u=>Array.from(u.querySelectorAll(":scope > li")).map(f=>{const h=f.querySelector(`:scope > ${i}`),p=h?c(h):[];return{content:f.innerHTML??"",meta:{},items:p}});return a.items=c(t),a}changeStartWith(t){this.listWrapper.style.setProperty("counter-reset",`item ${t-1}`),this.data.meta.start=t}changeCounters(t){this.listWrapper.style.setProperty("--list-counter-type",t),this.data.meta.counterType=t}enterPressed(t){var n;const r=this.currentItem;if(t.stopPropagation(),t.preventDefault(),t.isComposing||r===null)return;const i=((n=this.renderer)==null?void 0:n.getItemContent(r).trim().length)===0,a=r.parentNode===this.listWrapper,c=r.previousElementSibling===null,u=this.api.blocks.getCurrentBlockIndex();if(a&&i)if(RL(r)&&!OL(r)){c?this.convertItemToDefaultBlock(u,!0):this.convertItemToDefaultBlock();return}else{this.splitList(r);return}else if(i){this.unshiftItem(r);return}else this.splitItem(r)}backspace(t){var n;const r=this.currentItem;if(r!==null&&Ec.isCaretAtStartOfInput(r)&&((n=window.getSelection())==null?void 0:n.isCollapsed)!==!1){if(t.stopPropagation(),r.parentNode===this.listWrapper&&r.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}t.preventDefault(),this.mergeItemWithPrevious(r)}}shiftTab(t){t.stopPropagation(),t.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(t){if(!t.parentNode||!us(t.parentNode))return;const n=t.parentNode.closest(`.${zn.item}`);if(!n)return;let r=Ai(t);if(t.parentElement===null)return;const i=Qx(t);i!==null&&(r===null&&(r=this.renderer.renderWrapper(!1)),i.forEach(a=>{r.appendChild(a)}),t.appendChild(r)),n.after(t),xa(t,!1),Jx(n)}splitList(t){const n=Vo(t),r=this.block,i=this.api.blocks.getCurrentBlockIndex();if(n.length!==0){const f=n[0];this.unshiftItem(f),xa(t,!1)}if(t.previousElementSibling===null&&t.parentNode===this.listWrapper){this.convertItemToDefaultBlock(i);return}const a=Qx(t);if(a===null)return;const c=this.renderer.renderWrapper(!0);a.forEach(f=>{c.appendChild(f)});const u=this.save(c);u.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(r==null?void 0:r.name,u,this.config,i+1),this.convertItemToDefaultBlock(i+1),c.remove()}splitItem(t){const[n,r]=Ec.getCaretNodeAndOffset();if(n===null)return;const i=Zd(t);let a;i===null?a="":a=Ec.getContenteditableSlice(i,n,r,"right",!0);const c=Ai(t),u=this.renderItem(a);t==null||t.after(u),c&&u.appendChild(c),xa(u)}mergeItemWithPrevious(t){const n=t.previousElementSibling,r=t.parentNode;if(r===null||!us(r))return;const i=r.closest(`.${zn.item}`);if(!n&&!i||n&&!us(n))return;let a;if(n){const g=Vo(n,!1);g.length!==0&&g.length!==0?a=g[g.length-1]:a=n}else a=i;const c=this.renderer.getItemContent(t);if(!a)return;xa(a,!1);const u=Zd(a);if(u===null)return;u.insertAdjacentHTML("beforeend",c);const f=Vo(t);if(f.length===0){t.remove(),Jx(a);return}const h=n||i,p=Ai(h)??this.renderer.renderWrapper(!1);n?f.forEach(g=>{p.appendChild(g)}):f.forEach(g=>{p.prepend(g)}),Ai(h)===null&&a.appendChild(p),t.remove()}addTab(t){var n;t.stopPropagation(),t.preventDefault();const r=this.currentItem;if(!r)return;if(((n=this.config)==null?void 0:n.maxLevel)!==void 0){const c=this.currentItemLevel;if(c!==null&&c===this.config.maxLevel)return}const i=r.previousSibling;if(i===null||!us(i))return;const a=Ai(i);if(a)a.appendChild(r),Vo(r).forEach(c=>{a.appendChild(c)});else{const c=this.renderer.renderWrapper(!1);c.appendChild(r),Vo(r).forEach(u=>{c.appendChild(u)}),i.appendChild(c)}Jx(r),xa(r,!1)}convertItemToDefaultBlock(t,n){let r;const i=this.currentItem,a=i!==null?this.renderer.getItemContent(i):"";n===!0&&this.api.blocks.delete(),t!==void 0?r=this.api.blocks.insert(void 0,{text:a},void 0,t):r=this.api.blocks.insert(),i==null||i.remove(),this.api.caret.setToBlock(r,"start")}convertFirstItemToDefaultBlock(){const t=this.currentItem;if(t===null)return;const n=Vo(t);if(n.length!==0){const c=n[0];this.unshiftItem(c),xa(t)}const r=Qx(t),i=this.api.blocks.getCurrentBlockIndex(),a=r===null;this.convertItemToDefaultBlock(i,a)}renderItem(t,n){const r=n??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof uo:return this.renderer.renderItem(t,r);case this.renderer instanceof fo:return this.renderer.renderItem(t,r);default:return this.renderer.renderItem(t,r)}}appendItems(t,n){t.forEach(r=>{var i;const a=this.renderItem(r.content,r.meta);if(n.appendChild(a),r.items.length){const c=(i=this.renderer)==null?void 0:i.renderWrapper(!1);this.appendItems(r.items,c),a.appendChild(c)}})}}const ga={wrapper:`${nr}-start-with-field`,input:`${nr}-start-with-field__input`,startWithElementWrapperInvalid:`${nr}-start-with-field--invalid`};function BL(e,{value:t,placeholder:n,attributes:r,sanitize:i}){const a=Pt.make("div",ga.wrapper),c=Pt.make("input",ga.input,{placeholder:n,tabIndex:-1,value:t});for(const u in r)c.setAttribute(u,r[u]);return a.appendChild(c),c.addEventListener("input",()=>{i!==void 0&&(c.value=i(c.value));const u=c.checkValidity();!u&&!a.classList.contains(ga.startWithElementWrapperInvalid)&&a.classList.add(ga.startWithElementWrapperInvalid),u&&a.classList.contains(ga.startWithElementWrapperInvalid)&&a.classList.remove(ga.startWithElementWrapperInvalid),u&&e(c.value)}),a}const rc=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),nE=new Map([["numeric",qD],["lower-roman",XD],["upper-roman",KD],["lower-alpha",WD],["upper-alpha",ZD]]);function jL(e){return e.replace(/\D+/g,"")}function DL(e){return typeof e.items[0]=="string"}function LL(e){return!("meta"in e)}function IL(e){return typeof e.items[0]!="string"&&"text"in e.items[0]&&"checked"in e.items[0]&&typeof e.items[0].text=="string"&&typeof e.items[0].checked=="boolean"}function $L(e){const t=[];return DL(e)?(e.items.forEach(n=>{t.push({content:n,meta:{},items:[]})}),{style:e.style,meta:{},items:t}):IL(e)?(e.items.forEach(n=>{t.push({content:n.text,meta:{checked:n.checked},items:[]})}),{style:"checklist",meta:{},items:t}):LL(e)?{style:e.style,meta:{},items:e.items}:structuredClone(e)}class wf{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:QS,title:"Unordered List",data:{style:"unordered"}},{icon:JS,title:"Ordered List",data:{style:"ordered"}},{icon:WS,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:t=>wf.joinRecursive(t),import:(t,n)=>({meta:{},items:[{content:t,meta:{},items:[]}],style:(n==null?void 0:n.defaultStyle)!==void 0?n.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(t){var n;this.data.style=t,this.changeTabulatorByStyle();const r=this.list.render();(n=this.listElement)==null||n.replaceWith(r),this.listElement=r}constructor({data:t,config:n,api:r,readOnly:i,block:a}){var c;this.api=r,this.readOnly=i,this.config=n,this.block=a,this.defaultListStyle=((c=this.config)==null?void 0:c.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(rc.values());const u={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(t).length?$L(t):u,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(t){return t.items.map(n=>`${n.content} ${wf.joinRecursive(n)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(t){this.list.merge(t)}renderSettings(){const t=[{label:this.api.i18n.t("Unordered"),icon:QS,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:JS,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:WS,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){const n=BL(a=>this.changeStartWith(Number(a)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:a=>jL(a)}),r=[{label:this.api.i18n.t("Start with"),icon:QD,children:{items:[{element:n,type:"html"}]}}],i={label:this.api.i18n.t("Counter type"),icon:nE.get(this.data.meta.counterType),children:{items:[]}};rc.forEach((a,c)=>{const u=rc.get(c);this.defaultCounterTypes.includes(u)&&i.children.items.push({title:this.api.i18n.t(c),icon:nE.get(u),isActive:this.data.meta.counterType===rc.get(c),closeOnActivate:!0,onActivate:()=>{this.changeCounters(rc.get(c))}})}),i.children.items.length>1&&r.push(i),t.push({type:"separator"},...r)}return t}onPaste(t){const{tagName:n}=t.detail.data;switch(n){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(t)}pasteHandler(t){return this.list.pasteHandler(t)}changeCounters(t){var n;(n=this.list)==null||n.changeCounters(t),this.data.meta.counterType=t}changeStartWith(t){var n;(n=this.list)==null||n.changeStartWith(t),this.data.meta.start=t}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new eg({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new uo(this.readOnly,this.config));break;case"unordered":this.list=new eg({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new fo(this.readOnly,this.config));break;case"checklist":this.list=new eg({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new mn(this.readOnly,this.config));break}}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const PL='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function zL(e){const t=document.createElement("div");t.innerHTML=e.trim();const n=document.createDocumentFragment();return n.append(...Array.from(t.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class Ny{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:t,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:Ny.DEFAULT_PLACEHOLDER,this._data=t??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(t){if(t.code!=="Backspace"&&t.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable="false",t.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(t.innerHTML=this._data.text),this.readOnly||(t.contentEditable="true",t.addEventListener("keyup",this.onKeyUp)),t}render(){return this._element=this.drawView(),this._element}merge(t){if(!this._element)return;this._data.text+=t.text;const n=zL(t.text);this._element.appendChild(n),this._element.normalize()}validate(t){return!(t.text.trim()===""&&!this._preserveBlank)}save(t){return{text:t.innerHTML}}onPaste(t){const n={text:t.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:PL,title:"Text"}}}(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const HL='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class Oa{static get CSS(){return"cdx-marker"}constructor({api:t}){this.api=t,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(t){if(!t)return;let n=this.api.selection.findParentTag(this.tag,Oa.CSS);n?this.unwrap(n):this.wrap(t)}wrap(t){let n=document.createElement(this.tag);n.classList.add(Oa.CSS),n.appendChild(t.extractContents()),t.insertNode(n),this.api.selection.expandToTag(n)}unwrap(t){this.api.selection.expandToTag(t);let n=window.getSelection(),r=n.getRangeAt(0),i=r.extractContents();t.parentNode.removeChild(t),r.insertNode(i),n.removeAllRanges(),n.addRange(r)}checkState(){const t=this.api.selection.findParentTag(this.tag,Oa.CSS);this.button.classList.toggle(this.iconClasses.active,!!t)}get toolboxIcon(){return HL}static get sanitize(){return{mark:{class:Oa.CSS}}}}const UL=E.forwardRef(({initialData:e,onChange:t,onSelect:n},r)=>{const i=E.useRef(null),a=E.useRef(null),[c,u]=E.useState({text:"",range:null}),[f,h]=E.useState(!1),p=["这是一个转折点，主角开始意识到自己的使命。","黎明前的黑暗总是最深重的，此刻主角面临着前所未有的挑战。","一个不经意的相遇，却彻底改变了两个人的命运轨迹。","回忆如潮水般涌来，过往的点滴在心头激荡。","环顾四周，这里的一切都变得陌生而遥远。"],[g,y]=E.useState([]),[b,w]=E.useState(!0);E.useEffect(()=>{if(!a.current)return;const A=new ID({holder:a.current,tools:{header:{class:YD,inlineToolbar:!0,config:{levels:[1,2,3,4],defaultLevel:3}},list:{class:wf,inlineToolbar:!0},paragraph:{class:Ny,inlineToolbar:!0},marker:{class:Oa,shortcut:"CMD+SHIFT+M"}},data:e||{blocks:[{type:"paragraph",data:{text:""}}]},placeholder:"开始输入内容...",onChange:async()=>{if(t&&i.current){const N=await i.current.save();t(N)}}});return i.current=A,()=>{i.current&&i.current.destroy&&i.current.destroy()}},[]),E.useEffect(()=>{const A=()=>{const N=window.getSelection();if(N&&N.toString()){const P=N.toString();u({text:P,range:N.getRangeAt(0)}),n&&n(P,N.getRangeAt(0))}else u({text:"",range:null})};return document.addEventListener("selectionchange",A),()=>{document.removeEventListener("selectionchange",A)}},[n]);const S=async A=>{if(i.current)try{const N=await i.current.save().then(P=>P.blocks.length-1);await i.current.blocks.insert("paragraph",{text:A},void 0,N+1,!0)}catch(N){console.error("插入模板失败:",N)}},k=async()=>{if(i.current)try{const A=await i.current.save().then(P=>P.blocks.length-1);await i.current.blocks.delete(A),(await i.current.save()).blocks.length===0&&await i.current.blocks.insert("paragraph",{text:""})}catch(A){console.error("删除段落失败:",A)}},C=()=>{if(!c.range||!c.text)return;const A=c.range,P=`<mark>${c.text}</mark>`;A.deleteContents();const $=document.createElement("span");$.innerHTML=P,A.insertNode($)},R=async()=>{if(i.current)try{const N=(await i.current.save()).blocks.map(P=>P.type==="paragraph"?{type:"paragraph",data:{text:P.data.text.replace(/<\/?[^>]+(>|$)/g,"")}}:P);await i.current.render({blocks:N})}catch(A){console.error("清除格式失败:",A)}},O=async()=>{if(!(!c.text||!i.current))try{const A=await i.current.save().then(P=>P.blocks.length-1),N={id:Date.now().toString(),text:c.text,blockIndex:A};if(y([...g,N]),c.range){const P=c.range,I=`<span class="bg-yellow-100 border-b border-yellow-400 cursor-help" title="已添加批注">${c.text}</span>`;P.deleteContents();const _=document.createElement("span");_.innerHTML=I,P.insertNode(_)}}catch(A){console.error("添加批注失败:",A)}},M=A=>{y(g.filter(N=>N.id!==A))};return E.useImperativeHandle(r,()=>({insertText:async A=>{if(i.current)try{const N=await i.current.save().then(P=>P.blocks.length-1);await i.current.blocks.insert("paragraph",{text:A},void 0,N+1,!0)}catch(N){console.error("插入文本失败:",N)}}})),v.jsxs("div",{className:"flex flex-col h-full border border-gray-200 rounded-md overflow-hidden",children:[v.jsxs("div",{className:"p-2 bg-gray-50 border-b border-gray-200 flex items-center space-x-1",children:[v.jsxs("div",{className:"relative",children:[v.jsxs("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600 flex items-center text-sm",onClick:()=>h(!f),title:"插入模板句式",children:[v.jsx(we,{icon:"mdi:text-box-plus-outline",className:"mr-1"}),v.jsx("span",{children:"插入模板"})]}),f&&v.jsxs("div",{className:"absolute left-0 top-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 w-80",children:[v.jsxs("div",{className:"p-2 border-b border-gray-100 flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-medium",children:"选择模板句式"}),v.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>h(!1),children:v.jsx(we,{icon:"mdi:close",className:"w-4 h-4"})})]}),v.jsx("div",{className:"max-h-60 overflow-y-auto",children:p.map((A,N)=>v.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0",onClick:()=>{S(A),h(!1)},children:v.jsx("div",{className:"text-sm",children:A})},N))})]})]}),v.jsxs("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600 flex items-center text-sm",onClick:k,title:"删除当前段落",children:[v.jsx(we,{icon:"mdi:text-box-remove-outline",className:"mr-1"}),v.jsx("span",{children:"删除段落"})]}),v.jsxs("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600 flex items-center text-sm",onClick:C,title:"高亮选中内容",disabled:!c.text,children:[v.jsx(we,{icon:"mdi:marker",className:"mr-1"}),v.jsx("span",{children:"高亮选中"})]}),v.jsxs("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600 flex items-center text-sm",onClick:O,title:"添加批注",disabled:!c.text,children:[v.jsx(we,{icon:"mdi:comment-text-outline",className:"mr-1"}),v.jsx("span",{children:"添加批注"})]}),v.jsxs("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600 flex items-center text-sm",onClick:R,title:"清除所有格式",children:[v.jsx(we,{icon:"mdi:format-clear",className:"mr-1"}),v.jsx("span",{children:"清除格式"})]}),v.jsxs("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-600 flex items-center text-sm",onClick:()=>w(!b),title:b?"隐藏批注":"显示批注",children:[v.jsx(we,{icon:b?"mdi:eye-outline":"mdi:eye-off-outline",className:"mr-1"}),v.jsx("span",{children:b?"隐藏批注":"显示批注"})]}),v.jsx("div",{className:"flex-1"}),c.text&&v.jsxs("div",{className:"text-xs text-gray-500",children:["已选中 ",c.text.length," 个字符"]})]}),v.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[v.jsx("div",{ref:a,className:"flex-1 overflow-y-auto p-4",style:{minHeight:"300px"}}),b&&g.length>0&&v.jsxs("div",{className:"w-64 border-l border-gray-200 overflow-y-auto p-2 bg-gray-50",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("h3",{className:"text-sm font-medium",children:["批注 (",g.length,")"]}),v.jsx("button",{className:"text-xs text-gray-500 hover:text-red-500",onClick:()=>y([]),title:"清除所有批注",children:"清除全部"})]}),v.jsx("div",{className:"space-y-2",children:g.map(A=>v.jsxs("div",{className:"p-2 bg-white border border-gray-200 rounded text-xs",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1",children:[v.jsxs("div",{className:"font-medium",children:["批注 #",A.id.slice(-4)]}),v.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>M(A.id),children:v.jsx(we,{icon:"mdi:close",className:"w-3 h-3"})})]}),v.jsx("div",{className:"text-gray-700",children:A.text})]},A.id))})]})]})]})});function FL(){const{characterName:e,setCharacterName:t,generateSceneSummaries:n,setSelectedDraftText:r}=Um(),[i,a]=E.useState({blocks:[{type:"paragraph",data:{text:""}}]}),[c,u]=E.useState(!1),[f,h]=E.useState(""),p=E.useRef(null);E.useEffect(()=>{const w=S=>{S.detail&&S.detail.text&&p.current&&p.current.insertText(S.detail.text).then(()=>{h(""),r("")}).catch(k=>{console.error("插入优化文本失败:",k),alert(`无法自动插入优化文本: ${S.detail.text}

请手动复制并粘贴到编辑器中。`)})};return window.addEventListener("optimizedTextReady",w),()=>{window.removeEventListener("optimizedTextReady",w)}},[]);const g=w=>{a(w)},y=(w,S)=>{if(w){h(w),r(w);const k=new CustomEvent("draftTextSelected",{detail:{text:w}});window.dispatchEvent(k)}else h(""),r("")},b=async()=>{if(!i||!i.blocks||i.blocks.length===0){alert("请先输入初稿内容");return}const w=i.blocks.map(S=>S.type==="paragraph"?S.data.text.replace(/<\/?[^>]+(>|$)/g,""):"").join(`

`);if(w.length>5e4){alert("初稿内容不能超过5万字");return}u(!0),setTimeout(()=>{n(w,e),u(!1)},2e3)};return v.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col h-full p-3 bg-white",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("div",{className:"font-bold text-lg",children:"初稿编辑"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"text",value:e,onChange:w=>t(w.target.value),placeholder:"主角",className:"border border-gray-300 rounded px-3 py-1 text-sm w-24"}),v.jsx("button",{onClick:b,disabled:c,className:"bg-black text-white px-5 py-1 rounded text-sm flex items-center disabled:bg-gray-400",children:c?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"处理中..."]}):"生成分幕剧情"})]})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx(UL,{ref:p,initialData:i,onChange:g,onSelect:y})}),f&&v.jsxs("div",{className:"mt-3 p-2 border border-gray-300 rounded bg-gray-50",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("div",{className:"font-medium text-sm",children:"已选中文本"}),v.jsx("button",{onClick:()=>{h(""),r("")},className:"text-gray-500 hover:text-gray-700",children:v.jsx(we,{icon:"ri:close-line"})})]}),v.jsx("div",{className:"text-xs text-gray-600 mb-1 line-clamp-2",children:f.length>100?f.substring(0,100)+"...":f})]})]})}function VL(){return v.jsxs("div",{className:"flex h-screen bg-white",children:[v.jsx(Yi,{}),v.jsx(K5,{}),v.jsx(FL,{})]})}function YL({selectedModel:e,setSelectedModel:t,userInput:n,setUserInput:r,handleKeyDown:i,aiSuggestions:a=[],inputPlaceholder:c="这段内容不好？点击单元格，告诉我如何优化",selectedText:u=""}){E.useEffect(()=>{a.length>0&&console.log("收到AI建议:",a),c&&console.log("使用输入框占位符:",c)},[a,c]);const[f,h]=E.useState(!1),[p,g]=E.useState([]),[y,b]=E.useState(!1),[w,S]=E.useState("chat"),[k,C]=E.useState(""),[R,O]=E.useState(!1),[M,A]=E.useState(null),[N,P]=E.useState(!1),[$,I]=E.useState(""),_=E.useRef(null),F=E.useRef(null),ee=["deepseekr1"],K=[{id:"character_analysis",title:"角色分析",text:"请分析以下角色的动机、性格特点和发展弧线：{selection}",type:"template_selection"},{id:"plot_optimization",title:"情节优化",text:"请帮我优化以下情节，使其更加紧凑、有张力：{selection}",type:"template_selection"},{id:"dialogue_improvement",title:"对话改进",text:"请帮我改进以下对话，使其更加自然、生动，并且更好地体现角色性格：{selection}",type:"template_selection"},{id:"brainstorm",title:"头脑风暴",text:'围绕"{userInput}"这个主题，请帮我进行头脑风暴，提供三个不同方向的创意点。',type:"template_userInput"},{id:"plot_twist",title:"情节转折",text:"请为我的故事提供一个意外的情节转折，要求合理且令人惊讶。当前故事背景：{userInput}",type:"template_userInput"}];E.useEffect(()=>{const ue=localStorage.getItem("deepSeekApiKey");ue&&C(ue),g([{id:"system-1",content:"我是 DeepSeek AI 助手，专注于帮助您优化剧本创作。请告诉我您需要什么帮助。",role:"system",timestamp:Date.now(),isUser:!1}])},[]),E.useEffect(()=>{_.current&&_.current.scrollIntoView({behavior:"smooth"})},[p,y]);const L=()=>y?"DeepSeek AI 正在思考...":w==="chat"?"输入内容开始对话，按回车发送...":"请描述如何优化剧情，按回车发送...",Y=ue=>{C(ue),localStorage.setItem("deepSeekApiKey",ue),O(!1)},j=async ue=>{try{const be=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({model:"deepseek-chat",messages:ue,temperature:.7,max_tokens:2e3})});if(!be.ok)throw new Error(`API请求失败: ${be.status}`);return(await be.json()).choices[0].message.content}catch(be){throw console.error("DeepSeek API调用失败:",be),be}},G=async(ue,be)=>{if(console.log("处理用户消息:",ue.id,ue.content),!k){O(!0);return}b(!0);try{const Ce=be.map(Ke=>({role:Ke.role==="user"?"user":"assistant",content:Ke.content}));w==="optimize"?Ce.unshift({role:"system",content:"你是一个专业的剧本顾问，专注于帮助用户优化剧情。请提供具体、创意性的建议，使剧情更加引人入胜。"}):Ce.unshift({role:"system",content:"你是一个专业的剧本创作助手，可以帮助用户解答关于剧本创作的各种问题。"});const Ue=await j(Ce),Te={id:`ai-${Date.now()}`,content:Ue,role:"assistant",timestamp:Date.now(),isUser:!1};g([...be,Te])}catch{const Ue={id:`error-${Date.now()}`,content:"抱歉，生成回复时发生错误，请稍后重试。",role:"assistant",timestamp:Date.now(),isUser:!1};g([...be,Ue])}finally{b(!1)}},Q=()=>{if(!n.trim()||y)return;const ue={id:`user-${Date.now()}`,content:n,role:"user",timestamp:Date.now(),isUser:!0},be=[...p,ue];g(be),r(""),G(ue,be)},V=ue=>{ue.key==="Enter"&&!ue.shiftKey&&(ue.preventDefault(),Q()),i&&i(ue)},B=ue=>{let be=ue.text;ue.type==="template_selection"&&u?be=be.replace("{selection}",u):ue.type==="template_userInput"&&(be=be.replace("{userInput}",n||"")),r(be),P(!1),F.current&&F.current.focus()},H=ue=>{A({id:ue.id,content:ue.content}),I(ue.content)},W=()=>{if(!M)return;const ue=p.findIndex(Ue=>Ue.id===M.id);if(ue===-1)return;const be={...p[ue],content:$,timestamp:Date.now()},Ce=p.slice(0,ue+1);Ce[ue]=be,g(Ce),be.role==="user"&&G(be,Ce),A(null),I("")},re=()=>{A(null),I("")},ae=ue=>{const be=p.findIndex(Te=>Te.id===ue);if(be===-1)return;const Ce=p[be].role==="user"&&be<p.length-1?2:1,Ue=[...p.slice(0,be),...p.slice(be+Ce)];g(Ue)},ye=ue=>{const be=p.findIndex(Te=>Te.id===ue);if(be===-1||p[be].role!=="assistant")return;let Ce=be-1;for(;Ce>=0&&p[Ce].role!=="user";)Ce--;if(Ce<0)return;const Ue=p.slice(0,be);g(Ue),G(p[Ce],Ue)},me=()=>{window.confirm("确定要清空所有对话历史吗？此操作不可撤销。")&&(g([{id:"system-1",content:"我是 DeepSeek AI 助手，专注于帮助您优化剧本创作。请告诉我您需要什么帮助。",role:"system",timestamp:Date.now(),isUser:!1}]),r(""),S("chat"),A(null),I(""))},Ne=ue=>{const be=ue.target;be.style.height="auto",be.style.height=`${be.scrollHeight}px`,r(be.value)};return v.jsxs("div",{className:"flex flex-col h-full bg-white border-t border-gray-200",children:[v.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"flex items-center px-3 py-2 bg-gray-100 rounded-md cursor-pointer",onClick:()=>h(!f),children:[v.jsx(we,{icon:"mdi:robot-outline",className:"text-gray-700 mr-2"}),v.jsx("span",{className:"text-black font-medium",children:e}),v.jsx(we,{icon:"mdi:chevron-down",className:"ml-2 text-gray-500"})]}),f&&v.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded shadow-lg z-10 w-full",children:ee.map(ue=>v.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-gray-100 ${e===ue?"bg-gray-100":""}`,onClick:()=>{t(ue),h(!1)},children:ue},ue))})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{className:`px-3 py-1 text-xs rounded-full ${w==="chat"?"bg-black text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>S("chat"),children:"对话模式"}),v.jsx("button",{className:`px-3 py-1 text-xs rounded-full ${w==="optimize"?"bg-black text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>S("optimize"),children:"优化模式"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("button",{className:"text-xs text-gray-600 hover:text-gray-900 flex items-center",onClick:()=>O(!R),children:[v.jsx(we,{icon:"mdi:key-outline",className:"mr-1"}),k?"API Key 已设置":"设置 API Key"]}),v.jsxs("button",{className:"text-xs text-gray-600 hover:text-red-500 flex items-center",onClick:me,children:[v.jsx(we,{icon:"mdi:delete-outline",className:"mr-1"}),"清空历史"]})]})]}),R&&v.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"password",placeholder:"请输入 DeepSeek API Key",className:"flex-1 border border-gray-300 rounded-l-md px-3 py-2 text-sm",value:k,onChange:ue=>C(ue.target.value)}),v.jsx("button",{className:"bg-black text-white px-4 py-2 rounded-r-md text-sm",onClick:()=>Y(k),children:"保存"})]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"注意：API Key 将保存在浏览器本地存储中，仅用于演示目的。"})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[p.map(ue=>v.jsx("div",{className:`flex ${ue.role==="user"?"justify-end":"justify-start"}`,children:M&&M.id===ue.id?v.jsxs("div",{className:"w-full max-w-[80%] bg-white border border-gray-300 rounded-lg overflow-hidden",children:[v.jsx("textarea",{className:"w-full p-3 focus:outline-none resize-none",value:$,onChange:be=>I(be.target.value),rows:3,autoFocus:!0}),v.jsxs("div",{className:"flex justify-end p-2 bg-gray-50 border-t border-gray-200",children:[v.jsx("button",{className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800 mr-2",onClick:re,children:"取消"}),v.jsx("button",{className:"px-3 py-1 text-xs bg-black text-white rounded-md",onClick:W,children:"保存"})]})]}):v.jsxs("div",{className:`${ue.role==="user"?"bg-black text-white":ue.role==="system"?"bg-gray-100 border border-gray-200":"bg-white border border-gray-200"} rounded-lg px-4 py-3 relative max-w-[80%] group`,children:[v.jsx("div",{className:ue.role==="user"?"text-right":"",children:ue.content}),ue.role==="user"&&v.jsx("div",{className:"absolute w-3 h-3 bg-black transform rotate-45 right-[-6px] top-1/2 -translate-y-1/2"}),v.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:ue.role!=="system"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"p-1 bg-gray-100 rounded-md hover:bg-gray-200 text-gray-600",onClick:()=>H(ue),title:"编辑消息",children:v.jsx(we,{icon:"mdi:pencil",className:"w-3 h-3"})}),ue.role==="assistant"&&v.jsx("button",{className:"p-1 bg-gray-100 rounded-md hover:bg-gray-200 text-gray-600",onClick:()=>ye(ue.id),disabled:y,title:"重新生成",children:v.jsx(we,{icon:"mdi:refresh",className:"w-3 h-3"})}),v.jsx("button",{className:"p-1 bg-gray-100 rounded-md hover:bg-gray-200 text-gray-600",onClick:()=>ae(ue.id),title:"删除消息",children:v.jsx(we,{icon:"mdi:delete",className:"w-3 h-3"})})]})})]})},ue.id)),y&&v.jsx("div",{className:"flex justify-start",children:v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3 max-w-[80%] flex items-center",children:[v.jsxs("div",{className:"animate-pulse flex space-x-2",children:[v.jsx("div",{className:"h-2 w-2 bg-gray-400 rounded-full"}),v.jsx("div",{className:"h-2 w-2 bg-gray-400 rounded-full"}),v.jsx("div",{className:"h-2 w-2 bg-gray-400 rounded-full"})]}),v.jsx("span",{className:"ml-3 text-sm text-gray-500",children:"DeepSeek AI 正在思考..."})]})}),v.jsx("div",{ref:_})]}),v.jsxs("div",{className:"px-6 py-4 border-t border-gray-200",children:[v.jsx("div",{className:"flex justify-end mb-2",children:v.jsxs("button",{className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",onClick:()=>P(!N),children:[v.jsx(we,{icon:"mdi:lightning-bolt",className:"w-4 h-4"}),v.jsx("span",{children:"预设 Prompt"})]})}),N&&v.jsxs("div",{className:"mb-3 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500 border-b border-gray-100 flex justify-between items-center",children:[v.jsx("span",{children:"选择预设 Prompt"}),v.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>P(!1),children:v.jsx(we,{icon:"mdi:close",className:"w-4 h-4"})})]}),v.jsx("div",{className:"divide-y divide-gray-50",children:K.map(ue=>v.jsx("div",{className:"px-3 py-2.5 hover:bg-gray-50 cursor-pointer text-gray-700 transition-colors",onClick:()=>B(ue),children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(we,{icon:"mdi:lightning-bolt",className:"mr-2 text-gray-400 flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-sm",children:ue.title}),v.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:ue.text})]})]})},ue.id))})]}),v.jsxs("div",{className:"relative",children:[v.jsx("textarea",{ref:F,placeholder:L(),className:"w-full border border-gray-300 rounded-lg p-3 pr-10 text-gray-700 focus:border-black focus:ring-0 transition-colors resize-none min-h-[60px] max-h-[200px]",value:n,onChange:Ne,onKeyDown:V,disabled:y,rows:1}),v.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${n.trim()&&!y?"text-black":"text-gray-400"}`,onClick:Q,disabled:!n.trim()||y,children:v.jsx(we,{icon:y?"mdi:loading":"mdi:send",className:y?"animate-spin":""})})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function GL(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Li(e,t){return typeof e=="function"?e(t):e}function wr(e,t){return n=>{t.setState(r=>({...r,[e]:Li(n,r[e])}))}}function ih(e){return e instanceof Function}function qL(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function XL(e,t){const n=[],r=i=>{i.forEach(a=>{n.push(a);const c=t(a);c!=null&&c.length&&r(c)})};return r(e),n}function We(e,t,n){let r=[],i;return a=>{let c;n.key&&n.debug&&(c=Date.now());const u=e(a);if(!(u.length!==r.length||u.some((p,g)=>r[g]!==p)))return i;r=u;let h;if(n.key&&n.debug&&(h=Date.now()),i=t(...u),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-c)*100)/100,g=Math.round((Date.now()-h)*100)/100,y=g/16,b=(w,S)=>{for(w=String(w);w.length<S;)w=" "+w;return w};console.info(`%c⏱ ${b(g,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Qe(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function KL(e,t,n,r){const i=()=>{var c;return(c=a.getValue())!=null?c:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:We(()=>[e,n,t,a],(c,u,f,h)=>({table:c,column:u,row:f,cell:h,getValue:h.getValue,renderValue:h.renderValue}),Qe(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(a,n,t,e)},{}),a}function ZL(e,t,n,r){var i,a;const u={...e._getDefaultColumnDef(),...t},f=u.accessorKey;let h=(i=(a=u.id)!=null?a:f?typeof String.prototype.replaceAll=="function"?f.replaceAll(".","_"):f.replace(/\./g,"_"):void 0)!=null?i:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:f&&(f.includes(".")?p=y=>{let b=y;for(const S of f.split(".")){var w;b=(w=b)==null?void 0:w[S]}return b}:p=y=>y[u.accessorKey]),!h)throw new Error;let g={id:`${String(h)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:We(()=>[!0],()=>{var y;return[g,...(y=g.columns)==null?void 0:y.flatMap(b=>b.getFlatColumns())]},Qe(e.options,"debugColumns")),getLeafColumns:We(()=>[e._getOrderColumnsFn()],y=>{var b;if((b=g.columns)!=null&&b.length){let w=g.columns.flatMap(S=>S.getLeafColumns());return y(w)}return[g]},Qe(e.options,"debugColumns"))};for(const y of e._features)y.createColumn==null||y.createColumn(g,e);return g}const $n="debugHeaders";function rE(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],u=f=>{f.subHeaders&&f.subHeaders.length&&f.subHeaders.map(u),c.push(f)};return u(a),c},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(a,e)}),a}const WL={createTable:e=>{e.getHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var a,c;const u=(a=r==null?void 0:r.map(g=>n.find(y=>y.id===g)).filter(Boolean))!=null?a:[],f=(c=i==null?void 0:i.map(g=>n.find(y=>y.id===g)).filter(Boolean))!=null?c:[],h=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(i!=null&&i.includes(g.id)));return wd(t,[...u,...h,...f],e)},Qe(e.options,$n)),e.getCenterHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(i!=null&&i.includes(a.id))),wd(t,n,e,"center")),Qe(e.options,$n)),e.getLeftHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(c=>n.find(u=>u.id===c)).filter(Boolean))!=null?i:[];return wd(t,a,e,"left")},Qe(e.options,$n)),e.getRightHeaderGroups=We(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(c=>n.find(u=>u.id===c)).filter(Boolean))!=null?i:[];return wd(t,a,e,"right")},Qe(e.options,$n)),e.getFooterGroups=We(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Qe(e.options,$n)),e.getLeftFooterGroups=We(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Qe(e.options,$n)),e.getCenterFooterGroups=We(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Qe(e.options,$n)),e.getRightFooterGroups=We(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Qe(e.options,$n)),e.getFlatHeaders=We(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Qe(e.options,$n)),e.getLeftFlatHeaders=We(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Qe(e.options,$n)),e.getCenterFlatHeaders=We(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Qe(e.options,$n)),e.getRightFlatHeaders=We(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Qe(e.options,$n)),e.getCenterLeafHeaders=We(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Qe(e.options,$n)),e.getLeftLeafHeaders=We(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Qe(e.options,$n)),e.getRightLeafHeaders=We(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Qe(e.options,$n)),e.getLeafHeaders=We(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,a,c,u,f,h;return[...(i=(a=t[0])==null?void 0:a.headers)!=null?i:[],...(c=(u=n[0])==null?void 0:u.headers)!=null?c:[],...(f=(h=r[0])==null?void 0:h.headers)!=null?f:[]].map(p=>p.getLeafHeaders()).flat()},Qe(e.options,$n))}};function wd(e,t,n,r){var i,a;let c=0;const u=function(y,b){b===void 0&&(b=1),c=Math.max(c,b),y.filter(w=>w.getIsVisible()).forEach(w=>{var S;(S=w.columns)!=null&&S.length&&u(w.columns,b+1)},0)};u(e);let f=[];const h=(y,b)=>{const w={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},S=[];y.forEach(k=>{const C=[...S].reverse()[0],R=k.column.depth===w.depth;let O,M=!1;if(R&&k.column.parent?O=k.column.parent:(O=k.column,M=!0),C&&(C==null?void 0:C.column)===O)C.subHeaders.push(k);else{const A=rE(n,O,{id:[r,b,O.id,k==null?void 0:k.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${S.filter(N=>N.column===O).length}`:void 0,depth:b,index:S.length});A.subHeaders.push(k),S.push(A)}w.headers.push(k),k.headerGroup=w}),f.push(w),b>0&&h(S,b-1)},p=t.map((y,b)=>rE(n,y,{depth:c,index:b}));h(p,c-1),f.reverse();const g=y=>y.filter(w=>w.column.getIsVisible()).map(w=>{let S=0,k=0,C=[0];w.subHeaders&&w.subHeaders.length?(C=[],g(w.subHeaders).forEach(O=>{let{colSpan:M,rowSpan:A}=O;S+=M,C.push(A)})):S=1;const R=Math.min(...C);return k=k+R,w.colSpan=S,w.rowSpan=k,{colSpan:S,rowSpan:k}});return g((i=(a=f[0])==null?void 0:a.headers)!=null?i:[]),f}const QL=(e,t,n,r,i,a,c)=>{let u={id:t,index:r,original:n,depth:i,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:f=>{if(u._valuesCache.hasOwnProperty(f))return u._valuesCache[f];const h=e.getColumn(f);if(h!=null&&h.accessorFn)return u._valuesCache[f]=h.accessorFn(u.original,r),u._valuesCache[f]},getUniqueValues:f=>{if(u._uniqueValuesCache.hasOwnProperty(f))return u._uniqueValuesCache[f];const h=e.getColumn(f);if(h!=null&&h.accessorFn)return h.columnDef.getUniqueValues?(u._uniqueValuesCache[f]=h.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[f]):(u._uniqueValuesCache[f]=[u.getValue(f)],u._uniqueValuesCache[f])},renderValue:f=>{var h;return(h=u.getValue(f))!=null?h:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>XL(u.subRows,f=>f.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let f=[],h=u;for(;;){const p=h.getParentRow();if(!p)break;f.push(p),h=p}return f.reverse()},getAllCells:We(()=>[e.getAllLeafColumns()],f=>f.map(h=>KL(e,u,h,h.id)),Qe(e.options,"debugRows")),_getAllCellsByColumnId:We(()=>[u.getAllCells()],f=>f.reduce((h,p)=>(h[p.column.id]=p,h),{}),Qe(e.options,"debugRows"))};for(let f=0;f<e._features.length;f++){const h=e._features[f];h==null||h.createRow==null||h.createRow(u,e)}return u},JL={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},iT=(e,t,n)=>{var r,i;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(a))};iT.autoRemove=e=>Kr(e);const sT=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};sT.autoRemove=e=>Kr(e);const aT=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};aT.autoRemove=e=>Kr(e);const lT=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};lT.autoRemove=e=>Kr(e);const cT=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});cT.autoRemove=e=>Kr(e)||!(e!=null&&e.length);const uT=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});uT.autoRemove=e=>Kr(e)||!(e!=null&&e.length);const dT=(e,t,n)=>e.getValue(t)===n;dT.autoRemove=e=>Kr(e);const fT=(e,t,n)=>e.getValue(t)==n;fT.autoRemove=e=>Kr(e);const My=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};My.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,c=n===null||Number.isNaN(i)?1/0:i;if(a>c){const u=a;a=c,c=u}return[a,c]};My.autoRemove=e=>Kr(e)||Kr(e[0])&&Kr(e[1]);const Go={includesString:iT,includesStringSensitive:sT,equalsString:aT,arrIncludes:lT,arrIncludesAll:cT,arrIncludesSome:uT,equals:dT,weakEquals:fT,inNumberRange:My};function Kr(e){return e==null||e===""}const eI={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:wr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Go.includesString:typeof r=="number"?Go.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Go.equals:Array.isArray(r)?Go.arrIncludes:Go.weakEquals},e.getFilterFn=()=>{var n,r;return ih(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Go[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),a=r==null?void 0:r.find(p=>p.id===e.id),c=Li(n,a?a.value:void 0);if(oE(i,c,e)){var u;return(u=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?u:[]}const f={id:e.id,value:c};if(a){var h;return(h=r==null?void 0:r.map(p=>p.id===e.id?f:p))!=null?h:[]}return r!=null&&r.length?[...r,f]:[f]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var a;return(a=Li(t,i))==null?void 0:a.filter(c=>{const u=n.find(f=>f.id===c.id);if(u){const f=u.getFilterFn();if(oE(f,c.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function oE(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const tI=(e,t,n)=>n.reduce((r,i)=>{const a=i.getValue(e);return r+(typeof a=="number"?a:0)},0),nI=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},rI=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},oI=(e,t,n)=>{let r,i;return n.forEach(a=>{const c=a.getValue(e);c!=null&&(r===void 0?c>=c&&(r=i=c):(r>c&&(r=c),i<c&&(i=c)))}),[r,i]},iI=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let a=i.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},sI=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!qL(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((a,c)=>a-c);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},aI=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),lI=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,cI=(e,t)=>t.length,tg={sum:tI,min:nI,max:rI,extent:oI,mean:iI,median:sI,unique:aI,uniqueCount:lI,count:cI},uI={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:wr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return tg.sum;if(Object.prototype.toString.call(r)==="[object Date]")return tg.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return ih(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:tg[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function dI(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(c=>c.id===a)).filter(Boolean),...r]}const fI={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:wr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=We(n=>[Cc(t,n)],n=>n.findIndex(r=>r.id===e.id),Qe(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Cc(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=Cc(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=We(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let a=[];if(!(t!=null&&t.length))a=i;else{const c=[...t],u=[...i];for(;u.length&&c.length;){const f=c.shift(),h=u.findIndex(p=>p.id===f);h>-1&&a.push(u.splice(h,1)[0])}a=[...a,...u]}return dI(a,n,r)},Qe(e.options,"debugTable"))}},ng=()=>({left:[],right:[]}),hI={getInitialState:e=>({columnPinning:ng(),...e}),getDefaultOptions:e=>({onColumnPinningChange:wr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var a,c;if(n==="right"){var u,f;return{left:((u=i==null?void 0:i.left)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((f=i==null?void 0:i.right)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var h,p;return{left:[...((h=i==null?void 0:i.left)!=null?h:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((p=i==null?void 0:i.right)!=null?p:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:((c=i==null?void 0:i.right)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,a,c;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((a=(c=t.options.enableColumnPinning)!=null?c:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:i}=t.getState().columnPinning,a=n.some(u=>r==null?void 0:r.includes(u)),c=n.some(u=>i==null?void 0:i.includes(u));return a?"left":c?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const a=[...r??[],...i??[]];return n.filter(c=>!a.includes(c.column.id))},Qe(t.options,"debugRows")),e.getLeftVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(c=>c.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Qe(t.options,"debugRows")),e.getRightVisibleCells=We(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(c=>c.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Qe(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?ng():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:ng())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,a;return!!((i=r.left)!=null&&i.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Qe(e.options,"debugColumns")),e.getRightLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Qe(e.options,"debugColumns")),e.getCenterLeafColumns=We(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(a=>!i.includes(a.id))},Qe(e.options,"debugColumns"))}};function pI(e){return e||(typeof document<"u"?document:null)}const Sd={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},rg=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),xI={getDefaultColumnDef:()=>Sd,getInitialState:e=>({columnSizing:{},columnSizingInfo:rg(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:wr("columnSizing",e),onColumnSizingInfoChange:wr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Sd.minSize,(r=a??e.columnDef.size)!=null?r:Sd.size),(i=e.columnDef.maxSize)!=null?i:Sd.maxSize)},e.getStart=We(n=>[n,Cc(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,a)=>i+a.getSize(),0),Qe(t.options,"debugColumns")),e.getAfter=We(n=>[n,Cc(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,a)=>i+a.getSize(),0),Qe(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var a;n+=(a=i.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return a=>{if(!r||!i||(a.persist==null||a.persist(),og(a)&&a.touches&&a.touches.length>1))return;const c=e.getSize(),u=e?e.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[r.id,r.getSize()]],f=og(a)?Math.round(a.touches[0].clientX):a.clientX,h={},p=(C,R)=>{typeof R=="number"&&(t.setColumnSizingInfo(O=>{var M,A;const N=t.options.columnResizeDirection==="rtl"?-1:1,P=(R-((M=O==null?void 0:O.startOffset)!=null?M:0))*N,$=Math.max(P/((A=O==null?void 0:O.startSize)!=null?A:0),-.999999);return O.columnSizingStart.forEach(I=>{let[_,F]=I;h[_]=Math.round(Math.max(F+F*$,0)*100)/100}),{...O,deltaOffset:P,deltaPercentage:$}}),(t.options.columnResizeMode==="onChange"||C==="end")&&t.setColumnSizing(O=>({...O,...h})))},g=C=>p("move",C),y=C=>{p("end",C),t.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=pI(n),w={moveHandler:C=>g(C.clientX),upHandler:C=>{b==null||b.removeEventListener("mousemove",w.moveHandler),b==null||b.removeEventListener("mouseup",w.upHandler),y(C.clientX)}},S={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),g(C.touches[0].clientX),!1),upHandler:C=>{var R;b==null||b.removeEventListener("touchmove",S.moveHandler),b==null||b.removeEventListener("touchend",S.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),y((R=C.touches[0])==null?void 0:R.clientX)}},k=gI()?{passive:!1}:!1;og(a)?(b==null||b.addEventListener("touchmove",S.moveHandler,k),b==null||b.addEventListener("touchend",S.upHandler,k)):(b==null||b.addEventListener("mousemove",w.moveHandler,k),b==null||b.addEventListener("mouseup",w.upHandler,k)),t.setColumnSizingInfo(C=>({...C,startOffset:f,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?rg():(n=e.initialState.columnSizingInfo)!=null?n:rg())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let Ed=null;function gI(){if(typeof Ed=="boolean")return Ed;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Ed=e,Ed}function og(e){return e.type==="touchstart"}const mI={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:wr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=We(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Qe(t.options,"debugRows")),e.getVisibleCells=We(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Qe(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>We(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Qe(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Cc(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const yI={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},vI={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:wr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Go.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return ih(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Go[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},bI={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:wr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,a;e.setExpanded(r?{}:(i=(a=e.initialState)==null?void 0:a.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const c=a.split(".");r=Math.max(r,c.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const a=r===!0?!0:!!(r!=null&&r[e.id]);let c={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{c[u]=!0}):c=r,n=(i=n)!=null?i:!a,!a&&n)return{...c,[e.id]:!0};if(a&&!n){const{[e.id]:u,...f}=c;return f}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Wg=0,Qg=10,ig=()=>({pageIndex:Wg,pageSize:Qg}),wI={getInitialState:e=>({...e,pagination:{...ig(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:wr("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=a=>Li(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?ig():(i=e.initialState.pagination)!=null?i:ig())},e.setPageIndex=r=>{e.setPagination(i=>{let a=Li(r,i.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,c)),{...i,pageIndex:a}})},e.resetPageIndex=r=>{var i,a;e.setPageIndex(r?Wg:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:Wg)},e.resetPageSize=r=>{var i,a;e.setPageSize(r?Qg:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:Qg)},e.setPageSize=r=>{e.setPagination(i=>{const a=Math.max(1,Li(r,i.pageSize)),c=i.pageSize*i.pageIndex,u=Math.floor(c/a);return{...i,pageIndex:u,pageSize:a}})},e.setPageCount=r=>e.setPagination(i=>{var a;let c=Li(r,(a=e.options.pageCount)!=null?a:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...i,pageCount:c}}),e.getPageOptions=We(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((a,c)=>c)),i},Qe(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},sg=()=>({top:[],bottom:[]}),SI={getInitialState:e=>({rowPinning:sg(),...e}),getDefaultOptions:e=>({onRowPinningChange:wr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map(f=>{let{id:h}=f;return h}):[],c=i?e.getParentRows().map(f=>{let{id:h}=f;return h}):[],u=new Set([...c,e.id,...a]);t.setRowPinning(f=>{var h,p;if(n==="bottom"){var g,y;return{top:((g=f==null?void 0:f.top)!=null?g:[]).filter(S=>!(u!=null&&u.has(S))),bottom:[...((y=f==null?void 0:f.bottom)!=null?y:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)]}}if(n==="top"){var b,w;return{top:[...((b=f==null?void 0:f.top)!=null?b:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)],bottom:((w=f==null?void 0:f.bottom)!=null?w:[]).filter(S=>!(u!=null&&u.has(S)))}}return{top:((h=f==null?void 0:f.top)!=null?h:[]).filter(S=>!(u!=null&&u.has(S))),bottom:((p=f==null?void 0:f.bottom)!=null?p:[]).filter(S=>!(u!=null&&u.has(S)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some(u=>r==null?void 0:r.includes(u)),c=n.some(u=>i==null?void 0:i.includes(u));return a?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(c=>{let{id:u}=c;return u});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?sg():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:sg())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,a;return!!((i=r.top)!=null&&i.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(c=>{const u=e.getRow(c,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(c=>t.find(u=>u.id===c))).filter(Boolean).map(c=>({...c,position:r}))},e.getTopRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Qe(e.options,"debugRows")),e.getBottomRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Qe(e.options,"debugRows")),e.getCenterRows=We(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(a=>!i.has(a.id))},Qe(e.options,"debugRows"))}},EI={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:wr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):i.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(a=>{Jg(i,a.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=We(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ag(e,n):{rows:[],flatRows:[],rowsById:{}},Qe(e.options,"debugTable")),e.getFilteredSelectedRowModel=We(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ag(e,n):{rows:[],flatRows:[],rowsById:{}},Qe(e.options,"debugTable")),e.getGroupedSelectedRowModel=We(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ag(e,n):{rows:[],flatRows:[],rowsById:{}},Qe(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(a=>{var c;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return a;const u={...a};return Jg(u,e.id,n,(c=r==null?void 0:r.selectChildren)!=null?c:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Ay(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return em(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return em(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Jg=(e,t,n,r,i)=>{var a;const c=i.getRow(t,!0);n?(c.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),c.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=c.subRows)!=null&&a.length&&c.getCanSelectSubRows()&&c.subRows.forEach(u=>Jg(e,u.id,n,r,i))};function ag(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(c,u){return c.map(f=>{var h;const p=Ay(f,n);if(p&&(r.push(f),i[f.id]=f),(h=f.subRows)!=null&&h.length&&(f={...f,subRows:a(f.subRows)}),p)return f}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function Ay(e,t){var n;return(n=t[e.id])!=null?n:!1}function em(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,a=!1;return e.subRows.forEach(c=>{if(!(a&&!i)&&(c.getCanSelect()&&(Ay(c,t)?a=!0:i=!1),c.subRows&&c.subRows.length)){const u=em(c,t);u==="all"?a=!0:(u==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const tm=/([0-9]+)/gm,CI=(e,t,n)=>hT(Hi(e.getValue(n)).toLowerCase(),Hi(t.getValue(n)).toLowerCase()),kI=(e,t,n)=>hT(Hi(e.getValue(n)),Hi(t.getValue(n))),TI=(e,t,n)=>Ry(Hi(e.getValue(n)).toLowerCase(),Hi(t.getValue(n)).toLowerCase()),_I=(e,t,n)=>Ry(Hi(e.getValue(n)),Hi(t.getValue(n))),NI=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},MI=(e,t,n)=>Ry(e.getValue(n),t.getValue(n));function Ry(e,t){return e===t?0:e>t?1:-1}function Hi(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function hT(e,t){const n=e.split(tm).filter(Boolean),r=t.split(tm).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),a=r.shift(),c=parseInt(i,10),u=parseInt(a,10),f=[c,u].sort();if(isNaN(f[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(f[1]))return isNaN(c)?-1:1;if(c>u)return 1;if(u>c)return-1}return n.length-r.length}const oc={alphanumeric:CI,alphanumericCaseSensitive:kI,text:TI,textCaseSensitive:_I,datetime:NI,basic:MI},AI={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:wr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const a=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return oc.datetime;if(typeof a=="string"&&(r=!0,a.split(tm).length>1))return oc.alphanumeric}return r?oc.text:oc.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return ih(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:oc[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(c=>{const u=c==null?void 0:c.find(b=>b.id===e.id),f=c==null?void 0:c.findIndex(b=>b.id===e.id);let h=[],p,g=a?n:i==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&r?u?p="toggle":p="add":c!=null&&c.length&&f!==c.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(a||i||(p="remove")),p==="add"){var y;h=[...c,{id:e.id,desc:g}],h.splice(0,h.length-((y=t.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else p==="toggle"?h=c.map(b=>b.id===e.id?{...b,desc:g}:b):p==="remove"?h=c.filter(b=>b.id!==e.id):h=[{id:e.id,desc:g}];return h})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:c==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},RI=[WL,mI,fI,hI,JL,eI,yI,vI,AI,uI,bI,wI,SI,EI,xI];function OI(e){var t,n;const r=[...RI,...(t=e._features)!=null?t:[]];let i={_features:r};const a=i._features.reduce((y,b)=>Object.assign(y,b.getDefaultOptions==null?void 0:b.getDefaultOptions(i)),{}),c=y=>i.options.mergeOptions?i.options.mergeOptions(a,y):{...a,...y};let f={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(y=>{var b;f=(b=y.getInitialState==null?void 0:y.getInitialState(f))!=null?b:f});const h=[];let p=!1;const g={_features:r,options:{...a,...e},initialState:f,_queue:y=>{h.push(y),p||(p=!0,Promise.resolve().then(()=>{for(;h.length;)h.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{i.setState(i.initialState)},setOptions:y=>{const b=Li(y,i.options);i.options=c(b)},getState:()=>i.options.state,setState:y=>{i.options.onStateChange==null||i.options.onStateChange(y)},_getRowId:(y,b,w)=>{var S;return(S=i.options.getRowId==null?void 0:i.options.getRowId(y,b,w))!=null?S:`${w?[w.id,b].join("."):b}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(y,b)=>{let w=(b?i.getPrePaginationRowModel():i.getRowModel()).rowsById[y];if(!w&&(w=i.getCoreRowModel().rowsById[y],!w))throw new Error;return w},_getDefaultColumnDef:We(()=>[i.options.defaultColumn],y=>{var b;return y=(b=y)!=null?b:{},{header:w=>{const S=w.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:w=>{var S,k;return(S=(k=w.renderValue())==null||k.toString==null?void 0:k.toString())!=null?S:null},...i._features.reduce((w,S)=>Object.assign(w,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...y}},Qe(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:We(()=>[i._getColumnDefs()],y=>{const b=function(w,S,k){return k===void 0&&(k=0),w.map(C=>{const R=ZL(i,C,k,S),O=C;return R.columns=O.columns?b(O.columns,R,k+1):[],R})};return b(y)},Qe(e,"debugColumns")),getAllFlatColumns:We(()=>[i.getAllColumns()],y=>y.flatMap(b=>b.getFlatColumns()),Qe(e,"debugColumns")),_getAllFlatColumnsById:We(()=>[i.getAllFlatColumns()],y=>y.reduce((b,w)=>(b[w.id]=w,b),{}),Qe(e,"debugColumns")),getAllLeafColumns:We(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(y,b)=>{let w=y.flatMap(S=>S.getLeafColumns());return b(w)},Qe(e,"debugColumns")),getColumn:y=>i._getAllFlatColumnsById()[y]};Object.assign(i,g);for(let y=0;y<i._features.length;y++){const b=i._features[y];b==null||b.createTable==null||b.createTable(i)}return i}function BI(){return e=>We(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,a,c){a===void 0&&(a=0);const u=[];for(let h=0;h<i.length;h++){const p=QL(e,e._getRowId(i[h],h,c),i[h],h,a,void 0,c==null?void 0:c.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var f;p.originalSubRows=e.options.getSubRows(i[h],h),(f=p.originalSubRows)!=null&&f.length&&(p.subRows=r(p.originalSubRows,a+1,p))}}return u};return n.rows=r(t),n},Qe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function iE(e,t){return e?jI(e)?E.createElement(e,t):e:null}function jI(e){return DI(e)||typeof e=="function"||LI(e)}function DI(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function LI(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function II(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=E.useState(()=>({current:OI(t)})),[r,i]=E.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:c=>{i(c),e.onStateChange==null||e.onStateChange(c)}})),n.current}function $I({scenes:e}){const t=GL(),n=E.useMemo(()=>[t.accessor("timeline",{header:"时间线",cell:a=>a.getValue(),size:100}),t.accessor("template",{header:"原型",cell:a=>a.getValue(),size:150}),t.accessor("plot",{header:"剧情",cell:a=>v.jsx("div",{className:"max-w-[200px] whitespace-pre-line truncate",children:a.getValue()}),size:200}),t.accessor("characters",{header:"角色",cell:a=>v.jsx("div",{className:"max-w-[150px] overflow-hidden",children:v.jsx("ul",{className:"list-disc pl-5",children:a.getValue().map((c,u)=>v.jsxs("li",{className:"truncate",children:["• ",c]},u))})}),size:150}),t.accessor("coreRelationship",{header:"核心情绪",cell:a=>v.jsx("div",{className:"max-w-[150px] whitespace-pre-line truncate",children:a.getValue()}),size:150}),t.accessor("emotionDevelopment",{header:"情感发展",cell:a=>v.jsx("div",{className:"max-w-[150px] whitespace-pre-line truncate",children:a.getValue()}),size:150}),t.accessor("characterRelationships",{header:"人物关系",cell:a=>v.jsx("div",{className:"max-w-[150px] whitespace-pre-line truncate",children:a.getValue()}),size:150}),t.accessor("characterEffect",{header:"人物效果",cell:a=>v.jsx("div",{className:"max-w-[150px] whitespace-pre-line truncate",children:a.getValue()}),size:150})],[]),r=II({data:e,columns:n,getCoreRowModel:BI(),defaultColumn:{size:150}});return v.jsxs("div",{className:"flex-1 overflow-auto p-4 custom-scrollbar",children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:`
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #000;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #333;
    }
  `}}),v.jsx("div",{className:"border rounded-lg overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:v.jsxs("table",{className:"w-full border-collapse",children:[v.jsx("thead",{children:r.getHeaderGroups().map(a=>v.jsx("tr",{className:"bg-gray-50",children:a.headers.map(c=>v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-r border-gray-200 sticky top-0 bg-gray-50",style:{width:c.getSize()},children:c.isPlaceholder?null:iE(c.column.columnDef.header,c.getContext())},c.id))},a.id))}),v.jsx("tbody",{children:r.getRowModel().rows.map(a=>v.jsx("tr",{className:"hover:bg-gray-50",children:a.getVisibleCells().map(c=>v.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 border-b border-r border-gray-200",style:{width:c.column.getSize()},children:iE(c.column.columnDef.cell,c.getContext())},c.id))},a.id))})]})})})]})}function PI({isEnabled:e,onChange:t,leftLabel:n="角色视图",rightLabel:r="剧情视图"}){return v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm text-gray-700",children:n}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e,onChange:()=>t(!e),className:"sr-only peer"}),v.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black"})]}),v.jsx("span",{className:"text-sm text-gray-700",children:r})]})}const zI=[{id:"1",timeline:"长熙xx年【背景】",template:"多年之后我在你的婚宴之上见到你",plot:`花间客在张嘉敏的订婚宴之上见到曾经爱过的花间客（主弦）
张嘉敏失去了记忆（副弦）
张嘉敏因为和花间客接触而昏迷（发展）
张嘉敏对花间客和自己过去的联系产生好奇（结局）`,characters:["花间客","张嘉敏","永安","萱儿","苏飞卿"],coreRelationship:`主弦：恐惧，患得患失
副弦：悲伤，残缺
发展：自虐的爽结局
悲剧的扭曲
隐藏：治愈升华`,emotionDevelopment:`• 高亮: 主弦的张力很满，副弦一般，后面几个音符时看不出门道。
• 衔接: 1，更糟糕的是……
2，在剩下的时间里……`,characterRelationships:`1. 苏飞卿与父母：传统的将门子弟，父严母慈，备受期待
2. 苏飞卿与太子：表兄弟关系，互相信任`,characterEffect:`这些情节共同构建了一个充满政治阴谋、战争威胁和美爱情的故事背景。
1. 展现了苏飞卿年少轻狂却情重义的性格
2. 凸显了阿鹰身份的神秘性和复杂性`},{id:"2",timeline:"长熙二年春",template:"背景模板",plot:"示例剧情描述",characters:["角色A","角色B"],coreRelationship:"核心情绪示例",emotionDevelopment:"情感发展示例",characterRelationships:"人物关系示例",characterEffect:"人物效果示例"}];function HI(){const e=["大纲","角色","关系","章节","分幕","剧本"],[t,n]=E.useState(!0),[r,i]=E.useState("claude35_sonnet2"),[a,c]=E.useState(""),[u,f]=E.useState([]),h=()=>{if(!a.trim())return;f(["1. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"])},p=g=>{g.key==="Enter"&&a.trim()&&h()};return v.jsxs("div",{className:"flex h-screen bg-white overflow-hidden",children:[v.jsx(Yi,{}),v.jsxs("div",{className:"flex-1 flex flex-col h-full max-w-[calc(100vw-300px)]",children:[v.jsxs("div",{className:"flex items-center px-4 pt-4",children:[v.jsx("div",{className:"flex-1",children:v.jsx(Rs,{tabs:e,defaultTab:"分幕",onTabChange:g=>console.log(g)})}),v.jsx("div",{className:"ml-4",children:v.jsx(PI,{isEnabled:t,onChange:n,leftLabel:"角色视图",rightLabel:"剧情视图"})})]}),v.jsx($I,{scenes:zI}),v.jsx(YL,{selectedModel:r,setSelectedModel:i,userInput:a,setUserInput:c,handleKeyDown:p,aiSuggestions:u,inputPlaceholder:"这段内容不好？点击单元格，告诉我如何优化，如：xxxxxx"})]}),v.jsxs("div",{className:"w-[100px] bg-white flex flex-col items-center pt-8 gap-4",children:[v.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:v.jsx(we,{icon:"ri:edit-line",className:"w-6 h-6 text-gray-700"})}),v.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:v.jsx(we,{icon:"ri:add-line",className:"w-6 h-6 text-gray-700"})}),v.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:v.jsx(we,{icon:"ri:delete-bin-line",className:"w-6 h-6 text-gray-700"})})]})]})}function UI(){const{sceneId:e}=QR(),t=$f(),[n,r]=E.useState(!1),[i,a]=E.useState(`分幕内容：

1. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xx

2. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xx

3. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

4. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxx

`),[c,u]=E.useState(null),[f,h]=E.useState(""),[p,g]=E.useState(!1),[y,b]=E.useState([]),{selectedModel:w,selectedStyle:S,generateScenarioOptions:k}=Um(),C=()=>{if(!f.trim()||c===null)return;g(!0);const O=i.split(`

`),M=O[c],A=c>0?O[c-1]:"";k(A,M,"角色",f),setTimeout(()=>{const N=[{id:"1",text:`选项1 (使用${w}和${S}文风): 你走进房间，发现桌上放着一封信。拆开后，你不敢相信自己的眼睛...`},{id:"2",text:`选项2 (使用${w}和${S}文风): 你犹豫了一下，决定先不进入房间。直觉告诉你应该先确认周围环境...`},{id:"3",text:`选项3 (使用${w}和${S}文风): 你深吸一口气，推开了房门。出乎意料的是，房间里空无一人，但窗户大开...`}];b(N),g(!1)},2e3)},R=O=>{if(c!==null){const M=i.split(`

`),A=O.text.replace(/^选项\d+ \(使用.*文风\): /,"");M[c]=A,a(M.join(`

`)),u(null),h(""),b([])}};return v.jsx("div",{className:"flex-1 overflow-auto p-4 bg-white",children:v.jsxs("div",{className:"mb-4",children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:v.jsxs("div",{className:"flex items-center",children:[v.jsxs("div",{className:"font-bold text-lg mr-2",children:["分幕 ",e||"1"]}),v.jsxs("div",{className:"flex items-center text-gray-500 cursor-pointer",onClick:()=>t("/scenes"),children:[v.jsx("span",{children:"返回列表"}),v.jsx(we,{icon:"ri:arrow-right-s-line",className:"ml-1"})]})]})}),v.jsx("div",{className:"border border-gray-300 rounded p-4 mb-4",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("span",{children:["分幕标题: ",e?`分幕${e}`:"分幕1"," - xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"]}),v.jsx("button",{className:"text-blue-500 text-sm",onClick:()=>r(!n),children:n?"完成编辑":"修改内容"})]})}),n?v.jsx("div",{className:"mb-4",children:v.jsx("textarea",{className:"w-full border border-gray-300 rounded p-4",value:i,onChange:O=>a(O.target.value),rows:20,style:{lineHeight:"1.6"}})}):v.jsx("div",{className:"mb-4",children:i.split(`

`).map((O,M)=>v.jsx("div",{className:`p-4 mb-2 rounded cursor-pointer ${c===M?"bg-gray-100 border-2 border-black":"border border-gray-200 hover:border-gray-400"}`,onClick:()=>u(M),children:v.jsx("p",{className:"whitespace-pre-wrap",children:O})},M))}),c!==null&&v.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mt-6 mb-4",children:[v.jsxs("div",{className:"font-medium mb-2",children:["修改第 ",c+1," 段剧情"]}),v.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["使用 ",v.jsx("span",{className:"font-semibold",children:w})," 模型和",v.jsxs("span",{className:"font-semibold",children:[" ",S]})," 文风"]}),v.jsx("div",{className:"mb-4",children:v.jsx("textarea",{className:"w-full border border-gray-300 rounded p-3 focus:outline-none focus:ring-1 focus:ring-gray-400",placeholder:"告诉我如何优化这段剧情，如：增加更多情感描写，减少对话...",value:f,onChange:O=>h(O.target.value),rows:3})}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-md flex items-center disabled:bg-gray-300",onClick:C,disabled:!f.trim()||p,children:p?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"生成中..."]}):v.jsxs(v.Fragment,{children:[v.jsx(we,{icon:"ri:ai-generate",className:"mr-1"}),"生成优化选项"]})})}),y.length>0&&v.jsxs("div",{className:"mt-4 space-y-3",children:[v.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"请选择一个优化后的剧情："}),y.map(O=>v.jsx("div",{className:"border border-gray-300 p-3 rounded-md cursor-pointer hover:border-gray-500 transition-colors",onClick:()=>R(O),children:v.jsx("p",{children:O.text})},O.id))]})]})]})})}function FI(){return v.jsxs("div",{className:"flex h-screen bg-white",children:[v.jsx(Yi,{}),v.jsx(UI,{}),v.jsx("div",{className:"w-[100px] bg-white flex flex-col items-center pt-8 gap-4"})]})}function VI(){return v.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[v.jsxs("div",{className:"w-2/5 border-r p-6 flex flex-col",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"text-lg font-medium mb-2",children:"大纲风格"}),v.jsxs("div",{className:"flex space-x-4 mb-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"古风情感"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsx("div",{className:"py-2",children:"关键设定"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"逆向时空"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"text-lg font-medium mb-2",children:"参考案例"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none w-full",children:v.jsx("option",{children:"《古相思曲》- 大纲  《扶剑惊风》- 大纲"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"text-lg font-medium mb-2",children:"可选方案"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(we,{icon:"ri:ai-generate",className:"w-5 h-5"}),v.jsxs("div",{className:"relative flex-1",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none w-full",children:v.jsx("option",{children:"deepseekr1"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]})]})]})]}),v.jsxs("div",{className:"flex-1 overflow-auto space-y-4",children:[v.jsx("div",{className:"border border-gray-200 rounded-md p-4 overflow-y-auto max-h-[150px]",children:v.jsx("p",{className:"text-gray-800",children:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})}),v.jsx("div",{className:"border border-gray-200 rounded-md p-4 overflow-y-auto max-h-[150px]",children:v.jsx("p",{className:"text-gray-800",children:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})}),v.jsx("div",{className:"border border-gray-200 rounded-md p-4 overflow-y-auto max-h-[150px]",children:v.jsx("p",{className:"text-gray-800",children:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"mb-2",children:"Q: 您是想要这样的架空历史的大纲内容吗？"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-4 py-2 pr-10",placeholder:"大纲不好？告诉我如何优化，如：xxxxxx"}),v.jsx(we,{icon:"ri:corner-down-right-fill",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})]})]}),v.jsxs("div",{className:"w-3/5 p-6 overflow-y-auto",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"背景内容"}),v.jsx("div",{className:"border border-gray-200 rounded-md p-4 h-[200px] overflow-y-auto",children:v.jsx("p",{className:"text-gray-800",children:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})})]}),v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold",children:"角色设定"}),v.jsxs("a",{href:"#",className:"text-gray-500 text-sm flex items-center",children:["修改详情 ",v.jsx(we,{icon:"ri:arrow-right-s-line"})]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-md p-4 h-[180px] overflow-y-auto",children:[v.jsx("div",{className:"mb-4",children:v.jsx("p",{className:"mb-2",children:"1. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})}),v.jsx("div",{children:v.jsx("p",{children:"2. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold",children:"分章剧情"}),v.jsxs("a",{href:"#",className:"text-gray-500 text-sm flex items-center",children:["修改详情 ",v.jsx(we,{icon:"ri:arrow-right-s-line"})]})]}),v.jsx("div",{className:"border border-gray-200 rounded-md p-4 h-[240px] overflow-y-auto",children:v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"font-medium mb-2",children:"第一本:"}),v.jsx("p",{className:"mb-2 pl-4",children:"1. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxx"}),v.jsx("p",{className:"mb-2 pl-4",children:"2. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxx"}),v.jsx("p",{className:"pl-4",children:"3. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})]})})]})]})]})}function YI(){const e=["大纲","角色","关系","章节","分幕","剧本"],t=n=>{console.log("Tab changed to:",n)};return v.jsxs("div",{className:"w-full h-screen flex",children:[v.jsx(Yi,{}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pl-5",children:[v.jsx("div",{className:"flex w-full pl-10",children:v.jsx(Rs,{tabs:e,defaultTab:"大纲",onTabChange:t})}),v.jsx(VI,{})]})]})}const Oc={black:"#000",white:"#fff"},ma={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ya={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},va={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ba={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wa={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ic={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},GI={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Cs(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const Oy="$$material";function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(null,arguments)}function qI(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function XI(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var KI=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XI(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=qI(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Pn="-ms-",Ef="-moz-",bt="-webkit-",pT="comm",By="rule",jy="decl",ZI="@import",xT="@keyframes",WI="@layer",QI=Math.abs,sh=String.fromCharCode,JI=Object.assign;function e$(e,t){return Rn(e,0)^45?(((t<<2^Rn(e,0))<<2^Rn(e,1))<<2^Rn(e,2))<<2^Rn(e,3):0}function gT(e){return e.trim()}function t$(e,t){return(e=t.exec(e))?e[0]:e}function wt(e,t,n){return e.replace(t,n)}function nm(e,t){return e.indexOf(t)}function Rn(e,t){return e.charCodeAt(t)|0}function Bc(e,t,n){return e.slice(t,n)}function ho(e){return e.length}function Dy(e){return e.length}function Cd(e,t){return t.push(e),e}function n$(e,t){return e.map(t).join("")}var ah=1,Fa=1,mT=0,or=0,dn=0,Ka="";function lh(e,t,n,r,i,a,c){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:ah,column:Fa,length:c,return:""}}function sc(e,t){return JI(lh("",null,null,"",null,null,0),e,{length:-e.length},t)}function r$(){return dn}function o$(){return dn=or>0?Rn(Ka,--or):0,Fa--,dn===10&&(Fa=1,ah--),dn}function vr(){return dn=or<mT?Rn(Ka,or++):0,Fa++,dn===10&&(Fa=1,ah++),dn}function bo(){return Rn(Ka,or)}function Wd(){return or}function Qc(e,t){return Bc(Ka,e,t)}function jc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yT(e){return ah=Fa=1,mT=ho(Ka=e),or=0,[]}function vT(e){return Ka="",e}function Qd(e){return gT(Qc(or-1,rm(e===91?e+2:e===40?e+1:e)))}function i$(e){for(;(dn=bo())&&dn<33;)vr();return jc(e)>2||jc(dn)>3?"":" "}function s$(e,t){for(;--t&&vr()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return Qc(e,Wd()+(t<6&&bo()==32&&vr()==32))}function rm(e){for(;vr();)switch(dn){case e:return or;case 34:case 39:e!==34&&e!==39&&rm(dn);break;case 40:e===41&&rm(e);break;case 92:vr();break}return or}function a$(e,t){for(;vr()&&e+dn!==57;)if(e+dn===84&&bo()===47)break;return"/*"+Qc(t,or-1)+"*"+sh(e===47?e:vr())}function l$(e){for(;!jc(bo());)vr();return Qc(e,or)}function c$(e){return vT(Jd("",null,null,null,[""],e=yT(e),0,[0],e))}function Jd(e,t,n,r,i,a,c,u,f){for(var h=0,p=0,g=c,y=0,b=0,w=0,S=1,k=1,C=1,R=0,O="",M=i,A=a,N=r,P=O;k;)switch(w=R,R=vr()){case 40:if(w!=108&&Rn(P,g-1)==58){nm(P+=wt(Qd(R),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:P+=Qd(R);break;case 9:case 10:case 13:case 32:P+=i$(w);break;case 92:P+=s$(Wd()-1,7);continue;case 47:switch(bo()){case 42:case 47:Cd(u$(a$(vr(),Wd()),t,n),f);break;default:P+="/"}break;case 123*S:u[h++]=ho(P)*C;case 125*S:case 59:case 0:switch(R){case 0:case 125:k=0;case 59+p:C==-1&&(P=wt(P,/\f/g,"")),b>0&&ho(P)-g&&Cd(b>32?aE(P+";",r,n,g-1):aE(wt(P," ","")+";",r,n,g-2),f);break;case 59:P+=";";default:if(Cd(N=sE(P,t,n,h,p,i,u,O,M=[],A=[],g),a),R===123)if(p===0)Jd(P,t,N,N,M,a,g,u,A);else switch(y===99&&Rn(P,3)===110?100:y){case 100:case 108:case 109:case 115:Jd(e,N,N,r&&Cd(sE(e,N,N,0,0,i,u,O,i,M=[],g),A),i,A,g,u,r?M:A);break;default:Jd(P,N,N,N,[""],A,0,u,A)}}h=p=b=0,S=C=1,O=P="",g=c;break;case 58:g=1+ho(P),b=w;default:if(S<1){if(R==123)--S;else if(R==125&&S++==0&&o$()==125)continue}switch(P+=sh(R),R*S){case 38:C=p>0?1:(P+="\f",-1);break;case 44:u[h++]=(ho(P)-1)*C,C=1;break;case 64:bo()===45&&(P+=Qd(vr())),y=bo(),p=g=ho(O=P+=l$(Wd())),R++;break;case 45:w===45&&ho(P)==2&&(S=0)}}return a}function sE(e,t,n,r,i,a,c,u,f,h,p){for(var g=i-1,y=i===0?a:[""],b=Dy(y),w=0,S=0,k=0;w<r;++w)for(var C=0,R=Bc(e,g+1,g=QI(S=c[w])),O=e;C<b;++C)(O=gT(S>0?y[C]+" "+R:wt(R,/&\f/g,y[C])))&&(f[k++]=O);return lh(e,t,n,i===0?By:u,f,h,p)}function u$(e,t,n){return lh(e,t,n,pT,sh(r$()),Bc(e,2,-2),0)}function aE(e,t,n,r){return lh(e,t,n,jy,Bc(e,0,r),Bc(e,r+1,-1),r)}function La(e,t){for(var n="",r=Dy(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function d$(e,t,n,r){switch(e.type){case WI:if(e.children.length)break;case ZI:case jy:return e.return=e.return||e.value;case pT:return"";case xT:return e.return=e.value+"{"+La(e.children,r)+"}";case By:e.value=e.props.join(",")}return ho(n=La(e.children,r))?e.return=e.value+"{"+n+"}":""}function f$(e){var t=Dy(e);return function(n,r,i,a){for(var c="",u=0;u<t;u++)c+=e[u](n,r,i,a)||"";return c}}function h$(e){return function(t){t.root||(t=t.return)&&e(t)}}function bT(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var p$=function(t,n,r){for(var i=0,a=0;i=a,a=bo(),i===38&&a===12&&(n[r]=1),!jc(a);)vr();return Qc(t,or)},x$=function(t,n){var r=-1,i=44;do switch(jc(i)){case 0:i===38&&bo()===12&&(n[r]=1),t[r]+=p$(or-1,n,r);break;case 2:t[r]+=Qd(i);break;case 4:if(i===44){t[++r]=bo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=sh(i)}while(i=vr());return t},g$=function(t,n){return vT(x$(yT(t),n))},lE=new WeakMap,m$=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!lE.get(r))&&!i){lE.set(t,!0);for(var a=[],c=g$(n,a),u=r.props,f=0,h=0;f<c.length;f++)for(var p=0;p<u.length;p++,h++)t.props[h]=a[f]?c[f].replace(/&\f/g,u[p]):u[p]+" "+c[f]}}},y$=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function wT(e,t){switch(e$(e,t)){case 5103:return bt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+e+Ef+e+Pn+e+e;case 6828:case 4268:return bt+e+Pn+e+e;case 6165:return bt+e+Pn+"flex-"+e+e;case 5187:return bt+e+wt(e,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Pn+"flex-$1$2")+e;case 5443:return bt+e+Pn+"flex-item-"+wt(e,/flex-|-self/,"")+e;case 4675:return bt+e+Pn+"flex-line-pack"+wt(e,/align-content|flex-|-self/,"")+e;case 5548:return bt+e+Pn+wt(e,"shrink","negative")+e;case 5292:return bt+e+Pn+wt(e,"basis","preferred-size")+e;case 6060:return bt+"box-"+wt(e,"-grow","")+bt+e+Pn+wt(e,"grow","positive")+e;case 4554:return bt+wt(e,/([^-])(transform)/g,"$1"+bt+"$2")+e;case 6187:return wt(wt(wt(e,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),e,"")+e;case 5495:case 3959:return wt(e,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return wt(wt(e,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+e+e;case 4095:case 3583:case 4068:case 2532:return wt(e,/(.+)-inline(.+)/,bt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ho(e)-1-t>6)switch(Rn(e,t+1)){case 109:if(Rn(e,t+4)!==45)break;case 102:return wt(e,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Ef+(Rn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~nm(e,"stretch")?wT(wt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Rn(e,t+1)!==115)break;case 6444:switch(Rn(e,ho(e)-3-(~nm(e,"!important")&&10))){case 107:return wt(e,":",":"+bt)+e;case 101:return wt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bt+(Rn(e,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Pn+"$2box$3")+e}break;case 5936:switch(Rn(e,t+11)){case 114:return bt+e+Pn+wt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bt+e+Pn+wt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bt+e+Pn+wt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return bt+e+Pn+e+e}return e}var v$=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case jy:t.return=wT(t.value,t.length);break;case xT:return La([sc(t,{value:wt(t.value,"@","@"+bt)})],i);case By:if(t.length)return n$(t.props,function(a){switch(t$(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return La([sc(t,{props:[wt(a,/:(read-\w+)/,":"+Ef+"$1")]})],i);case"::placeholder":return La([sc(t,{props:[wt(a,/:(plac\w+)/,":"+bt+"input-$1")]}),sc(t,{props:[wt(a,/:(plac\w+)/,":"+Ef+"$1")]}),sc(t,{props:[wt(a,/:(plac\w+)/,Pn+"input-$1")]})],i)}return""})}},b$=[v$],w$=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var k=S.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=t.stylisPlugins||b$,a={},c,u=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var k=S.getAttribute("data-emotion").split(" "),C=1;C<k.length;C++)a[k[C]]=!0;u.push(S)});var f,h=[m$,y$];{var p,g=[d$,h$(function(S){p.insert(S)})],y=f$(h.concat(i,g)),b=function(k){return La(c$(k),y)};f=function(k,C,R,O){p=R,b(k?k+"{"+C.styles+"}":C.styles),O&&(w.inserted[C.name]=!0)}}var w={key:n,sheet:new KI({key:n,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:f};return w.sheet.hydrate(u),w},lg={exports:{}},St={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function S$(){if(cE)return St;cE=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,h=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,S=e?Symbol.for("react.block"):60121,k=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,R=e?Symbol.for("react.scope"):60119;function O(A){if(typeof A=="object"&&A!==null){var N=A.$$typeof;switch(N){case t:switch(A=A.type,A){case f:case h:case r:case a:case i:case g:return A;default:switch(A=A&&A.$$typeof,A){case u:case p:case w:case b:case c:return A;default:return N}}case n:return N}}}function M(A){return O(A)===h}return St.AsyncMode=f,St.ConcurrentMode=h,St.ContextConsumer=u,St.ContextProvider=c,St.Element=t,St.ForwardRef=p,St.Fragment=r,St.Lazy=w,St.Memo=b,St.Portal=n,St.Profiler=a,St.StrictMode=i,St.Suspense=g,St.isAsyncMode=function(A){return M(A)||O(A)===f},St.isConcurrentMode=M,St.isContextConsumer=function(A){return O(A)===u},St.isContextProvider=function(A){return O(A)===c},St.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},St.isForwardRef=function(A){return O(A)===p},St.isFragment=function(A){return O(A)===r},St.isLazy=function(A){return O(A)===w},St.isMemo=function(A){return O(A)===b},St.isPortal=function(A){return O(A)===n},St.isProfiler=function(A){return O(A)===a},St.isStrictMode=function(A){return O(A)===i},St.isSuspense=function(A){return O(A)===g},St.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===h||A===a||A===i||A===g||A===y||typeof A=="object"&&A!==null&&(A.$$typeof===w||A.$$typeof===b||A.$$typeof===c||A.$$typeof===u||A.$$typeof===p||A.$$typeof===k||A.$$typeof===C||A.$$typeof===R||A.$$typeof===S)},St.typeOf=O,St}var uE;function E$(){return uE||(uE=1,lg.exports=S$()),lg.exports}var cg,dE;function C$(){if(dE)return cg;dE=1;var e=E$(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[e.ForwardRef]=r,a[e.Memo]=i;function c(w){return e.isMemo(w)?i:a[w.$$typeof]||t}var u=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function b(w,S,k){if(typeof S!="string"){if(y){var C=g(S);C&&C!==y&&b(w,C,k)}var R=f(S);h&&(R=R.concat(h(S)));for(var O=c(w),M=c(S),A=0;A<R.length;++A){var N=R[A];if(!n[N]&&!(k&&k[N])&&!(M&&M[N])&&!(O&&O[N])){var P=p(S,N);try{u(w,N,P)}catch{}}}}return w}return cg=b,cg}C$();var k$=!0;function ST(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var Ly=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||k$===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},ET=function(t,n,r){Ly(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function T$(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var _$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},N$=/[A-Z]|^ms/g,M$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CT=function(t){return t.charCodeAt(1)===45},fE=function(t){return t!=null&&typeof t!="boolean"},ug=bT(function(e){return CT(e)?e:e.replace(N$,"-$&").toLowerCase()}),hE=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(M$,function(r,i,a){return po={name:i,styles:a,next:po},i})}return _$[t]!==1&&!CT(t)&&typeof n=="number"&&n!==0?n+"px":n};function Dc(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return po={name:i.name,styles:i.styles,next:po},i.name;var a=n;if(a.styles!==void 0){var c=a.next;if(c!==void 0)for(;c!==void 0;)po={name:c.name,styles:c.styles,next:po},c=c.next;var u=a.styles+";";return u}return A$(e,t,n)}case"function":{if(e!==void 0){var f=po,h=n(e);return po=f,Dc(e,t,h)}break}}var p=n;if(t==null)return p;var g=t[p];return g!==void 0?g:p}function A$(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Dc(e,t,n[i])+";";else for(var a in n){var c=n[a];if(typeof c!="object"){var u=c;t!=null&&t[u]!==void 0?r+=a+"{"+t[u]+"}":fE(u)&&(r+=ug(a)+":"+hE(a,u)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(t==null||t[c[0]]===void 0))for(var f=0;f<c.length;f++)fE(c[f])&&(r+=ug(a)+":"+hE(a,c[f])+";");else{var h=Dc(e,t,c);switch(a){case"animation":case"animationName":{r+=ug(a)+":"+h+";";break}default:r+=a+"{"+h+"}"}}}return r}var pE=/label:\s*([^\s;{]+)\s*(;|$)/g,po;function ch(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";po=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=Dc(n,t,a);else{var c=a;i+=c[0]}for(var u=1;u<e.length;u++)if(i+=Dc(n,t,e[u]),r){var f=a;i+=f[u]}pE.lastIndex=0;for(var h="",p;(p=pE.exec(i))!==null;)h+="-"+p[1];var g=T$(i)+h;return{name:g,styles:i,next:po}}var R$=function(t){return t()},O$=Zw.useInsertionEffect?Zw.useInsertionEffect:!1,kT=O$||R$,TT=E.createContext(typeof HTMLElement<"u"?w$({key:"css"}):null);TT.Provider;var _T=function(t){return E.forwardRef(function(n,r){var i=E.useContext(TT);return t(n,i,r)})},Iy=E.createContext({}),$y={}.hasOwnProperty,om="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",B$=function(t,n){var r={};for(var i in n)$y.call(n,i)&&(r[i]=n[i]);return r[om]=t,r},j$=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Ly(n,r,i),kT(function(){return ET(n,r,i)}),null},D$=_T(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[om],a=[r],c="";typeof e.className=="string"?c=ST(t.registered,a,e.className):e.className!=null&&(c=e.className+" ");var u=ch(a,void 0,E.useContext(Iy));c+=t.key+"-"+u.name;var f={};for(var h in e)$y.call(e,h)&&h!=="css"&&h!==om&&(f[h]=e[h]);return f.className=c,n&&(f.ref=n),E.createElement(E.Fragment,null,E.createElement(j$,{cache:t,serialized:u,isStringTag:typeof i=="string"}),E.createElement(i,f))}),L$=D$,xE=function(t,n){var r=arguments;if(n==null||!$y.call(n,"css"))return E.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=L$,a[1]=B$(t,n);for(var c=2;c<i;c++)a[c]=r[c];return E.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(xE||(xE={}));function I$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ch(t)}function Py(){var e=I$.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var $$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,P$=bT(function(e){return $$.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),z$=P$,H$=function(t){return t!=="theme"},gE=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?z$:H$},mE=function(t,n,r){var i;if(n){var a=n.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(c){return t.__emotion_forwardProp(c)&&a(c)}:a}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},U$=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Ly(n,r,i),kT(function(){return ET(n,r,i)}),null},F$=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,a,c;n!==void 0&&(a=n.label,c=n.target);var u=mE(t,n,r),f=u||gE(i),h=!f("as");return function(){var p=arguments,g=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var y=p[0];g.push(y[0]);for(var b=p.length,w=1;w<b;w++)g.push(p[w],y[w])}var S=_T(function(k,C,R){var O=h&&k.as||i,M="",A=[],N=k;if(k.theme==null){N={};for(var P in k)N[P]=k[P];N.theme=E.useContext(Iy)}typeof k.className=="string"?M=ST(C.registered,A,k.className):k.className!=null&&(M=k.className+" ");var $=ch(g.concat(A),C.registered,N);M+=C.key+"-"+$.name,c!==void 0&&(M+=" "+c);var I=h&&u===void 0?gE(O):f,_={};for(var F in k)h&&F==="as"||I(F)&&(_[F]=k[F]);return _.className=M,R&&(_.ref=R),E.createElement(E.Fragment,null,E.createElement(U$,{cache:C,serialized:$,isStringTag:typeof O=="string"}),E.createElement(O,_))});return S.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=g,S.__emotion_forwardProp=u,Object.defineProperty(S,"toString",{value:function(){return"."+c}}),S.withComponent=function(k,C){var R=e(k,Sf({},n,C,{shouldForwardProp:mE(S,C,!0)}));return R.apply(void 0,g)},S}},V$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],im=F$.bind(null);V$.forEach(function(e){im[e]=im(e)});function NT(e,t){return im(e,t)}function Y$(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const yE=[];function vE(e){return yE[0]=e,ch(yE)}var dg={exports:{}},Ot={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function G$(){if(bE)return Ot;bE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var k=S.$$typeof;switch(k){case e:switch(S=S.type,S){case n:case i:case r:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case c:case u:case g:case p:return S;case a:return S;default:return k}}case t:return k}}}return Ot.ContextConsumer=a,Ot.ContextProvider=c,Ot.Element=e,Ot.ForwardRef=u,Ot.Fragment=n,Ot.Lazy=g,Ot.Memo=p,Ot.Portal=t,Ot.Profiler=i,Ot.StrictMode=r,Ot.Suspense=f,Ot.SuspenseList=h,Ot.isContextConsumer=function(S){return w(S)===a},Ot.isContextProvider=function(S){return w(S)===c},Ot.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},Ot.isForwardRef=function(S){return w(S)===u},Ot.isFragment=function(S){return w(S)===n},Ot.isLazy=function(S){return w(S)===g},Ot.isMemo=function(S){return w(S)===p},Ot.isPortal=function(S){return w(S)===t},Ot.isProfiler=function(S){return w(S)===i},Ot.isStrictMode=function(S){return w(S)===r},Ot.isSuspense=function(S){return w(S)===f},Ot.isSuspenseList=function(S){return w(S)===h},Ot.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===c||S.$$typeof===a||S.$$typeof===u||S.$$typeof===b||S.getModuleId!==void 0)},Ot.typeOf=w,Ot}var wE;function q$(){return wE||(wE=1,dg.exports=G$()),dg.exports}var MT=q$();function go(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function AT(e){if(E.isValidElement(e)||MT.isValidElementType(e)||!go(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=AT(e[n])}),t}function br(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return go(e)&&go(t)&&Object.keys(t).forEach(i=>{E.isValidElement(t[i])||MT.isValidElementType(t[i])?r[i]=t[i]:go(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&go(e[i])?r[i]=br(e[i],t[i],n):n.clone?r[i]=go(t[i])?AT(t[i]):t[i]:r[i]=t[i]}),r}const X$=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function K$(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,a=X$(t),c=Object.keys(a);function u(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${n})`}function f(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-r/100}${n})`}function h(y,b){const w=c.indexOf(b);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${n}) and (max-width:${(w!==-1&&typeof t[c[w]]=="number"?t[c[w]]:b)-r/100}${n})`}function p(y){return c.indexOf(y)+1<c.length?h(y,c[c.indexOf(y)+1]):u(y)}function g(y){const b=c.indexOf(y);return b===0?u(c[1]):b===c.length-1?f(c[b]):h(y,c[c.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:c,values:a,up:u,down:f,between:h,only:p,not:g,unit:n,...i}}function Z$(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var c,u;const a=/min-width:\s*([0-9.]+)/;return+(((c=r.match(a))==null?void 0:c[1])||0)-+(((u=i.match(a))==null?void 0:u[1])||0)});return n.length?n.reduce((r,i)=>{const a=t[i];return delete r[i],r[i]=a,r},{...t}):t}function W$(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Q$(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(a)}function J$(e){const t=(a,c)=>a.replace("@media",c?`@container ${c}`:"@container");function n(a,c){a.up=(...u)=>t(e.breakpoints.up(...u),c),a.down=(...u)=>t(e.breakpoints.down(...u),c),a.between=(...u)=>t(e.breakpoints.between(...u),c),a.only=(...u)=>t(e.breakpoints.only(...u),c),a.not=(...u)=>{const f=t(e.breakpoints.not(...u),c);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=a=>(n(r,a),r);return n(i),{...e,containerQueries:i}}const eP={borderRadius:4};function kc(e,t){return t?br(e,t,{clone:!1}):e}const uh={xs:0,sm:600,md:900,lg:1200,xl:1536},SE={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${uh[e]}px)`},tP={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:uh[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Jo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||SE;return t.reduce((c,u,f)=>(c[a.up(a.keys[f])]=n(t[f]),c),{})}if(typeof t=="object"){const a=r.breakpoints||SE;return Object.keys(t).reduce((c,u)=>{if(W$(a.keys,u)){const f=Q$(r.containerQueries?r:tP,u);f&&(c[f]=n(t[u],u))}else if(Object.keys(a.values||uh).includes(u)){const f=a.up(u);c[f]=n(t[u],u)}else{const f=u;c[f]=t[f]}return c},{})}return n(t)}function nP(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const a=e.up(i);return r[a]={},r},{}))||{}}function rP(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Ui(e){if(typeof e!="string")throw new Error(Cs(7));return e.charAt(0).toUpperCase()+e.slice(1)}function dh(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Cf(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=dh(e,n)||r,t&&(i=t(i,r,e)),i}function an(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,a=c=>{if(c[t]==null)return null;const u=c[t],f=c.theme,h=dh(f,r)||{};return Jo(c,u,g=>{let y=Cf(h,i,g);return g===y&&typeof g=="string"&&(y=Cf(h,i,`${t}${g==="default"?"":Ui(g)}`,g)),n===!1?y:{[n]:y}})};return a.propTypes={},a.filterProps=[t],a}function oP(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const iP={m:"margin",p:"padding"},sP={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},EE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},aP=oP(e=>{if(e.length>2)if(EE[e])e=EE[e];else return[e];const[t,n]=e.split(""),r=iP[t],i=sP[n]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),zy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Hy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zy,...Hy];function Jc(e,t,n,r){const i=dh(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?i.startsWith("var(")&&a===0?0:i.startsWith("var(")&&a===1?i:`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const c=Math.abs(a),u=i[c];return a>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:()=>{}}function Uy(e){return Jc(e,"spacing",8)}function eu(e,t){return typeof t=="string"||t==null?t:e(t)}function lP(e,t){return n=>e.reduce((r,i)=>(r[i]=eu(t,n),r),{})}function cP(e,t,n,r){if(!t.includes(n))return null;const i=aP(n),a=lP(i,r),c=e[n];return Jo(e,c,a)}function RT(e,t){const n=Uy(e.theme);return Object.keys(e).map(r=>cP(e,t,r,n)).reduce(kc,{})}function Wt(e){return RT(e,zy)}Wt.propTypes={};Wt.filterProps=zy;function Qt(e){return RT(e,Hy)}Qt.propTypes={};Qt.filterProps=Hy;function OT(e=8,t=Uy({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const c=t(a);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function fh(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),n=r=>Object.keys(r).reduce((i,a)=>t[a]?kc(i,t[a](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Dr(e){return typeof e!="number"?e:`${e}px solid`}function Hr(e,t){return an({prop:e,themeKey:"borders",transform:t})}const uP=Hr("border",Dr),dP=Hr("borderTop",Dr),fP=Hr("borderRight",Dr),hP=Hr("borderBottom",Dr),pP=Hr("borderLeft",Dr),xP=Hr("borderColor"),gP=Hr("borderTopColor"),mP=Hr("borderRightColor"),yP=Hr("borderBottomColor"),vP=Hr("borderLeftColor"),bP=Hr("outline",Dr),wP=Hr("outlineColor"),hh=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Jc(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:eu(t,r)});return Jo(e,e.borderRadius,n)}return null};hh.propTypes={};hh.filterProps=["borderRadius"];fh(uP,dP,fP,hP,pP,xP,gP,mP,yP,vP,hh,bP,wP);const ph=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Jc(e.theme,"spacing",8),n=r=>({gap:eu(t,r)});return Jo(e,e.gap,n)}return null};ph.propTypes={};ph.filterProps=["gap"];const xh=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Jc(e.theme,"spacing",8),n=r=>({columnGap:eu(t,r)});return Jo(e,e.columnGap,n)}return null};xh.propTypes={};xh.filterProps=["columnGap"];const gh=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Jc(e.theme,"spacing",8),n=r=>({rowGap:eu(t,r)});return Jo(e,e.rowGap,n)}return null};gh.propTypes={};gh.filterProps=["rowGap"];const SP=an({prop:"gridColumn"}),EP=an({prop:"gridRow"}),CP=an({prop:"gridAutoFlow"}),kP=an({prop:"gridAutoColumns"}),TP=an({prop:"gridAutoRows"}),_P=an({prop:"gridTemplateColumns"}),NP=an({prop:"gridTemplateRows"}),MP=an({prop:"gridTemplateAreas"}),AP=an({prop:"gridArea"});fh(ph,xh,gh,SP,EP,CP,kP,TP,_P,NP,MP,AP);function Ia(e,t){return t==="grey"?t:e}const RP=an({prop:"color",themeKey:"palette",transform:Ia}),OP=an({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ia}),BP=an({prop:"backgroundColor",themeKey:"palette",transform:Ia});fh(RP,OP,BP);function mr(e){return e<=1&&e!==0?`${e*100}%`:e}const jP=an({prop:"width",transform:mr}),Fy=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,a,c,u,f;const r=((c=(a=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:a.values)==null?void 0:c[n])||uh[n];return r?((f=(u=e.theme)==null?void 0:u.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:mr(n)}};return Jo(e,e.maxWidth,t)}return null};Fy.filterProps=["maxWidth"];const DP=an({prop:"minWidth",transform:mr}),LP=an({prop:"height",transform:mr}),IP=an({prop:"maxHeight",transform:mr}),$P=an({prop:"minHeight",transform:mr});an({prop:"size",cssProperty:"width",transform:mr});an({prop:"size",cssProperty:"height",transform:mr});const PP=an({prop:"boxSizing"});fh(jP,Fy,DP,LP,IP,$P,PP);const tu={border:{themeKey:"borders",transform:Dr},borderTop:{themeKey:"borders",transform:Dr},borderRight:{themeKey:"borders",transform:Dr},borderBottom:{themeKey:"borders",transform:Dr},borderLeft:{themeKey:"borders",transform:Dr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Dr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:hh},color:{themeKey:"palette",transform:Ia},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ia},backgroundColor:{themeKey:"palette",transform:Ia},p:{style:Qt},pt:{style:Qt},pr:{style:Qt},pb:{style:Qt},pl:{style:Qt},px:{style:Qt},py:{style:Qt},padding:{style:Qt},paddingTop:{style:Qt},paddingRight:{style:Qt},paddingBottom:{style:Qt},paddingLeft:{style:Qt},paddingX:{style:Qt},paddingY:{style:Qt},paddingInline:{style:Qt},paddingInlineStart:{style:Qt},paddingInlineEnd:{style:Qt},paddingBlock:{style:Qt},paddingBlockStart:{style:Qt},paddingBlockEnd:{style:Qt},m:{style:Wt},mt:{style:Wt},mr:{style:Wt},mb:{style:Wt},ml:{style:Wt},mx:{style:Wt},my:{style:Wt},margin:{style:Wt},marginTop:{style:Wt},marginRight:{style:Wt},marginBottom:{style:Wt},marginLeft:{style:Wt},marginX:{style:Wt},marginY:{style:Wt},marginInline:{style:Wt},marginInlineStart:{style:Wt},marginInlineEnd:{style:Wt},marginBlock:{style:Wt},marginBlockStart:{style:Wt},marginBlockEnd:{style:Wt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ph},rowGap:{style:gh},columnGap:{style:xh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mr},maxWidth:{style:Fy},minWidth:{transform:mr},height:{transform:mr},maxHeight:{transform:mr},minHeight:{transform:mr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zP(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function HP(e,t){return typeof e=="function"?e(t):e}function UP(){function e(n,r,i,a){const c={[n]:r,theme:i},u=a[n];if(!u)return{[n]:r};const{cssProperty:f=n,themeKey:h,transform:p,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const y=dh(i,h)||{};return g?g(c):Jo(c,r,w=>{let S=Cf(y,p,w);return w===S&&typeof w=="string"&&(S=Cf(y,p,`${n}${w==="default"?"":Ui(w)}`,w)),f===!1?S:{[f]:S}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const a=i.unstable_sxConfig??tu;function c(u){let f=u;if(typeof u=="function")f=u(i);else if(typeof u!="object")return u;if(!f)return null;const h=nP(i.breakpoints),p=Object.keys(h);let g=h;return Object.keys(f).forEach(y=>{const b=HP(f[y],i);if(b!=null)if(typeof b=="object")if(a[y])g=kc(g,e(y,b,i,a));else{const w=Jo({theme:i},b,S=>({[y]:S}));zP(w,b)?g[y]=t({sx:b,theme:i}):g=kc(g,w)}else g=kc(g,e(y,b,i,a))}),Z$(i,rP(p,g))}return Array.isArray(r)?r.map(c):c(r)}return t}const ks=UP();ks.filterProps=["sx"];function FP(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Vy(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:a={},...c}=e,u=K$(n),f=OT(i);let h=br({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...eP,...a}},c);return h=J$(h),h.applyStyles=FP,h=t.reduce((p,g)=>br(p,g),h),h.unstable_sxConfig={...tu,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return ks({sx:g,theme:this})},h}function VP(e){return Object.keys(e).length===0}function YP(e=null){const t=E.useContext(Iy);return!t||VP(t)?e:t}const GP=Vy();function BT(e=GP){return YP(e)}const qP=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??tu;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function XP(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=qP(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...c)=>{const u=t(...c);return go(u)?{...r,...u}:r}:a={...r,...t},{...i,sx:a}}const CE=e=>e,KP=()=>{let e=CE;return{configure(t){e=t},generate(t){return e(t)},reset(){e=CE}}},jT=KP();function DT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Jt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DT(e))&&(r&&(r+=" "),r+=t);return r}function ZP(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,a=NT("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(ks);return E.forwardRef(function(f,h){const p=BT(n),{className:g,component:y="div",...b}=XP(f);return v.jsx(a,{as:y,ref:h,className:Jt(g,i?i(r):r),theme:t&&p[t]||p,...b})})}const WP={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Za(e,t,n="Mui"){const r=WP[t];return r?`${n}-${r}`:`${jT.generate(e)}-${t}`}function Ds(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Za(e,i,n)}),r}function LT(e){const{variants:t,...n}=e,r={variants:t,style:vE(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=vE(i.style))}),r}const QP=Vy();function fg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function JP(e){return e?(t,n)=>n[e]:null}function e8(e,t,n){e.theme=r8(e.theme)?n:e.theme[t]||e.theme}function ef(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>ef(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...a}=n;r=a}return IT(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function IT(e,t,n=[]){var i;let r;e:for(let a=0;a<t.length;a+=1){const c=t[a];if(typeof c.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!c.props(r))continue}else for(const u in c.props)if(e[u]!==c.props[u]&&((i=e.ownerState)==null?void 0:i[u])!==c.props[u])continue e;typeof c.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(c.style(r))):n.push(c.style)}return n}function t8(e={}){const{themeId:t,defaultTheme:n=QP,rootShouldForwardProp:r=fg,slotShouldForwardProp:i=fg}=e;function a(u){e8(u,t,n)}return(u,f={})=>{Y$(u,A=>A.filter(N=>N!==ks));const{name:h,slot:p,skipVariantsResolver:g,skipSx:y,overridesResolver:b=JP(i8(p)),...w}=f,S=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,k=y||!1;let C=fg;p==="Root"||p==="root"?C=r:p?C=i:o8(u)&&(C=void 0);const R=NT(u,{shouldForwardProp:C,label:n8(),...w}),O=A=>{if(typeof A=="function"&&A.__emotion_real!==A)return function(P){return ef(P,A)};if(go(A)){const N=LT(A);return N.variants?function($){return ef($,N)}:N.style}return A},M=(...A)=>{const N=[],P=A.map(O),$=[];if(N.push(a),h&&b&&$.push(function(ee){var j,G;const L=(G=(j=ee.theme.components)==null?void 0:j[h])==null?void 0:G.styleOverrides;if(!L)return null;const Y={};for(const Q in L)Y[Q]=ef(ee,L[Q]);return b(ee,Y)}),h&&!S&&$.push(function(ee){var Y,j;const K=ee.theme,L=(j=(Y=K==null?void 0:K.components)==null?void 0:Y[h])==null?void 0:j.variants;return L?IT(ee,L):null}),k||$.push(ks),Array.isArray(P[0])){const F=P.shift(),ee=new Array(N.length).fill(""),K=new Array($.length).fill("");let L;L=[...ee,...F,...K],L.raw=[...ee,...F.raw,...K],N.unshift(L)}const I=[...N,...P,...$],_=R(...I);return u.muiName&&(_.muiName=u.muiName),_};return R.withConfig&&(M.withConfig=R.withConfig),M}}function n8(e,t){return void 0}function r8(e){for(const t in e)return!1;return!0}function o8(e){return typeof e=="string"&&e.charCodeAt(0)>96}function i8(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function sm(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const a=e[i],c=t[i];if(!c)n[i]=a||{};else if(!a)n[i]=c;else{n[i]={...c};for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const f=u;n[i][f]=sm(a[f],c[f])}}}else n[i]===void 0&&(n[i]=e[i])}return n}const $T=typeof window<"u"?E.useLayoutEffect:E.useEffect;function s8(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Yy(e,t=0,n=1){return s8(e,t,n)}function a8(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Fi(e){if(e.type)return e;if(e.charAt(0)==="#")return Fi(a8(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Cs(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Cs(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}const l8=e=>{const t=Fi(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},gc=(e,t)=>{try{return l8(e)}catch{return e}};function mh(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,a)=>a<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function PT(e){e=Fi(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),c=(h,p=(h+n/30)%12)=>i-a*Math.max(Math.min(p-3,9-p,1),-1);let u="rgb";const f=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return e.type==="hsla"&&(u+="a",f.push(t[3])),mh({type:u,values:f})}function am(e){e=Fi(e);let t=e.type==="hsl"||e.type==="hsla"?Fi(PT(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c8(e,t){const n=am(e),r=am(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u8(e,t){return e=Fi(e),t=Yy(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,mh(e)}function kd(e,t,n){try{return u8(e,t)}catch{return e}}function Gy(e,t){if(e=Fi(e),t=Yy(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return mh(e)}function Lt(e,t,n){try{return Gy(e,t)}catch{return e}}function qy(e,t){if(e=Fi(e),t=Yy(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return mh(e)}function It(e,t,n){try{return qy(e,t)}catch{return e}}function d8(e,t=.15){return am(e)>.5?Gy(e,t):qy(e,t)}function Td(e,t,n){try{return d8(e,t)}catch{return e}}const f8=E.createContext(),zT=()=>E.useContext(f8)??!1,h8=E.createContext(void 0);function p8(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?sm(i.defaultProps,r):!i.styleOverrides&&!i.variants?sm(i,r):r}function x8({props:e,name:t}){const n=E.useContext(h8);return p8({props:e,name:t,theme:{components:n}})}const kE={theme:void 0};function g8(e){let t,n;return function(i){let a=t;return(a===void 0||i.theme!==n)&&(kE.theme=i.theme,a=LT(e(kE)),t=a,n=i.theme),a}}function m8(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const TE=(e,t,n,r=[])=>{let i=e;t.forEach((a,c)=>{c===t.length-1?Array.isArray(i)?i[Number(a)]=n:i&&typeof i=="object"&&(i[a]=n):i&&typeof i=="object"&&(i[a]||(i[a]=r.includes(a)?[]:{}),i=i[a])})},y8=(e,t,n)=>{function r(i,a=[],c=[]){Object.entries(i).forEach(([u,f])=>{(!n||n&&!n([...a,u]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...a,u],Array.isArray(f)?[...c,u]:c):t([...a,u],f,c))})}r(e)},v8=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function hg(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},a={},c={};return y8(e,(u,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(u,f))){const p=`--${n?`${n}-`:""}${u.join("-")}`,g=v8(u,f);Object.assign(i,{[p]:g}),TE(a,u,`var(${p})`,h),TE(c,u,`var(${p}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:a,varsWithDefaults:c}}function b8(e,t={}){const{getSelector:n=k,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:a={},components:c,defaultColorScheme:u="light",...f}=e,{vars:h,css:p,varsWithDefaults:g}=hg(f,t);let y=g;const b={},{[u]:w,...S}=a;if(Object.entries(S||{}).forEach(([O,M])=>{const{vars:A,css:N,varsWithDefaults:P}=hg(M,t);y=br(y,P),b[O]={css:N,vars:A}}),w){const{css:O,vars:M,varsWithDefaults:A}=hg(w,t);y=br(y,A),b[u]={css:O,vars:M}}function k(O,M){var N,P;let A=i;if(i==="class"&&(A=".%s"),i==="data"&&(A="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(A=`[${i}="%s"]`),O){if(A==="media")return e.defaultColorScheme===O?":root":{[`@media (prefers-color-scheme: ${((P=(N=a[O])==null?void 0:N.palette)==null?void 0:P.mode)||O})`]:{":root":M}};if(A)return e.defaultColorScheme===O?`:root, ${A.replace("%s",String(O))}`:A.replace("%s",String(O))}return":root"}return{vars:y,generateThemeVars:()=>{let O={...h};return Object.entries(b).forEach(([,{vars:M}])=>{O=br(O,M)}),O},generateStyleSheets:()=>{var $,I;const O=[],M=e.defaultColorScheme||"light";function A(_,F){Object.keys(F).length&&O.push(typeof _=="string"?{[_]:{...F}}:_)}A(n(void 0,{...p}),p);const{[M]:N,...P}=b;if(N){const{css:_}=N,F=(I=($=a[M])==null?void 0:$.palette)==null?void 0:I.mode,ee=!r&&F?{colorScheme:F,..._}:{..._};A(n(M,{...ee}),ee)}return Object.entries(P).forEach(([_,{css:F}])=>{var L,Y;const ee=(Y=(L=a[_])==null?void 0:L.palette)==null?void 0:Y.mode,K=!r&&ee?{colorScheme:ee,...F}:{...F};A(n(_,{...K}),K)}),O}}}function w8(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function nu(e,t,n=void 0){const r={};for(const i in e){const a=e[i];let c="",u=!0;for(let f=0;f<a.length;f+=1){const h=a[f];h&&(c+=(u===!0?"":" ")+t(h),u=!1,n&&n[h]&&(c+=" "+n[h]))}r[i]=c}return r}function HT(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Oc.white,default:Oc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const S8=HT();function UT(){return{text:{primary:Oc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Oc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const _E=UT();function NE(e,t,n,r){const i=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=qy(e.main,i):t==="dark"&&(e.dark=Gy(e.main,a)))}function E8(e="light"){return e==="dark"?{main:va[200],light:va[50],dark:va[400]}:{main:va[700],light:va[400],dark:va[800]}}function C8(e="light"){return e==="dark"?{main:ya[200],light:ya[50],dark:ya[400]}:{main:ya[500],light:ya[300],dark:ya[700]}}function k8(e="light"){return e==="dark"?{main:ma[500],light:ma[300],dark:ma[700]}:{main:ma[700],light:ma[400],dark:ma[800]}}function T8(e="light"){return e==="dark"?{main:ba[400],light:ba[300],dark:ba[700]}:{main:ba[700],light:ba[500],dark:ba[900]}}function _8(e="light"){return e==="dark"?{main:wa[400],light:wa[300],dark:wa[700]}:{main:wa[800],light:wa[500],dark:wa[900]}}function N8(e="light"){return e==="dark"?{main:ic[400],light:ic[300],dark:ic[700]}:{main:"#ed6c02",light:ic[500],dark:ic[900]}}function Xy(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,a=e.primary||E8(t),c=e.secondary||C8(t),u=e.error||k8(t),f=e.info||T8(t),h=e.success||_8(t),p=e.warning||N8(t);function g(S){return c8(S,_E.text.primary)>=n?_E.text.primary:S8.text.primary}const y=({color:S,name:k,mainShade:C=500,lightShade:R=300,darkShade:O=700})=>{if(S={...S},!S.main&&S[C]&&(S.main=S[C]),!S.hasOwnProperty("main"))throw new Error(Cs(11,k?` (${k})`:"",C));if(typeof S.main!="string")throw new Error(Cs(12,k?` (${k})`:"",JSON.stringify(S.main)));return NE(S,"light",R,r),NE(S,"dark",O,r),S.contrastText||(S.contrastText=g(S.main)),S};let b;return t==="light"?b=HT():t==="dark"&&(b=UT()),br({common:{...Oc},mode:t,primary:y({color:a,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:u,name:"error"}),warning:y({color:p,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey:GI,contrastThreshold:n,getContrastText:g,augmentColor:y,tonalOffset:r,...b},i)}function M8(e){const t={};return Object.entries(e).forEach(r=>{const[i,a]=r;typeof a=="object"&&(t[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function A8(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function R8(e){return Math.round(e*1e5)/1e5}const ME={textTransform:"uppercase"},AE='"Roboto", "Helvetica", "Arial", sans-serif';function O8(e,t){const{fontFamily:n=AE,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:c=500,fontWeightBold:u=700,htmlFontSize:f=16,allVariants:h,pxToRem:p,...g}=typeof t=="function"?t(e):t,y=r/14,b=p||(k=>`${k/f*y}rem`),w=(k,C,R,O,M)=>({fontFamily:n,fontWeight:k,fontSize:b(C),lineHeight:R,...n===AE?{letterSpacing:`${R8(O/C)}em`}:{},...M,...h}),S={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(a,48,1.167,0),h4:w(a,34,1.235,.25),h5:w(a,24,1.334,0),h6:w(c,20,1.6,.15),subtitle1:w(a,16,1.75,.15),subtitle2:w(c,14,1.57,.1),body1:w(a,16,1.5,.15),body2:w(a,14,1.43,.15),button:w(c,14,1.75,.4,ME),caption:w(a,12,1.66,.4),overline:w(a,12,2.66,1,ME),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return br({htmlFontSize:f,pxToRem:b,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:c,fontWeightBold:u,...S},g,{clone:!1})}const B8=.2,j8=.14,D8=.12;function Vt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${B8})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${j8})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${D8})`].join(",")}const L8=["none",Vt(0,2,1,-1,0,1,1,0,0,1,3,0),Vt(0,3,1,-2,0,2,2,0,0,1,5,0),Vt(0,3,3,-2,0,3,4,0,0,1,8,0),Vt(0,2,4,-1,0,4,5,0,0,1,10,0),Vt(0,3,5,-1,0,5,8,0,0,1,14,0),Vt(0,3,5,-1,0,6,10,0,0,1,18,0),Vt(0,4,5,-2,0,7,10,1,0,2,16,1),Vt(0,5,5,-3,0,8,10,1,0,3,14,2),Vt(0,5,6,-3,0,9,12,1,0,3,16,2),Vt(0,6,6,-3,0,10,14,1,0,4,18,3),Vt(0,6,7,-4,0,11,15,1,0,4,20,3),Vt(0,7,8,-4,0,12,17,2,0,5,22,4),Vt(0,7,8,-4,0,13,19,2,0,5,24,4),Vt(0,7,9,-4,0,14,21,2,0,5,26,4),Vt(0,8,9,-5,0,15,22,2,0,6,28,5),Vt(0,8,10,-5,0,16,24,2,0,6,30,5),Vt(0,8,11,-5,0,17,26,2,0,6,32,5),Vt(0,9,11,-5,0,18,28,2,0,7,34,6),Vt(0,9,12,-6,0,19,29,2,0,7,36,6),Vt(0,10,13,-6,0,20,31,3,0,8,38,7),Vt(0,10,13,-6,0,21,33,3,0,8,40,7),Vt(0,10,14,-6,0,22,35,3,0,8,42,7),Vt(0,11,14,-7,0,23,36,3,0,9,44,8),Vt(0,11,15,-7,0,24,38,3,0,9,46,8)],I8={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$8={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function RE(e){return`${Math.round(e)}ms`}function P8(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function z8(e){const t={...I8,...e.easing},n={...$8,...e.duration};return{getAutoHeightDuration:P8,create:(i=["all"],a={})=>{const{duration:c=n.standard,easing:u=t.easeInOut,delay:f=0,...h}=a;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof c=="string"?c:RE(c)} ${u} ${typeof f=="string"?f:RE(f)}`).join(",")},...e,easing:t,duration:n}}const H8={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function U8(e){return go(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function FT(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let a=0;a<i.length;a++){const[c,u]=i[a];!U8(u)||c.startsWith("unstable_")?delete r[c]:go(u)&&(r[c]={...u},n(r[c]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function lm(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:a={},transitions:c={},typography:u={},shape:f,...h}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Cs(20));const p=Xy(a),g=Vy(e);let y=br(g,{mixins:A8(g.breakpoints,r),palette:p,shadows:L8.slice(),typography:O8(p,u),transitions:z8(c),zIndex:{...H8}});return y=br(y,h),y=t.reduce((b,w)=>br(b,w),y),y.unstable_sxConfig={...tu,...h==null?void 0:h.unstable_sxConfig},y.unstable_sx=function(w){return ks({sx:w,theme:this})},y.toRuntimeSource=FT,y}function F8(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const V8=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=F8(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function VT(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function YT(e){return e==="dark"?V8:[]}function Y8(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,a=Xy(t);return{palette:a,opacity:{...VT(a.mode),...n},overlays:r||YT(a.mode),...i}}function G8(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const q8=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],X8=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const c={};return q8(e.cssVarPrefix).forEach(u=>{c[u]=n[u],delete n[u]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:c}}:a?{[a.replace("%s",t)]:c,[`${r}, ${a.replace("%s",t)}`]:n}:{[r]:{...n,...c}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r};function K8(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function de(e,t,n){!e[t]&&n&&(e[t]=n)}function mc(e){return typeof e!="string"||!e.startsWith("hsl")?e:PT(e)}function Ho(e,t){`${t}Channel`in e||(e[`${t}Channel`]=gc(mc(e[t])))}function Z8(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const lo=e=>{try{return e()}catch{}},W8=(e="mui")=>m8(e);function pg(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Y8({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:a,...c}=lm({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:a,opacity:{...VT(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||YT(i)},c}function Q8(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:c=G8,colorSchemeSelector:u=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...h}=e,p=Object.keys(n)[0],g=r||(n.light&&p!=="light"?"light":p),y=W8(a),{[g]:b,light:w,dark:S,...k}=n,C={...k};let R=b;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(R=!0),!R)throw new Error(Cs(21,g));const O=pg(C,R,h,g);w&&!C.light&&pg(C,w,void 0,"light"),S&&!C.dark&&pg(C,S,void 0,"dark");let M={defaultColorScheme:g,...O,cssVarPrefix:a,colorSchemeSelector:u,rootSelector:f,getCssVar:y,colorSchemes:C,font:{...M8(O.typography),...O.font},spacing:Z8(h.spacing)};Object.keys(M.colorSchemes).forEach(I=>{const _=M.colorSchemes[I].palette,F=ee=>{const K=ee.split("-"),L=K[1],Y=K[2];return y(ee,_[L][Y])};if(_.mode==="light"&&(de(_.common,"background","#fff"),de(_.common,"onBackground","#000")),_.mode==="dark"&&(de(_.common,"background","#000"),de(_.common,"onBackground","#fff")),K8(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){de(_.Alert,"errorColor",Lt(_.error.light,.6)),de(_.Alert,"infoColor",Lt(_.info.light,.6)),de(_.Alert,"successColor",Lt(_.success.light,.6)),de(_.Alert,"warningColor",Lt(_.warning.light,.6)),de(_.Alert,"errorFilledBg",F("palette-error-main")),de(_.Alert,"infoFilledBg",F("palette-info-main")),de(_.Alert,"successFilledBg",F("palette-success-main")),de(_.Alert,"warningFilledBg",F("palette-warning-main")),de(_.Alert,"errorFilledColor",lo(()=>_.getContrastText(_.error.main))),de(_.Alert,"infoFilledColor",lo(()=>_.getContrastText(_.info.main))),de(_.Alert,"successFilledColor",lo(()=>_.getContrastText(_.success.main))),de(_.Alert,"warningFilledColor",lo(()=>_.getContrastText(_.warning.main))),de(_.Alert,"errorStandardBg",It(_.error.light,.9)),de(_.Alert,"infoStandardBg",It(_.info.light,.9)),de(_.Alert,"successStandardBg",It(_.success.light,.9)),de(_.Alert,"warningStandardBg",It(_.warning.light,.9)),de(_.Alert,"errorIconColor",F("palette-error-main")),de(_.Alert,"infoIconColor",F("palette-info-main")),de(_.Alert,"successIconColor",F("palette-success-main")),de(_.Alert,"warningIconColor",F("palette-warning-main")),de(_.AppBar,"defaultBg",F("palette-grey-100")),de(_.Avatar,"defaultBg",F("palette-grey-400")),de(_.Button,"inheritContainedBg",F("palette-grey-300")),de(_.Button,"inheritContainedHoverBg",F("palette-grey-A100")),de(_.Chip,"defaultBorder",F("palette-grey-400")),de(_.Chip,"defaultAvatarColor",F("palette-grey-700")),de(_.Chip,"defaultIconColor",F("palette-grey-700")),de(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),de(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),de(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),de(_.LinearProgress,"primaryBg",It(_.primary.main,.62)),de(_.LinearProgress,"secondaryBg",It(_.secondary.main,.62)),de(_.LinearProgress,"errorBg",It(_.error.main,.62)),de(_.LinearProgress,"infoBg",It(_.info.main,.62)),de(_.LinearProgress,"successBg",It(_.success.main,.62)),de(_.LinearProgress,"warningBg",It(_.warning.main,.62)),de(_.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),de(_.Slider,"primaryTrack",It(_.primary.main,.62)),de(_.Slider,"secondaryTrack",It(_.secondary.main,.62)),de(_.Slider,"errorTrack",It(_.error.main,.62)),de(_.Slider,"infoTrack",It(_.info.main,.62)),de(_.Slider,"successTrack",It(_.success.main,.62)),de(_.Slider,"warningTrack",It(_.warning.main,.62));const ee=Td(_.background.default,.8);de(_.SnackbarContent,"bg",ee),de(_.SnackbarContent,"color",lo(()=>_.getContrastText(ee))),de(_.SpeedDialAction,"fabHoverBg",Td(_.background.paper,.15)),de(_.StepConnector,"border",F("palette-grey-400")),de(_.StepContent,"border",F("palette-grey-400")),de(_.Switch,"defaultColor",F("palette-common-white")),de(_.Switch,"defaultDisabledColor",F("palette-grey-100")),de(_.Switch,"primaryDisabledColor",It(_.primary.main,.62)),de(_.Switch,"secondaryDisabledColor",It(_.secondary.main,.62)),de(_.Switch,"errorDisabledColor",It(_.error.main,.62)),de(_.Switch,"infoDisabledColor",It(_.info.main,.62)),de(_.Switch,"successDisabledColor",It(_.success.main,.62)),de(_.Switch,"warningDisabledColor",It(_.warning.main,.62)),de(_.TableCell,"border",It(kd(_.divider,1),.88)),de(_.Tooltip,"bg",kd(_.grey[700],.92))}if(_.mode==="dark"){de(_.Alert,"errorColor",It(_.error.light,.6)),de(_.Alert,"infoColor",It(_.info.light,.6)),de(_.Alert,"successColor",It(_.success.light,.6)),de(_.Alert,"warningColor",It(_.warning.light,.6)),de(_.Alert,"errorFilledBg",F("palette-error-dark")),de(_.Alert,"infoFilledBg",F("palette-info-dark")),de(_.Alert,"successFilledBg",F("palette-success-dark")),de(_.Alert,"warningFilledBg",F("palette-warning-dark")),de(_.Alert,"errorFilledColor",lo(()=>_.getContrastText(_.error.dark))),de(_.Alert,"infoFilledColor",lo(()=>_.getContrastText(_.info.dark))),de(_.Alert,"successFilledColor",lo(()=>_.getContrastText(_.success.dark))),de(_.Alert,"warningFilledColor",lo(()=>_.getContrastText(_.warning.dark))),de(_.Alert,"errorStandardBg",Lt(_.error.light,.9)),de(_.Alert,"infoStandardBg",Lt(_.info.light,.9)),de(_.Alert,"successStandardBg",Lt(_.success.light,.9)),de(_.Alert,"warningStandardBg",Lt(_.warning.light,.9)),de(_.Alert,"errorIconColor",F("palette-error-main")),de(_.Alert,"infoIconColor",F("palette-info-main")),de(_.Alert,"successIconColor",F("palette-success-main")),de(_.Alert,"warningIconColor",F("palette-warning-main")),de(_.AppBar,"defaultBg",F("palette-grey-900")),de(_.AppBar,"darkBg",F("palette-background-paper")),de(_.AppBar,"darkColor",F("palette-text-primary")),de(_.Avatar,"defaultBg",F("palette-grey-600")),de(_.Button,"inheritContainedBg",F("palette-grey-800")),de(_.Button,"inheritContainedHoverBg",F("palette-grey-700")),de(_.Chip,"defaultBorder",F("palette-grey-700")),de(_.Chip,"defaultAvatarColor",F("palette-grey-300")),de(_.Chip,"defaultIconColor",F("palette-grey-300")),de(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),de(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),de(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),de(_.LinearProgress,"primaryBg",Lt(_.primary.main,.5)),de(_.LinearProgress,"secondaryBg",Lt(_.secondary.main,.5)),de(_.LinearProgress,"errorBg",Lt(_.error.main,.5)),de(_.LinearProgress,"infoBg",Lt(_.info.main,.5)),de(_.LinearProgress,"successBg",Lt(_.success.main,.5)),de(_.LinearProgress,"warningBg",Lt(_.warning.main,.5)),de(_.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),de(_.Slider,"primaryTrack",Lt(_.primary.main,.5)),de(_.Slider,"secondaryTrack",Lt(_.secondary.main,.5)),de(_.Slider,"errorTrack",Lt(_.error.main,.5)),de(_.Slider,"infoTrack",Lt(_.info.main,.5)),de(_.Slider,"successTrack",Lt(_.success.main,.5)),de(_.Slider,"warningTrack",Lt(_.warning.main,.5));const ee=Td(_.background.default,.98);de(_.SnackbarContent,"bg",ee),de(_.SnackbarContent,"color",lo(()=>_.getContrastText(ee))),de(_.SpeedDialAction,"fabHoverBg",Td(_.background.paper,.15)),de(_.StepConnector,"border",F("palette-grey-600")),de(_.StepContent,"border",F("palette-grey-600")),de(_.Switch,"defaultColor",F("palette-grey-300")),de(_.Switch,"defaultDisabledColor",F("palette-grey-600")),de(_.Switch,"primaryDisabledColor",Lt(_.primary.main,.55)),de(_.Switch,"secondaryDisabledColor",Lt(_.secondary.main,.55)),de(_.Switch,"errorDisabledColor",Lt(_.error.main,.55)),de(_.Switch,"infoDisabledColor",Lt(_.info.main,.55)),de(_.Switch,"successDisabledColor",Lt(_.success.main,.55)),de(_.Switch,"warningDisabledColor",Lt(_.warning.main,.55)),de(_.TableCell,"border",Lt(kd(_.divider,1),.68)),de(_.Tooltip,"bg",kd(_.grey[700],.92))}Ho(_.background,"default"),Ho(_.background,"paper"),Ho(_.common,"background"),Ho(_.common,"onBackground"),Ho(_,"divider"),Object.keys(_).forEach(ee=>{const K=_[ee];ee!=="tonalOffset"&&K&&typeof K=="object"&&(K.main&&de(_[ee],"mainChannel",gc(mc(K.main))),K.light&&de(_[ee],"lightChannel",gc(mc(K.light))),K.dark&&de(_[ee],"darkChannel",gc(mc(K.dark))),K.contrastText&&de(_[ee],"contrastTextChannel",gc(mc(K.contrastText))),ee==="text"&&(Ho(_[ee],"primary"),Ho(_[ee],"secondary")),ee==="action"&&(K.active&&Ho(_[ee],"active"),K.selected&&Ho(_[ee],"selected")))})}),M=t.reduce((I,_)=>br(I,_),M);const A={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:c,getSelector:X8(M)},{vars:N,generateThemeVars:P,generateStyleSheets:$}=b8(M,A);return M.vars=N,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([I,_])=>{M[I]=_}),M.generateThemeVars=P,M.generateStyleSheets=$,M.generateSpacing=function(){return OT(h.spacing,Uy(this))},M.getColorSchemeSelector=w8(u),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=c,M.unstable_sxConfig={...tu,...h==null?void 0:h.unstable_sxConfig},M.unstable_sx=function(_){return ks({sx:_,theme:this})},M.toRuntimeSource=FT,M}function OE(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Xy({...n===!0?{}:n.palette,mode:t})})}function GT(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...c}=e,u=a||"light",f=i==null?void 0:i[u],h={...i,...n?{[u]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return lm(e,...t);let p=n;"palette"in e||h[u]&&(h[u]!==!0?p=h[u].palette:u==="dark"&&(p={mode:"dark"}));const g=lm({...e,palette:p},...t);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},OE(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},OE(g,"light",h.light)),g}return!n&&!("light"in h)&&u==="light"&&(h.light=!0),Q8({...c,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...t)}const qT=GT();function J8(){const e=BT(qT);return e[Oy]||e}function ez(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const tz=e=>ez(e)&&e!=="classes",Qr=t8({themeId:Oy,defaultTheme:qT,rootShouldForwardProp:tz}),yh=g8;function Wa(e){return x8(e)}function nz(e){return Za("MuiSvgIcon",e)}Ds("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rz=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Ui(t)}`,`fontSize${Ui(n)}`]};return nu(i,nz,r)},oz=Qr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ui(n.color)}`],t[`fontSize${Ui(n.fontSize)}`]]}})(yh(({theme:e})=>{var t,n,r,i,a,c,u,f,h,p,g,y,b,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((c=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:c.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:f.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(h=e.typography)==null?void 0:h.pxToRem)==null?void 0:p.call(h,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,S])=>S&&S.main).map(([S])=>{var k,C;return{props:{color:S},style:{color:(C=(k=(e.vars??e).palette)==null?void 0:k[S])==null?void 0:C.main}}}),{props:{color:"action"},style:{color:(y=(g=(e.vars??e).palette)==null?void 0:g.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(w=(b=(e.vars??e).palette)==null?void 0:b.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),cm=E.forwardRef(function(t,n){const r=Wa({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:c="inherit",component:u="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:p=!1,titleAccess:g,viewBox:y="0 0 24 24",...b}=r,w=E.isValidElement(i)&&i.type==="svg",S={...r,color:c,component:u,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:w},k={};p||(k.viewBox=y);const C=rz(S);return v.jsxs(oz,{as:u,className:Jt(C.root,a),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...k,...b,...w&&i.props,ownerState:S,children:[w?i.props.children:i,g?v.jsx("title",{children:g}):null]})});cm.muiName="SvgIcon";function Ky(e,t){function n(r,i){return v.jsx(cm,{"data-testid":void 0,ref:i,...r,children:e})}return n.muiName=cm.muiName,E.memo(E.forwardRef(n))}function XT(e,t=166){let n;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(a,t)}return r.clear=()=>{clearTimeout(n)},r}function KT(e){return e&&e.ownerDocument||document}function ZT(e){return KT(e).defaultView||window}function bs(e){const t=E.useRef(e);return $T(()=>{t.current=e}),E.useRef((...n)=>(0,t.current)(...n)).current}function kf(...e){const t=E.useRef(void 0),n=E.useCallback(r=>{const i=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const c=a,u=c(r);return typeof u=="function"?u:()=>{c(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},e);return E.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function iz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function um(e,t){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},um(e,t)}function sz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,um(e,t)}const BE=le.createContext(null);function az(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zy(e,t){var n=function(a){return t&&E.isValidElement(a)?t(a):a},r=Object.create(null);return e&&E.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function lz(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var c,u={};for(var f in t){if(r[f])for(c=0;c<r[f].length;c++){var h=r[f][c];u[r[f][c]]=n(h)}u[f]=n(f)}for(c=0;c<i.length;c++)u[i[c]]=n(i[c]);return u}function gs(e,t,n){return n[t]!=null?n[t]:e.props[t]}function cz(e,t){return Zy(e.children,function(n){return E.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:gs(n,"appear",e),enter:gs(n,"enter",e),exit:gs(n,"exit",e)})})}function uz(e,t,n){var r=Zy(e.children),i=lz(t,r);return Object.keys(i).forEach(function(a){var c=i[a];if(E.isValidElement(c)){var u=a in t,f=a in r,h=t[a],p=E.isValidElement(h)&&!h.props.in;f&&(!u||p)?i[a]=E.cloneElement(c,{onExited:n.bind(null,c),in:!0,exit:gs(c,"exit",e),enter:gs(c,"enter",e)}):!f&&u&&!p?i[a]=E.cloneElement(c,{in:!1}):f&&u&&E.isValidElement(h)&&(i[a]=E.cloneElement(c,{onExited:n.bind(null,c),in:h.props.in,exit:gs(c,"exit",e),enter:gs(c,"enter",e)}))}}),i}var dz=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},fz={component:"div",childFactory:function(t){return t}},Wy=function(e){sz(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var c=a.handleExited.bind(az(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var c=a.children,u=a.handleExited,f=a.firstRender;return{children:f?cz(i,u):uz(i,c,u),firstRender:!1}},n.handleExited=function(i,a){var c=Zy(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(u){var f=Sf({},u.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,a=i.component,c=i.childFactory,u=iz(i,["component","childFactory"]),f=this.state.contextValue,h=dz(this.state.children).map(c);return delete u.appear,delete u.enter,delete u.exit,a===null?le.createElement(BE.Provider,{value:f},h):le.createElement(BE.Provider,{value:f},le.createElement(a,u,h))},t}(le.Component);Wy.propTypes={};Wy.defaultProps=fz;const jE={};function WT(e,t){const n=E.useRef(jE);return n.current===jE&&(n.current=e(t)),n}const hz=[];function pz(e){E.useEffect(e,hz)}class Qy{constructor(){Yl(this,"currentId",null);Yl(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Yl(this,"disposeEffect",()=>this.clear)}static create(){return new Qy}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function xz(){const e=WT(Qy.create).current;return pz(e.disposeEffect),e}function gz(e){return typeof e=="string"}function QT(e,t,n){return e===void 0||gz(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function JT(e,t,n){return typeof e=="function"?e(t,n):e}function mz(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function DE(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function e_(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){const b=Jt(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),w={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...n,...i,...r};return b.length>0&&(S.className=b),Object.keys(w).length>0&&(S.style=w),{props:S,internalRef:void 0}}const c=mz({...i,...r}),u=DE(r),f=DE(i),h=t(c),p=Jt(h==null?void 0:h.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),g={...h==null?void 0:h.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...h,...n,...f,...u};return p.length>0&&(y.className=p),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:h.ref}}function Sa(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:a,internalForwardedProps:c,shouldForwardComponentProp:u=!1,...f}=t,{component:h,slots:p={[e]:void 0},slotProps:g={[e]:void 0},...y}=a,b=p[e]||r,w=JT(g[e],i),{props:{component:S,...k},internalRef:C}=e_({className:n,...f,externalForwardedProps:e==="root"?y:void 0,externalSlotProps:w}),R=kf(C,w==null?void 0:w.ref,t.ref),O=e==="root"?S||h:S,M=QT(b,{...e==="root"&&!h&&!p[e]&&c,...e!=="root"&&!p[e]&&c,...k,...O&&!u&&{as:O},...O&&u&&{component:O},ref:R},i);return[b,M]}function LE(e){try{return e.matches(":focus-visible")}catch{}return!1}class Tf{constructor(){Yl(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Tf}static use(){const t=WT(Tf.create).current,[n,r]=E.useState(!1);return t.shouldMount=n,t.setShouldMount=r,E.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=vz(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function yz(){return Tf.use()}function vz(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function bz(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:a,rippleSize:c,in:u,onExited:f,timeout:h}=e,[p,g]=E.useState(!1),y=Jt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),b={width:c,height:c,top:-(c/2)+a,left:-(c/2)+i},w=Jt(n.child,p&&n.childLeaving,r&&n.childPulsate);return!u&&!p&&g(!0),E.useEffect(()=>{if(!u&&f!=null){const S=setTimeout(f,h);return()=>{clearTimeout(S)}}},[f,u,h]),v.jsx("span",{className:y,style:b,children:v.jsx("span",{className:w})})}const jr=Ds("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),dm=550,wz=80,Sz=Py`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Ez=Py`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Cz=Py`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,kz=Qr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Tz=Qr(bz,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${jr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Sz};
    animation-duration: ${dm}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${jr.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${jr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${jr.childLeaving} {
    opacity: 0;
    animation-name: ${Ez};
    animation-duration: ${dm}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${jr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Cz};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,_z=E.forwardRef(function(t,n){const r=Wa({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:c,...u}=r,[f,h]=E.useState([]),p=E.useRef(0),g=E.useRef(null);E.useEffect(()=>{g.current&&(g.current(),g.current=null)},[f]);const y=E.useRef(!1),b=xz(),w=E.useRef(null),S=E.useRef(null),k=E.useCallback(M=>{const{pulsate:A,rippleX:N,rippleY:P,rippleSize:$,cb:I}=M;h(_=>[..._,v.jsx(Tz,{classes:{ripple:Jt(a.ripple,jr.ripple),rippleVisible:Jt(a.rippleVisible,jr.rippleVisible),ripplePulsate:Jt(a.ripplePulsate,jr.ripplePulsate),child:Jt(a.child,jr.child),childLeaving:Jt(a.childLeaving,jr.childLeaving),childPulsate:Jt(a.childPulsate,jr.childPulsate)},timeout:dm,pulsate:A,rippleX:N,rippleY:P,rippleSize:$},p.current)]),p.current+=1,g.current=I},[a]),C=E.useCallback((M={},A={},N=()=>{})=>{const{pulsate:P=!1,center:$=i||A.pulsate,fakeElement:I=!1}=A;if((M==null?void 0:M.type)==="mousedown"&&y.current){y.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(y.current=!0);const _=I?null:S.current,F=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ee,K,L;if($||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)ee=Math.round(F.width/2),K=Math.round(F.height/2);else{const{clientX:Y,clientY:j}=M.touches&&M.touches.length>0?M.touches[0]:M;ee=Math.round(Y-F.left),K=Math.round(j-F.top)}if($)L=Math.sqrt((2*F.width**2+F.height**2)/3),L%2===0&&(L+=1);else{const Y=Math.max(Math.abs((_?_.clientWidth:0)-ee),ee)*2+2,j=Math.max(Math.abs((_?_.clientHeight:0)-K),K)*2+2;L=Math.sqrt(Y**2+j**2)}M!=null&&M.touches?w.current===null&&(w.current=()=>{k({pulsate:P,rippleX:ee,rippleY:K,rippleSize:L,cb:N})},b.start(wz,()=>{w.current&&(w.current(),w.current=null)})):k({pulsate:P,rippleX:ee,rippleY:K,rippleSize:L,cb:N})},[i,k,b]),R=E.useCallback(()=>{C({},{pulsate:!0})},[C]),O=E.useCallback((M,A)=>{if(b.clear(),(M==null?void 0:M.type)==="touchend"&&w.current){w.current(),w.current=null,b.start(0,()=>{O(M,A)});return}w.current=null,h(N=>N.length>0?N.slice(1):N),g.current=A},[b]);return E.useImperativeHandle(n,()=>({pulsate:R,start:C,stop:O}),[R,C,O]),v.jsx(kz,{className:Jt(jr.root,a.root,c),ref:S,...u,children:v.jsx(Wy,{component:null,exit:!0,children:f})})});function Nz(e){return Za("MuiButtonBase",e)}const Mz=Ds("MuiButtonBase",["root","disabled","focusVisible"]),Az=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,c=nu({root:["root",t&&"disabled",n&&"focusVisible"]},Nz,i);return n&&r&&(c.root+=` ${r}`),c},Rz=Qr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Mz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),t_=E.forwardRef(function(t,n){const r=Wa({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:c,className:u,component:f="button",disabled:h=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:y=!1,focusVisibleClassName:b,LinkComponent:w="a",onBlur:S,onClick:k,onContextMenu:C,onDragLeave:R,onFocus:O,onFocusVisible:M,onKeyDown:A,onKeyUp:N,onMouseDown:P,onMouseLeave:$,onMouseUp:I,onTouchEnd:_,onTouchMove:F,onTouchStart:ee,tabIndex:K=0,TouchRippleProps:L,touchRippleRef:Y,type:j,...G}=r,Q=E.useRef(null),V=yz(),B=kf(V.ref,Y),[H,W]=E.useState(!1);h&&H&&W(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{W(!0),Q.current.focus()}}),[]);const re=V.shouldMount&&!p&&!h;E.useEffect(()=>{H&&y&&!p&&V.pulsate()},[p,y,H,V]);const ae=Uo(V,"start",P,g),ye=Uo(V,"stop",C,g),me=Uo(V,"stop",R,g),Ne=Uo(V,"stop",I,g),ue=Uo(V,"stop",Oe=>{H&&Oe.preventDefault(),$&&$(Oe)},g),be=Uo(V,"start",ee,g),Ce=Uo(V,"stop",_,g),Ue=Uo(V,"stop",F,g),Te=Uo(V,"stop",Oe=>{LE(Oe.target)||W(!1),S&&S(Oe)},!1),Ke=bs(Oe=>{Q.current||(Q.current=Oe.currentTarget),LE(Oe.target)&&(W(!0),M&&M(Oe)),O&&O(Oe)}),Be=()=>{const Oe=Q.current;return f&&f!=="button"&&!(Oe.tagName==="A"&&Oe.href)},Fe=bs(Oe=>{y&&!Oe.repeat&&H&&Oe.key===" "&&V.stop(Oe,()=>{V.start(Oe)}),Oe.target===Oe.currentTarget&&Be()&&Oe.key===" "&&Oe.preventDefault(),A&&A(Oe),Oe.target===Oe.currentTarget&&Be()&&Oe.key==="Enter"&&!h&&(Oe.preventDefault(),k&&k(Oe))}),Ve=bs(Oe=>{y&&Oe.key===" "&&H&&!Oe.defaultPrevented&&V.stop(Oe,()=>{V.pulsate(Oe)}),N&&N(Oe),k&&Oe.target===Oe.currentTarget&&Be()&&Oe.key===" "&&!Oe.defaultPrevented&&k(Oe)});let _e=f;_e==="button"&&(G.href||G.to)&&(_e=w);const Se={};_e==="button"?(Se.type=j===void 0?"button":j,Se.disabled=h):(!G.href&&!G.to&&(Se.role="button"),h&&(Se["aria-disabled"]=h));const ze=kf(n,Q),ft={...r,centerRipple:a,component:f,disabled:h,disableRipple:p,disableTouchRipple:g,focusRipple:y,tabIndex:K,focusVisible:H},it=Az(ft);return v.jsxs(Rz,{as:_e,className:Jt(it.root,u),ownerState:ft,onBlur:Te,onClick:k,onContextMenu:ye,onFocus:Ke,onKeyDown:Fe,onKeyUp:Ve,onMouseDown:ae,onMouseLeave:ue,onMouseUp:Ne,onDragLeave:me,onTouchEnd:Ce,onTouchMove:Ue,onTouchStart:be,ref:ze,tabIndex:h?-1:K,type:j,...Se,...G,children:[c,re?v.jsx(_z,{ref:B,center:a,...L}):null]})});function Uo(e,t,n,r=!1){return bs(i=>(n&&n(i),r||e[t](i),!0))}function _f(e){var g;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...a}=e,c=i?{}:JT(n,r),{props:u,internalRef:f}=e_({...a,externalSlotProps:c}),h=kf(f,c==null?void 0:c.ref,(g=e.additionalProps)==null?void 0:g.ref);return QT(t,{...u,ref:h},r)}const Oz=Ds("MuiBox",["root"]),Bz=GT(),jz=ZP({themeId:Oy,defaultTheme:Bz,defaultClassName:Oz.root,generateClassName:jT.generate});function Dz(e){return Za("MuiTab",e)}const Or=Ds("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Lz=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:a,label:c,selected:u,disabled:f}=e,h={root:["root",a&&c&&"labelIcon",`textColor${Ui(n)}`,r&&"fullWidth",i&&"wrapped",u&&"selected",f&&"disabled"],icon:["iconWrapper","icon"]};return nu(h,Dz,t)},Iz=Qr(t_,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ui(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Or.iconWrapper}`]:t.iconWrapper},{[`& .${Or.icon}`]:t.icon}]}})(yh(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${Or.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${Or.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${Or.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${Or.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Or.selected}`]:{opacity:1},[`&.${Or.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Or.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Or.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Or.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Or.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),IE=E.forwardRef(function(t,n){const r=Wa({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:c=!1,fullWidth:u,icon:f,iconPosition:h="top",indicator:p,label:g,onChange:y,onClick:b,onFocus:w,selected:S,selectionFollowsFocus:k,textColor:C="inherit",value:R,wrapped:O=!1,...M}=r,A={...r,disabled:a,disableFocusRipple:c,selected:S,icon:!!f,iconPosition:h,label:!!g,fullWidth:u,textColor:C,wrapped:O},N=Lz(A),P=f&&g&&E.isValidElement(f)?E.cloneElement(f,{className:Jt(N.icon,f.props.className)}):f,$=_=>{!S&&y&&y(_,R),b&&b(_)},I=_=>{k&&!S&&y&&y(_,R),w&&w(_)};return v.jsxs(Iz,{focusRipple:!c,className:Jt(N.root,i),ref:n,role:"tab","aria-selected":S,disabled:a,onClick:$,onFocus:I,ownerState:A,tabIndex:S?0:-1,...M,children:[h==="top"||h==="start"?v.jsxs(E.Fragment,{children:[P,g]}):v.jsxs(E.Fragment,{children:[g,P]}),p]})}),$z=Ky(v.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Pz=Ky(v.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function zz(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Hz(e,t,n,r={},i=()=>{}){const{ease:a=zz,duration:c=300}=r;let u=null;const f=t[e];let h=!1;const p=()=>{h=!0},g=y=>{if(h){i(new Error("Animation cancelled"));return}u===null&&(u=y);const b=Math.min(1,(y-u)/c);if(t[e]=a(b)*(n-f)+f,b>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(g)};return f===n?(i(new Error("Element already at target position")),p):(requestAnimationFrame(g),p)}const Uz={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Fz(e){const{onChange:t,...n}=e,r=E.useRef(),i=E.useRef(null),a=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return $T(()=>{const c=XT(()=>{const f=r.current;a(),f!==r.current&&t(r.current)}),u=ZT(i.current);return u.addEventListener("resize",c),()=>{c.clear(),u.removeEventListener("resize",c)}},[t]),E.useEffect(()=>{a(),t(r.current)},[t]),v.jsx("div",{style:Uz,...n,ref:i})}function Vz(e){return Za("MuiTabScrollButton",e)}const Yz=Ds("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Gz=e=>{const{classes:t,orientation:n,disabled:r}=e;return nu({root:["root",n,r&&"disabled"]},Vz,t)},qz=Qr(t_,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Yz.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Xz=E.forwardRef(function(t,n){const r=Wa({props:t,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:c={},direction:u,orientation:f,disabled:h,...p}=r,g=zT(),y={isRtl:g,...r},b=Gz(y),w=a.StartScrollButtonIcon??$z,S=a.EndScrollButtonIcon??Pz,k=_f({elementType:w,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),C=_f({elementType:S,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return v.jsx(qz,{component:"div",className:Jt(b.root,i),ref:n,role:null,ownerState:y,tabIndex:null,...p,style:{...p.style,...f==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${g?-90:90}deg)`}},children:u==="left"?v.jsx(w,{...k}):v.jsx(S,{...C})})});function Kz(e){return Za("MuiTabs",e)}const xg=Ds("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),$E=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,PE=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,_d=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=n(e,i);else{i.focus();return}}},Zz=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:a,centered:c,scrollButtonsHideMobile:u,classes:f}=e;return nu({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",c&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Kz,f)},Wz=Qr("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${xg.scrollButtons}`]:t.scrollButtons},{[`& .${xg.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(yh(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${xg.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),Qz=Qr("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Jz=Qr("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),e7=Qr("span",{name:"MuiTabs",slot:"Indicator"})(yh(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),t7=Qr(Fz)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),zE={},n7=E.forwardRef(function(t,n){const r=Wa({props:t,name:"MuiTabs"}),i=J8(),a=zT(),{"aria-label":c,"aria-labelledby":u,action:f,centered:h=!1,children:p,className:g,component:y="div",allowScrollButtonsMobile:b=!1,indicatorColor:w="primary",onChange:S,orientation:k="horizontal",ScrollButtonComponent:C,scrollButtons:R="auto",selectionFollowsFocus:O,slots:M={},slotProps:A={},TabIndicatorProps:N={},TabScrollButtonProps:P={},textColor:$="primary",value:I,variant:_="standard",visibleScrollbar:F=!1,...ee}=r,K=_==="scrollable",L=k==="vertical",Y=L?"scrollTop":"scrollLeft",j=L?"top":"left",G=L?"bottom":"right",Q=L?"clientHeight":"clientWidth",V=L?"height":"width",B={...r,component:y,allowScrollButtonsMobile:b,indicatorColor:w,orientation:k,vertical:L,scrollButtons:R,textColor:$,variant:_,visibleScrollbar:F,fixed:!K,hideScrollbar:K&&!F,scrollableX:K&&!L,scrollableY:K&&L,centered:h&&!K,scrollButtonsHideMobile:!b},H=Zz(B),W=_f({elementType:M.StartScrollButtonIcon,externalSlotProps:A.startScrollButtonIcon,ownerState:B}),re=_f({elementType:M.EndScrollButtonIcon,externalSlotProps:A.endScrollButtonIcon,ownerState:B}),[ae,ye]=E.useState(!1),[me,Ne]=E.useState(zE),[ue,be]=E.useState(!1),[Ce,Ue]=E.useState(!1),[Te,Ke]=E.useState(!1),[Be,Fe]=E.useState({overflow:"hidden",scrollbarWidth:0}),Ve=new Map,_e=E.useRef(null),Se=E.useRef(null),ze={slots:M,slotProps:{indicator:N,scrollButton:P,...A}},ft=()=>{const z=_e.current;let X;if(z){const fe=z.getBoundingClientRect();X={clientWidth:z.clientWidth,scrollLeft:z.scrollLeft,scrollTop:z.scrollTop,scrollWidth:z.scrollWidth,top:fe.top,bottom:fe.bottom,left:fe.left,right:fe.right}}let se;if(z&&I!==!1){const fe=Se.current.children;if(fe.length>0){const Ee=fe[Ve.get(I)];se=Ee?Ee.getBoundingClientRect():null}}return{tabsMeta:X,tabMeta:se}},it=bs(()=>{const{tabsMeta:z,tabMeta:X}=ft();let se=0,fe;L?(fe="top",X&&z&&(se=X.top-z.top+z.scrollTop)):(fe=a?"right":"left",X&&z&&(se=(a?-1:1)*(X[fe]-z[fe]+z.scrollLeft)));const Ee={[fe]:se,[V]:X?X[V]:0};if(typeof me[fe]!="number"||typeof me[V]!="number")Ne(Ee);else{const Me=Math.abs(me[fe]-Ee[fe]),ke=Math.abs(me[V]-Ee[V]);(Me>=1||ke>=1)&&Ne(Ee)}}),Oe=(z,{animation:X=!0}={})=>{X?Hz(Y,_e.current,z,{duration:i.transitions.duration.standard}):_e.current[Y]=z},tn=z=>{let X=_e.current[Y];L?X+=z:X+=z*(a?-1:1),Oe(X)},ln=()=>{const z=_e.current[Q];let X=0;const se=Array.from(Se.current.children);for(let fe=0;fe<se.length;fe+=1){const Ee=se[fe];if(X+Ee[Q]>z){fe===0&&(X=z);break}X+=Ee[Q]}return X},En=()=>{tn(-1*ln())},Ct=()=>{tn(ln())},[ut,{onChange:Bt,..._t}]=Sa("scrollbar",{className:Jt(H.scrollableX,H.hideScrollbar),elementType:t7,shouldForwardComponentProp:!0,externalForwardedProps:ze,ownerState:B}),jn=E.useCallback(z=>{Bt==null||Bt(z),Fe({overflow:null,scrollbarWidth:z})},[Bt]),[mt,ce]=Sa("scrollButtons",{className:Jt(H.scrollButtons,P.className),elementType:Xz,externalForwardedProps:ze,ownerState:B,additionalProps:{orientation:k,slots:{StartScrollButtonIcon:M.startScrollButtonIcon||M.StartScrollButtonIcon,EndScrollButtonIcon:M.endScrollButtonIcon||M.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:W,endScrollButtonIcon:re}}}),ve=()=>{const z={};z.scrollbarSizeListener=K?v.jsx(ut,{..._t,onChange:jn}):null;const se=K&&(R==="auto"&&(ue||Ce)||R===!0);return z.scrollButtonStart=se?v.jsx(mt,{direction:a?"right":"left",onClick:En,disabled:!ue,...ce}):null,z.scrollButtonEnd=se?v.jsx(mt,{direction:a?"left":"right",onClick:Ct,disabled:!Ce,...ce}):null,z},Ie=bs(z=>{const{tabsMeta:X,tabMeta:se}=ft();if(!(!se||!X)){if(se[j]<X[j]){const fe=X[Y]+(se[j]-X[j]);Oe(fe,{animation:z})}else if(se[G]>X[G]){const fe=X[Y]+(se[G]-X[G]);Oe(fe,{animation:z})}}}),Ze=bs(()=>{K&&R!==!1&&Ke(!Te)});E.useEffect(()=>{const z=XT(()=>{_e.current&&it()});let X;const se=Me=>{Me.forEach(ke=>{ke.removedNodes.forEach(Re=>{X==null||X.unobserve(Re)}),ke.addedNodes.forEach(Re=>{X==null||X.observe(Re)})}),z(),Ze()},fe=ZT(_e.current);fe.addEventListener("resize",z);let Ee;return typeof ResizeObserver<"u"&&(X=new ResizeObserver(z),Array.from(Se.current.children).forEach(Me=>{X.observe(Me)})),typeof MutationObserver<"u"&&(Ee=new MutationObserver(se),Ee.observe(Se.current,{childList:!0})),()=>{z.clear(),fe.removeEventListener("resize",z),Ee==null||Ee.disconnect(),X==null||X.disconnect()}},[it,Ze]),E.useEffect(()=>{const z=Array.from(Se.current.children),X=z.length;if(typeof IntersectionObserver<"u"&&X>0&&K&&R!==!1){const se=z[0],fe=z[X-1],Ee={root:_e.current,threshold:.99},Me=$e=>{be(!$e[0].isIntersecting)},ke=new IntersectionObserver(Me,Ee);ke.observe(se);const Re=$e=>{Ue(!$e[0].isIntersecting)},je=new IntersectionObserver(Re,Ee);return je.observe(fe),()=>{ke.disconnect(),je.disconnect()}}},[K,R,Te,p==null?void 0:p.length]),E.useEffect(()=>{ye(!0)},[]),E.useEffect(()=>{it()}),E.useEffect(()=>{Ie(zE!==me)},[Ie,me]),E.useImperativeHandle(f,()=>({updateIndicator:it,updateScrollButtons:Ze}),[it,Ze]);const[Ht,yt]=Sa("indicator",{className:Jt(H.indicator,N.className),elementType:e7,externalForwardedProps:ze,ownerState:B,additionalProps:{style:me}}),Cn=v.jsx(Ht,{...yt});let kn=0;const Dn=E.Children.map(p,z=>{if(!E.isValidElement(z))return null;const X=z.props.value===void 0?kn:z.props.value;Ve.set(X,kn);const se=X===I;return kn+=1,E.cloneElement(z,{fullWidth:_==="fullWidth",indicator:se&&!ae&&Cn,selected:se,selectionFollowsFocus:O,onChange:S,textColor:$,value:X,...kn===1&&I===!1&&!z.props.tabIndex?{tabIndex:0}:{}})}),Hn=z=>{if(z.altKey||z.shiftKey||z.ctrlKey||z.metaKey)return;const X=Se.current,se=KT(X).activeElement;if(se.getAttribute("role")!=="tab")return;let Ee=k==="horizontal"?"ArrowLeft":"ArrowUp",Me=k==="horizontal"?"ArrowRight":"ArrowDown";switch(k==="horizontal"&&a&&(Ee="ArrowRight",Me="ArrowLeft"),z.key){case Ee:z.preventDefault(),_d(X,se,PE);break;case Me:z.preventDefault(),_d(X,se,$E);break;case"Home":z.preventDefault(),_d(X,null,$E);break;case"End":z.preventDefault(),_d(X,null,PE);break}},Un=ve(),[Fn,fn]=Sa("root",{ref:n,className:Jt(H.root,g),elementType:Wz,externalForwardedProps:{...ze,...ee,component:y},ownerState:B}),[hn,Er]=Sa("scroller",{ref:_e,className:H.scroller,elementType:Qz,externalForwardedProps:ze,ownerState:B,additionalProps:{style:{overflow:Be.overflow,[L?`margin${a?"Left":"Right"}`:"marginBottom"]:F?void 0:-Be.scrollbarWidth}}}),[Co,q]=Sa("list",{ref:Se,className:Jt(H.list,H.flexContainer),elementType:Jz,externalForwardedProps:ze,ownerState:B,getSlotProps:z=>({...z,onKeyDown:X=>{var se;Hn(X),(se=z.onKeyDown)==null||se.call(z,X)}})});return v.jsxs(Fn,{...fn,children:[Un.scrollButtonStart,Un.scrollbarSizeListener,v.jsxs(hn,{...Er,children:[v.jsx(Co,{"aria-label":c,"aria-labelledby":u,"aria-orientation":k==="vertical"?"vertical":null,role:"tablist",...q,children:Dn}),ae&&Cn]}),Un.scrollButtonEnd]})}),r7=Ky(v.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}));function o7(){const e=["大纲","角色","关系","章节","分幕","剧本"],t=["女1","女2","女3","女4","男1","男2"],[n,r]=E.useState(0),[i,a]=E.useState("女"),c=f=>{console.log("Tab changed to:",f)},u=(f,h)=>{r(h)};return v.jsxs("div",{className:"w-full h-screen flex",children:[v.jsx(Yi,{}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pl-5",children:[v.jsx("div",{className:"flex w-full pl-10",children:v.jsx(Rs,{tabs:e,defaultTab:"角色",onTabChange:c})}),v.jsxs("div",{className:"flex flex-col p-4 overflow-y-auto",children:[v.jsx(jz,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:v.jsxs(n7,{value:n,onChange:u,"aria-label":"character tabs",variant:"scrollable",scrollButtons:"auto",children:[t.map((f,h)=>v.jsx(IE,{label:f},h)),v.jsx(IE,{icon:v.jsx(r7,{}),"aria-label":"add character"})]})}),v.jsxs("div",{className:"space-y-4 mb-8",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"性别"}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"gender",checked:i==="女",onChange:()=>a("女"),className:"form-radio"}),v.jsx("span",{children:"女"})]}),v.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"gender",checked:i==="男",onChange:()=>a("男"),className:"form-radio"}),v.jsx("span",{children:"男"})]}),v.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"gender",checked:i==="无性别",onChange:()=>a("无性别"),className:"form-radio"}),v.jsx("span",{children:"无性别"})]}),v.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"gender",checked:i==="双性别版本",onChange:()=>a("双性别版本"),className:"form-radio"}),v.jsx("span",{children:"双性别版本"})]}),v.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"gender",checked:i==="自定义",onChange:()=>a("自定义"),className:"form-radio"}),v.jsx("span",{children:"自定义"})]})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"角色人格"}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"MBTI"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"ENTJ"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"角色类型"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"玩家"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"角色名称"}),v.jsxs("div",{className:"relative flex-1 max-w-md",children:[v.jsx("input",{type:"text",placeholder:"输入角色名称",className:"w-full border border-gray-300 rounded-md px-4 py-2 pr-10"}),v.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"C"})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"角色形象"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{children:"xxxxx.jpg"}),v.jsx("button",{className:"border border-gray-300 rounded-md p-1",children:v.jsx(we,{icon:"ri:image-add-line",className:"w-5 h-5 text-gray-500"})})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"关键词"}),v.jsxs("div",{className:"relative flex-1 max-w-md",children:[v.jsx("input",{type:"text",value:"xxxx xxxxx",className:"w-full border border-gray-300 rounded-md px-4 py-2 pr-10"}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500 cursor-pointer"})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"角色判词"}),v.jsxs("div",{className:"relative flex-1 max-w-md",children:[v.jsx("input",{type:"text",placeholder:"输入角色判词",className:"w-full border border-gray-300 rounded-md px-4 py-2 pr-10"}),v.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"C"})]})]})]}),v.jsxs("div",{className:"space-y-4 mb-8",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"情感线"}),v.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[v.jsx("span",{className:"text-blue-500",children:"爱情线80% (角色1):"}),v.jsx("span",{className:"text-gray-600",children:"「曾经沧海难为水...」"}),v.jsx(we,{icon:"ri:edit-line",className:"w-5 h-5 text-gray-500 cursor-pointer"})]})]}),v.jsxs("div",{className:"flex items-center space-x-4 ml-24",children:[v.jsx("span",{children:"和"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-1 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"角色1"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsx("span",{children:"的"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-1 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"事业线"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsx("span",{children:"占比"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-1 pr-8 bg-white focus:outline-none",children:v.jsx("option",{children:"80%"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsx(we,{icon:"ri:check-line",className:"w-5 h-5 text-green-500 cursor-pointer"})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"情感原型"}),v.jsxs("div",{className:"relative flex-1 max-w-md",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none w-full",children:v.jsx("option",{children:"「只差一步就能永远在一起」"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]})]})]}),v.jsx("div",{className:"space-y-4 mb-8",children:v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"w-20 text-right",children:"人物简介"}),v.jsx("div",{className:"relative flex-1",children:v.jsx("textarea",{placeholder:"输入人物简介",className:"w-full border border-gray-300 rounded-md px-4 py-2 h-32 resize-none"})})]})}),v.jsxs("div",{className:"space-y-2 mt-8",children:[v.jsxs("div",{children:["Q: 您是想要这样的",t[n],"的角色设定吗？"]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-4 py-2 pr-10",placeholder:"角色不好？告诉我如何优化，如：xxxxxx"}),v.jsx(we,{icon:"ri:corner-down-right-fill",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer"})]})]})]})]}),v.jsxs("div",{className:"w-1/3 border-l border-gray-200 p-6 overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold",children:"角色设定"}),v.jsx("div",{className:"flex items-center",children:v.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full overflow-hidden",children:v.jsx("img",{src:"/placeholder-avatar.png",alt:"Character",className:"w-full h-full object-cover",onError:f=>{f.currentTarget.src="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2232%22%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cpath%20fill%3D%22%23CCC%22%20d%3D%22M16%200C7.163%200%200%207.163%200%2016s7.163%2016%2016%2016%2016-7.163%2016-16S24.837%200%2016%200zm0%2029c-2.053%200-4.016-.434-5.782-1.228%203.147-3.59%205.45-6.978%206.932-10.164.698%201.928%201.932%203.562%203.572%204.75L16%2029zm13.372-7.778a13.975%2013.975%200%2001-1.553%201.336C25.678%2018.242%2022.29%2015.98%2019.18%2015.98c-1.293%200-2.562.39-3.565%201.128-2.707-1.18-5.134-2.96-7.225-5.282%201.493-2.422%204.372-4.143%207.61-4.143%204.982%200%209%203.872%209%208.64a8.64%208.64%200%2001-1.228%204.143c1.562.842%203.378%201.638%205.6%202.756z%22%2F%3E%3C%2Fsvg%3E"}})})})]}),v.jsx("div",{className:"mb-8",children:v.jsx("h3",{className:"font-medium mb-2",children:'1. 赫连英：女，大巫预言的 "亡国公主"，蛇变为草原人众望所归的"草原之心"，落子果决而心志坚信，以鹰隼之眼洞察人心，以狼王之勇统御万众，一统北方建立大燕，要江山更要挚爱。'})}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"font-bold mb-2",children:"人物简介"}),v.jsx("p",{className:"text-gray-700 mb-4",children:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxx"})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"font-bold mb-2",children:"人物小传"}),v.jsx("p",{className:"text-gray-700 mb-4",children:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxx"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"font-bold",children:"角色关系"}),v.jsxs("a",{href:"#",className:"text-gray-500 text-sm flex items-center",children:["修改详情 ",v.jsx(we,{icon:"ri:arrow-right-s-line"})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("p",{className:"text-gray-700",children:"1. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxx"}),v.jsx("p",{className:"text-gray-700",children:"2. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxx"}),v.jsx("p",{className:"text-gray-700",children:"3. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})]})]})]})]})}function Bn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Bn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var gg={exports:{}},mg={},yg={exports:{}},vg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function i7(){if(HE)return vg;HE=1;var e=Vc();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function u(g,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),S=w[0].inst,k=w[1];return a(function(){S.value=b,S.getSnapshot=y,f(S)&&k({inst:S})},[g,b,y]),i(function(){return f(S)&&k({inst:S}),g(function(){f(S)&&k({inst:S})})},[g]),c(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return vg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,vg}var UE;function s7(){return UE||(UE=1,yg.exports=i7()),yg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function a7(){if(FE)return mg;FE=1;var e=Vc(),t=s7();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return mg.useSyncExternalStoreWithSelector=function(h,p,g,y,b){var w=a(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function C(N){if(!R){if(R=!0,O=N,N=y(N),b!==void 0&&S.hasValue){var P=S.value;if(b(P,N))return M=P}return M=N}if(P=M,r(O,N))return P;var $=y(N);return b!==void 0&&b(P,$)?(O=N,P):(O=N,M=$)}var R=!1,O,M,A=g===void 0?null:g;return[function(){return C(p())},A===null?void 0:function(){return C(A())}]},[p,g,y,b]);var k=i(h,w[0],w[1]);return c(function(){S.hasValue=!0,S.value=k},[k]),f(k),k},mg}var VE;function l7(){return VE||(VE=1,gg.exports=a7()),gg.exports}var c7=l7();const u7=jC(c7),d7={},YE=e=>{let t;const n=new Set,r=(p,g)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const b=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(w=>w(t,b))}},i=()=>t,f={setState:r,getState:i,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(d7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(r,i,f);return f},f7=e=>e?YE(e):YE,{useDebugValue:h7}=le,{useSyncExternalStoreWithSelector:p7}=u7,x7=e=>e;function n_(e,t=x7,n){const r=p7(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return h7(r),r}const GE=(e,t)=>{const n=f7(e),r=(i,a=t)=>n_(n,i,a);return Object.assign(r,n),r},g7=(e,t)=>e?GE(e,t):GE;function Sn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var m7={value:()=>{}};function vh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new tf(n)}function tf(e){this._=e}function y7(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}tf.prototype=vh.prototype={constructor:tf,on:function(e,t){var n=this._,r=y7(e+"",n),i,a=-1,c=r.length;if(arguments.length<2){for(;++a<c;)if((i=(e=r[a]).type)&&(i=v7(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<c;)if(i=(e=r[a]).type)n[i]=qE(n[i],e.name,t);else if(t==null)for(i in n)n[i]=qE(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new tf(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function v7(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function qE(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=m7,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var fm="http://www.w3.org/1999/xhtml";const XE={svg:"http://www.w3.org/2000/svg",xhtml:fm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),XE.hasOwnProperty(t)?{space:XE[t],local:e}:e}function b7(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fm&&t.documentElement.namespaceURI===fm?t.createElement(e):t.createElementNS(n,e)}}function w7(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function r_(e){var t=bh(e);return(t.local?w7:b7)(t)}function S7(){}function Jy(e){return e==null?S7:function(){return this.querySelector(e)}}function E7(e){typeof e!="function"&&(e=Jy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],c=a.length,u=r[i]=new Array(c),f,h,p=0;p<c;++p)(f=a[p])&&(h=e.call(f,f.__data__,p,a))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h);return new Sr(r,this._parents)}function C7(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function k7(){return[]}function o_(e){return e==null?k7:function(){return this.querySelectorAll(e)}}function T7(e){return function(){return C7(e.apply(this,arguments))}}function _7(e){typeof e=="function"?e=T7(e):e=o_(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var c=t[a],u=c.length,f,h=0;h<u;++h)(f=c[h])&&(r.push(e.call(f,f.__data__,h,c)),i.push(f));return new Sr(r,i)}function i_(e){return function(){return this.matches(e)}}function s_(e){return function(t){return t.matches(e)}}var N7=Array.prototype.find;function M7(e){return function(){return N7.call(this.children,e)}}function A7(){return this.firstElementChild}function R7(e){return this.select(e==null?A7:M7(typeof e=="function"?e:s_(e)))}var O7=Array.prototype.filter;function B7(){return Array.from(this.children)}function j7(e){return function(){return O7.call(this.children,e)}}function D7(e){return this.selectAll(e==null?B7:j7(typeof e=="function"?e:s_(e)))}function L7(e){typeof e!="function"&&(e=i_(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],c=a.length,u=r[i]=[],f,h=0;h<c;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&u.push(f);return new Sr(r,this._parents)}function a_(e){return new Array(e.length)}function I7(){return new Sr(this._enter||this._groups.map(a_),this._parents)}function Nf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Nf.prototype={constructor:Nf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function $7(e){return function(){return e}}function P7(e,t,n,r,i,a){for(var c=0,u,f=t.length,h=a.length;c<h;++c)(u=t[c])?(u.__data__=a[c],r[c]=u):n[c]=new Nf(e,a[c]);for(;c<f;++c)(u=t[c])&&(i[c]=u)}function z7(e,t,n,r,i,a,c){var u,f,h=new Map,p=t.length,g=a.length,y=new Array(p),b;for(u=0;u<p;++u)(f=t[u])&&(y[u]=b=c.call(f,f.__data__,u,t)+"",h.has(b)?i[u]=f:h.set(b,f));for(u=0;u<g;++u)b=c.call(e,a[u],u,a)+"",(f=h.get(b))?(r[u]=f,f.__data__=a[u],h.delete(b)):n[u]=new Nf(e,a[u]);for(u=0;u<p;++u)(f=t[u])&&h.get(y[u])===f&&(i[u]=f)}function H7(e){return e.__data__}function U7(e,t){if(!arguments.length)return Array.from(this,H7);var n=t?z7:P7,r=this._parents,i=this._groups;typeof e!="function"&&(e=$7(e));for(var a=i.length,c=new Array(a),u=new Array(a),f=new Array(a),h=0;h<a;++h){var p=r[h],g=i[h],y=g.length,b=F7(e.call(p,p&&p.__data__,h,r)),w=b.length,S=u[h]=new Array(w),k=c[h]=new Array(w),C=f[h]=new Array(y);n(p,g,S,k,C,b,t);for(var R=0,O=0,M,A;R<w;++R)if(M=S[R]){for(R>=O&&(O=R+1);!(A=k[O])&&++O<w;);M._next=A||null}}return c=new Sr(c,r),c._enter=u,c._exit=f,c}function F7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function V7(){return new Sr(this._exit||this._groups.map(a_),this._parents)}function Y7(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function G7(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,c=Math.min(i,a),u=new Array(i),f=0;f<c;++f)for(var h=n[f],p=r[f],g=h.length,y=u[f]=new Array(g),b,w=0;w<g;++w)(b=h[w]||p[w])&&(y[w]=b);for(;f<i;++f)u[f]=n[f];return new Sr(u,this._parents)}function q7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],c;--i>=0;)(c=r[i])&&(a&&c.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(c,a),a=c);return this}function X7(e){e||(e=K7);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var c=n[a],u=c.length,f=i[a]=new Array(u),h,p=0;p<u;++p)(h=c[p])&&(f[p]=h);f.sort(t)}return new Sr(i,this._parents).order()}function K7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Z7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function W7(){return Array.from(this)}function Q7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var c=r[i];if(c)return c}return null}function J7(){let e=0;for(const t of this)++e;return e}function e9(){return!this.node()}function t9(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,c=i.length,u;a<c;++a)(u=i[a])&&e.call(u,u.__data__,a,i);return this}function n9(e){return function(){this.removeAttribute(e)}}function r9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o9(e,t){return function(){this.setAttribute(e,t)}}function i9(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function s9(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function a9(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function l9(e,t){var n=bh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?r9:n9:typeof t=="function"?n.local?a9:s9:n.local?i9:o9)(n,t))}function l_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function c9(e){return function(){this.style.removeProperty(e)}}function u9(e,t,n){return function(){this.style.setProperty(e,t,n)}}function d9(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function f9(e,t,n){return arguments.length>1?this.each((t==null?c9:typeof t=="function"?d9:u9)(e,t,n??"")):Va(this.node(),e)}function Va(e,t){return e.style.getPropertyValue(t)||l_(e).getComputedStyle(e,null).getPropertyValue(t)}function h9(e){return function(){delete this[e]}}function p9(e,t){return function(){this[e]=t}}function x9(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function g9(e,t){return arguments.length>1?this.each((t==null?h9:typeof t=="function"?x9:p9)(e,t)):this.node()[e]}function c_(e){return e.trim().split(/^|\s+/)}function ev(e){return e.classList||new u_(e)}function u_(e){this._node=e,this._names=c_(e.getAttribute("class")||"")}u_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function d_(e,t){for(var n=ev(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function f_(e,t){for(var n=ev(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function m9(e){return function(){d_(this,e)}}function y9(e){return function(){f_(this,e)}}function v9(e,t){return function(){(t.apply(this,arguments)?d_:f_)(this,e)}}function b9(e,t){var n=c_(e+"");if(arguments.length<2){for(var r=ev(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?v9:t?m9:y9)(n,t))}function w9(){this.textContent=""}function S9(e){return function(){this.textContent=e}}function E9(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function C9(e){return arguments.length?this.each(e==null?w9:(typeof e=="function"?E9:S9)(e)):this.node().textContent}function k9(){this.innerHTML=""}function T9(e){return function(){this.innerHTML=e}}function _9(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function N9(e){return arguments.length?this.each(e==null?k9:(typeof e=="function"?_9:T9)(e)):this.node().innerHTML}function M9(){this.nextSibling&&this.parentNode.appendChild(this)}function A9(){return this.each(M9)}function R9(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function O9(){return this.each(R9)}function B9(e){var t=typeof e=="function"?e:r_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function j9(){return null}function D9(e,t){var n=typeof e=="function"?e:r_(e),r=t==null?j9:typeof t=="function"?t:Jy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function L9(){var e=this.parentNode;e&&e.removeChild(this)}function I9(){return this.each(L9)}function $9(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function P9(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function z9(e){return this.select(e?P9:$9)}function H9(e){return arguments.length?this.property("__data__",e):this.node().__data__}function U9(e){return function(t){e.call(this,t,this.__data__)}}function F9(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function V9(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Y9(e,t,n){return function(){var r=this.__on,i,a=U9(t);if(r){for(var c=0,u=r.length;c<u;++c)if((i=r[c]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function G9(e,t,n){var r=F9(e+""),i,a=r.length,c;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,h=u.length,p;f<h;++f)for(i=0,p=u[f];i<a;++i)if((c=r[i]).type===p.type&&c.name===p.name)return p.value}return}for(u=t?Y9:V9,i=0;i<a;++i)this.each(u(r[i],t,n));return this}function h_(e,t,n){var r=l_(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function q9(e,t){return function(){return h_(this,e,t)}}function X9(e,t){return function(){return h_(this,e,t.apply(this,arguments))}}function K9(e,t){return this.each((typeof t=="function"?X9:q9)(e,t))}function*Z9(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,c;i<a;++i)(c=r[i])&&(yield c)}var p_=[null];function Sr(e,t){this._groups=e,this._parents=t}function ru(){return new Sr([[document.documentElement]],p_)}function W9(){return this}Sr.prototype=ru.prototype={constructor:Sr,select:E7,selectAll:_7,selectChild:R7,selectChildren:D7,filter:L7,data:U7,enter:I7,exit:V7,join:Y7,merge:G7,selection:W9,order:q7,sort:X7,call:Z7,nodes:W7,node:Q7,size:J7,empty:e9,each:t9,attr:l9,style:f9,property:g9,classed:b9,text:C9,html:N9,raise:A9,lower:O9,append:B9,insert:D9,remove:I9,clone:z9,datum:H9,on:G9,dispatch:K9,[Symbol.iterator]:Z9};function Ir(e){return typeof e=="string"?new Sr([[document.querySelector(e)]],[document.documentElement]):new Sr([[e]],p_)}function Q9(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Gr(e,t){if(e=Q9(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const J9={passive:!1},Lc={capture:!0,passive:!1};function bg(e){e.stopImmediatePropagation()}function $a(e){e.preventDefault(),e.stopImmediatePropagation()}function x_(e){var t=e.document.documentElement,n=Ir(e).on("dragstart.drag",$a,Lc);"onselectstart"in t?n.on("selectstart.drag",$a,Lc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function g_(e,t){var n=e.document.documentElement,r=Ir(e).on("dragstart.drag",null);t&&(r.on("click.drag",$a,Lc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Nd=e=>()=>e;function hm(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:c,y:u,dx:f,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}hm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function eH(e){return!e.ctrlKey&&!e.button}function tH(){return this.parentNode}function nH(e,t){return t??{x:e.x,y:e.y}}function rH(){return navigator.maxTouchPoints||"ontouchstart"in this}function oH(){var e=eH,t=tH,n=nH,r=rH,i={},a=vh("start","drag","end"),c=0,u,f,h,p,g=0;function y(M){M.on("mousedown.drag",b).filter(r).on("touchstart.drag",k).on("touchmove.drag",C,J9).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(M,A){if(!(p||!e.call(this,M,A))){var N=O(this,t.call(this,M,A),M,A,"mouse");N&&(Ir(M.view).on("mousemove.drag",w,Lc).on("mouseup.drag",S,Lc),x_(M.view),bg(M),h=!1,u=M.clientX,f=M.clientY,N("start",M))}}function w(M){if($a(M),!h){var A=M.clientX-u,N=M.clientY-f;h=A*A+N*N>g}i.mouse("drag",M)}function S(M){Ir(M.view).on("mousemove.drag mouseup.drag",null),g_(M.view,h),$a(M),i.mouse("end",M)}function k(M,A){if(e.call(this,M,A)){var N=M.changedTouches,P=t.call(this,M,A),$=N.length,I,_;for(I=0;I<$;++I)(_=O(this,P,M,A,N[I].identifier,N[I]))&&(bg(M),_("start",M,N[I]))}}function C(M){var A=M.changedTouches,N=A.length,P,$;for(P=0;P<N;++P)($=i[A[P].identifier])&&($a(M),$("drag",M,A[P]))}function R(M){var A=M.changedTouches,N=A.length,P,$;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),P=0;P<N;++P)($=i[A[P].identifier])&&(bg(M),$("end",M,A[P]))}function O(M,A,N,P,$,I){var _=a.copy(),F=Gr(I||N,A),ee,K,L;if((L=n.call(M,new hm("beforestart",{sourceEvent:N,target:y,identifier:$,active:c,x:F[0],y:F[1],dx:0,dy:0,dispatch:_}),P))!=null)return ee=L.x-F[0]||0,K=L.y-F[1]||0,function Y(j,G,Q){var V=F,B;switch(j){case"start":i[$]=Y,B=c++;break;case"end":delete i[$],--c;case"drag":F=Gr(Q||G,A),B=c;break}_.call(j,M,new hm(j,{sourceEvent:G,subject:L,target:y,identifier:$,active:B,x:F[0]+ee,y:F[1]+K,dx:F[0]-V[0],dy:F[1]-V[1],dispatch:_}),P)}}return y.filter=function(M){return arguments.length?(e=typeof M=="function"?M:Nd(!!M),y):e},y.container=function(M){return arguments.length?(t=typeof M=="function"?M:Nd(M),y):t},y.subject=function(M){return arguments.length?(n=typeof M=="function"?M:Nd(M),y):n},y.touchable=function(M){return arguments.length?(r=typeof M=="function"?M:Nd(!!M),y):r},y.on=function(){var M=a.on.apply(a,arguments);return M===a?y:M},y.clickDistance=function(M){return arguments.length?(g=(M=+M)*M,y):Math.sqrt(g)},y}function tv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function m_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ou(){}var Ic=.7,Mf=1/Ic,Pa="\\s*([+-]?\\d+)\\s*",$c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iH=/^#([0-9a-f]{3,8})$/,sH=new RegExp(`^rgb\\(${Pa},${Pa},${Pa}\\)$`),aH=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),lH=new RegExp(`^rgba\\(${Pa},${Pa},${Pa},${$c}\\)$`),cH=new RegExp(`^rgba\\(${wo},${wo},${wo},${$c}\\)$`),uH=new RegExp(`^hsl\\(${$c},${wo},${wo}\\)$`),dH=new RegExp(`^hsla\\(${$c},${wo},${wo},${$c}\\)$`),KE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tv(ou,Pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZE,formatHex:ZE,formatHex8:fH,formatHsl:hH,formatRgb:WE,toString:WE});function ZE(){return this.rgb().formatHex()}function fH(){return this.rgb().formatHex8()}function hH(){return y_(this).formatHsl()}function WE(){return this.rgb().formatRgb()}function Pc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?QE(t):n===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Md(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Md(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sH.exec(e))?new rr(t[1],t[2],t[3],1):(t=aH.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lH.exec(e))?Md(t[1],t[2],t[3],t[4]):(t=cH.exec(e))?Md(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uH.exec(e))?tC(t[1],t[2]/100,t[3]/100,1):(t=dH.exec(e))?tC(t[1],t[2]/100,t[3]/100,t[4]):KE.hasOwnProperty(e)?QE(KE[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function QE(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function Md(e,t,n,r){return r<=0&&(e=t=n=NaN),new rr(e,t,n,r)}function pH(e){return e instanceof ou||(e=Pc(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function pm(e,t,n,r){return arguments.length===1?pH(e):new rr(e,t,n,r??1)}function rr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}tv(rr,pm,m_(ou,{brighter(e){return e=e==null?Mf:Math.pow(Mf,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ic:Math.pow(Ic,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(ws(this.r),ws(this.g),ws(this.b),Af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JE,formatHex:JE,formatHex8:xH,formatRgb:eC,toString:eC}));function JE(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function xH(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function eC(){const e=Af(this.opacity);return`${e===1?"rgb(":"rgba("}${ws(this.r)}, ${ws(this.g)}, ${ws(this.b)}${e===1?")":`, ${e})`}`}function Af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ws(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ms(e){return e=ws(e),(e<16?"0":"")+e.toString(16)}function tC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qr(e,t,n,r)}function y_(e){if(e instanceof qr)return new qr(e.h,e.s,e.l,e.opacity);if(e instanceof ou||(e=Pc(e)),!e)return new qr;if(e instanceof qr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),c=NaN,u=a-i,f=(a+i)/2;return u?(t===a?c=(n-r)/u+(n<r)*6:n===a?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?a+i:2-a-i,c*=60):u=f>0&&f<1?0:c,new qr(c,u,f,e.opacity)}function gH(e,t,n,r){return arguments.length===1?y_(e):new qr(e,t,n,r??1)}function qr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}tv(qr,gH,m_(ou,{brighter(e){return e=e==null?Mf:Math.pow(Mf,e),new qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ic:Math.pow(Ic,e),new qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new rr(wg(e>=240?e-240:e+120,i,r),wg(e,i,r),wg(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new qr(nC(this.h),Ad(this.s),Ad(this.l),Af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Af(this.opacity);return`${e===1?"hsl(":"hsla("}${nC(this.h)}, ${Ad(this.s)*100}%, ${Ad(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nC(e){return e=(e||0)%360,e<0?e+360:e}function Ad(e){return Math.max(0,Math.min(1,e||0))}function wg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const v_=e=>()=>e;function mH(e,t){return function(n){return e+n*t}}function yH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vH(e){return(e=+e)==1?b_:function(t,n){return n-t?yH(t,n,e):v_(isNaN(t)?n:t)}}function b_(e,t){var n=t-e;return n?mH(e,n):v_(isNaN(e)?t:e)}const rC=function e(t){var n=vH(t);function r(i,a){var c=n((i=pm(i)).r,(a=pm(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=b_(i.opacity,a.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=e,r}(1);function Ri(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var xm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sg=new RegExp(xm.source,"g");function bH(e){return function(){return e}}function wH(e){return function(t){return e(t)+""}}function SH(e,t){var n=xm.lastIndex=Sg.lastIndex=0,r,i,a,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=xm.exec(e))&&(i=Sg.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[c]?u[c]+=a:u[++c]=a),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:Ri(r,i)})),n=Sg.lastIndex;return n<t.length&&(a=t.slice(n),u[c]?u[c]+=a:u[++c]=a),u.length<2?f[0]?wH(f[0].x):bH(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}var oC=180/Math.PI,gm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function w_(e,t,n,r,i,a){var c,u,f;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,f/=u),e*r<t*n&&(e=-e,t=-t,f=-f,c=-c),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*oC,skewX:Math.atan(f)*oC,scaleX:c,scaleY:u}}var Rd;function EH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gm:w_(t.a,t.b,t.c,t.d,t.e,t.f)}function CH(e){return e==null||(Rd||(Rd=document.createElementNS("http://www.w3.org/2000/svg","g")),Rd.setAttribute("transform",e),!(e=Rd.transform.baseVal.consolidate()))?gm:(e=e.matrix,w_(e.a,e.b,e.c,e.d,e.e,e.f))}function S_(e,t,n,r){function i(h){return h.length?h.pop()+" ":""}function a(h,p,g,y,b,w){if(h!==g||p!==y){var S=b.push("translate(",null,t,null,n);w.push({i:S-4,x:Ri(h,g)},{i:S-2,x:Ri(p,y)})}else(g||y)&&b.push("translate("+g+t+y+n)}function c(h,p,g,y){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),y.push({i:g.push(i(g)+"rotate(",null,r)-2,x:Ri(h,p)})):p&&g.push(i(g)+"rotate("+p+r)}function u(h,p,g,y){h!==p?y.push({i:g.push(i(g)+"skewX(",null,r)-2,x:Ri(h,p)}):p&&g.push(i(g)+"skewX("+p+r)}function f(h,p,g,y,b,w){if(h!==g||p!==y){var S=b.push(i(b)+"scale(",null,",",null,")");w.push({i:S-4,x:Ri(h,g)},{i:S-2,x:Ri(p,y)})}else(g!==1||y!==1)&&b.push(i(b)+"scale("+g+","+y+")")}return function(h,p){var g=[],y=[];return h=e(h),p=e(p),a(h.translateX,h.translateY,p.translateX,p.translateY,g,y),c(h.rotate,p.rotate,g,y),u(h.skewX,p.skewX,g,y),f(h.scaleX,h.scaleY,p.scaleX,p.scaleY,g,y),h=p=null,function(b){for(var w=-1,S=y.length,k;++w<S;)g[(k=y[w]).i]=k.x(b);return g.join("")}}}var kH=S_(EH,"px, ","px)","deg)"),TH=S_(CH,", ",")",")"),_H=1e-12;function iC(e){return((e=Math.exp(e))+1/e)/2}function NH(e){return((e=Math.exp(e))-1/e)/2}function MH(e){return((e=Math.exp(2*e))-1)/(e+1)}const AH=function e(t,n,r){function i(a,c){var u=a[0],f=a[1],h=a[2],p=c[0],g=c[1],y=c[2],b=p-u,w=g-f,S=b*b+w*w,k,C;if(S<_H)C=Math.log(y/h)/t,k=function(P){return[u+P*b,f+P*w,h*Math.exp(t*P*C)]};else{var R=Math.sqrt(S),O=(y*y-h*h+r*S)/(2*h*n*R),M=(y*y-h*h-r*S)/(2*y*n*R),A=Math.log(Math.sqrt(O*O+1)-O),N=Math.log(Math.sqrt(M*M+1)-M);C=(N-A)/t,k=function(P){var $=P*C,I=iC(A),_=h/(n*R)*(I*MH(t*$+A)-NH(A));return[u+_*b,f+_*w,h*I/iC(t*$+A)]}}return k.duration=C*1e3*t/Math.SQRT2,k}return i.rho=function(a){var c=Math.max(.001,+a),u=c*c,f=u*u;return e(c,u,f)},i}(Math.SQRT2,2,4);var Ya=0,yc=0,ac=0,E_=1e3,Rf,vc,Of=0,Ts=0,wh=0,zc=typeof performance=="object"&&performance.now?performance:Date,C_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nv(){return Ts||(C_(RH),Ts=zc.now()+wh)}function RH(){Ts=0}function Bf(){this._call=this._time=this._next=null}Bf.prototype=k_.prototype={constructor:Bf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nv():+n)+(t==null?0:+t),!this._next&&vc!==this&&(vc?vc._next=this:Rf=this,vc=this),this._call=e,this._time=n,mm()},stop:function(){this._call&&(this._call=null,this._time=1/0,mm())}};function k_(e,t,n){var r=new Bf;return r.restart(e,t,n),r}function OH(){nv(),++Ya;for(var e=Rf,t;e;)(t=Ts-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ya}function sC(){Ts=(Of=zc.now())+wh,Ya=yc=0;try{OH()}finally{Ya=0,jH(),Ts=0}}function BH(){var e=zc.now(),t=e-Of;t>E_&&(wh-=t,Of=e)}function jH(){for(var e,t=Rf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Rf=n);vc=e,mm(r)}function mm(e){if(!Ya){yc&&(yc=clearTimeout(yc));var t=e-Ts;t>24?(e<1/0&&(yc=setTimeout(sC,e-zc.now()-wh)),ac&&(ac=clearInterval(ac))):(ac||(Of=zc.now(),ac=setInterval(BH,E_)),Ya=1,C_(sC))}}function aC(e,t,n){var r=new Bf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var DH=vh("start","end","cancel","interrupt"),LH=[],T_=0,lC=1,ym=2,nf=3,cC=4,vm=5,rf=6;function Sh(e,t,n,r,i,a){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;IH(e,n,{name:t,index:r,group:i,on:DH,tween:LH,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:T_})}function rv(e,t){var n=Jr(e,t);if(n.state>T_)throw new Error("too late; already scheduled");return n}function Eo(e,t){var n=Jr(e,t);if(n.state>nf)throw new Error("too late; already running");return n}function Jr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function IH(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=k_(a,0,n.time);function a(h){n.state=lC,n.timer.restart(c,n.delay,n.time),n.delay<=h&&c(h-n.delay)}function c(h){var p,g,y,b;if(n.state!==lC)return f();for(p in r)if(b=r[p],b.name===n.name){if(b.state===nf)return aC(c);b.state===cC?(b.state=rf,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete r[p]):+p<t&&(b.state=rf,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete r[p])}if(aC(function(){n.state===nf&&(n.state=cC,n.timer.restart(u,n.delay,n.time),u(h))}),n.state=ym,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ym){for(n.state=nf,i=new Array(y=n.tween.length),p=0,g=-1;p<y;++p)(b=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(i[++g]=b);i.length=g+1}}function u(h){for(var p=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=vm,1),g=-1,y=i.length;++g<y;)i[g].call(e,p);n.state===vm&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=rf,n.timer.stop(),delete r[t];for(var h in r)return;delete e.__transition}}function of(e,t){var n=e.__transition,r,i,a=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((r=n[c]).name!==t){a=!1;continue}i=r.state>ym&&r.state<vm,r.state=rf,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[c]}a&&delete e.__transition}}function $H(e){return this.each(function(){of(this,e)})}function PH(e,t){var n,r;return function(){var i=Eo(this,e),a=i.tween;if(a!==n){r=n=a;for(var c=0,u=r.length;c<u;++c)if(r[c].name===t){r=r.slice(),r.splice(c,1);break}}i.tween=r}}function zH(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Eo(this,e),c=a.tween;if(c!==r){i=(r=c).slice();for(var u={name:t,value:n},f=0,h=i.length;f<h;++f)if(i[f].name===t){i[f]=u;break}f===h&&i.push(u)}a.tween=i}}function HH(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Jr(this.node(),n).tween,i=0,a=r.length,c;i<a;++i)if((c=r[i]).name===e)return c.value;return null}return this.each((t==null?PH:zH)(n,e,t))}function ov(e,t,n){var r=e._id;return e.each(function(){var i=Eo(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Jr(i,r).value[t]}}function __(e,t){var n;return(typeof t=="number"?Ri:t instanceof Pc?rC:(n=Pc(t))?(t=n,rC):SH)(e,t)}function UH(e){return function(){this.removeAttribute(e)}}function FH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VH(e,t,n){var r,i=n+"",a;return function(){var c=this.getAttribute(e);return c===i?null:c===r?a:a=t(r=c,n)}}function YH(e,t,n){var r,i=n+"",a;return function(){var c=this.getAttributeNS(e.space,e.local);return c===i?null:c===r?a:a=t(r=c,n)}}function GH(e,t,n){var r,i,a;return function(){var c,u=n(this),f;return u==null?void this.removeAttribute(e):(c=this.getAttribute(e),f=u+"",c===f?null:c===r&&f===i?a:(i=f,a=t(r=c,u)))}}function qH(e,t,n){var r,i,a;return function(){var c,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),f=u+"",c===f?null:c===r&&f===i?a:(i=f,a=t(r=c,u)))}}function XH(e,t){var n=bh(e),r=n==="transform"?TH:__;return this.attrTween(e,typeof t=="function"?(n.local?qH:GH)(n,r,ov(this,"attr."+e,t)):t==null?(n.local?FH:UH)(n):(n.local?YH:VH)(n,r,t))}function KH(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ZH(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function WH(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&ZH(e,a)),n}return i._value=t,i}function QH(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&KH(e,a)),n}return i._value=t,i}function JH(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=bh(e);return this.tween(n,(r.local?WH:QH)(r,t))}function eU(e,t){return function(){rv(this,e).delay=+t.apply(this,arguments)}}function tU(e,t){return t=+t,function(){rv(this,e).delay=t}}function nU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eU:tU)(t,e)):Jr(this.node(),t).delay}function rU(e,t){return function(){Eo(this,e).duration=+t.apply(this,arguments)}}function oU(e,t){return t=+t,function(){Eo(this,e).duration=t}}function iU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rU:oU)(t,e)):Jr(this.node(),t).duration}function sU(e,t){if(typeof t!="function")throw new Error;return function(){Eo(this,e).ease=t}}function aU(e){var t=this._id;return arguments.length?this.each(sU(t,e)):Jr(this.node(),t).ease}function lU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Eo(this,e).ease=n}}function cU(e){if(typeof e!="function")throw new Error;return this.each(lU(this._id,e))}function uU(e){typeof e!="function"&&(e=i_(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],c=a.length,u=r[i]=[],f,h=0;h<c;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&u.push(f);return new ei(r,this._parents,this._name,this._id)}function dU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),c=new Array(r),u=0;u<a;++u)for(var f=t[u],h=n[u],p=f.length,g=c[u]=new Array(p),y,b=0;b<p;++b)(y=f[b]||h[b])&&(g[b]=y);for(;u<r;++u)c[u]=t[u];return new ei(c,this._parents,this._name,this._id)}function fU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hU(e,t,n){var r,i,a=fU(t)?rv:Eo;return function(){var c=a(this,e),u=c.on;u!==r&&(i=(r=u).copy()).on(t,n),c.on=i}}function pU(e,t){var n=this._id;return arguments.length<2?Jr(this.node(),n).on.on(e):this.each(hU(n,e,t))}function xU(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function gU(){return this.on("end.remove",xU(this._id))}function mU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jy(e));for(var r=this._groups,i=r.length,a=new Array(i),c=0;c<i;++c)for(var u=r[c],f=u.length,h=a[c]=new Array(f),p,g,y=0;y<f;++y)(p=u[y])&&(g=e.call(p,p.__data__,y,u))&&("__data__"in p&&(g.__data__=p.__data__),h[y]=g,Sh(h[y],t,n,y,h,Jr(p,n)));return new ei(a,this._parents,t,n)}function yU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=o_(e));for(var r=this._groups,i=r.length,a=[],c=[],u=0;u<i;++u)for(var f=r[u],h=f.length,p,g=0;g<h;++g)if(p=f[g]){for(var y=e.call(p,p.__data__,g,f),b,w=Jr(p,n),S=0,k=y.length;S<k;++S)(b=y[S])&&Sh(b,t,n,S,y,w);a.push(y),c.push(p)}return new ei(a,c,t,n)}var vU=ru.prototype.constructor;function bU(){return new vU(this._groups,this._parents)}function wU(e,t){var n,r,i;return function(){var a=Va(this,e),c=(this.style.removeProperty(e),Va(this,e));return a===c?null:a===n&&c===r?i:i=t(n=a,r=c)}}function N_(e){return function(){this.style.removeProperty(e)}}function SU(e,t,n){var r,i=n+"",a;return function(){var c=Va(this,e);return c===i?null:c===r?a:a=t(r=c,n)}}function EU(e,t,n){var r,i,a;return function(){var c=Va(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),Va(this,e))),c===f?null:c===r&&f===i?a:(i=f,a=t(r=c,u))}}function CU(e,t){var n,r,i,a="style."+t,c="end."+a,u;return function(){var f=Eo(this,e),h=f.on,p=f.value[a]==null?u||(u=N_(t)):void 0;(h!==n||i!==p)&&(r=(n=h).copy()).on(c,i=p),f.on=r}}function kU(e,t,n){var r=(e+="")=="transform"?kH:__;return t==null?this.styleTween(e,wU(e,r)).on("end.style."+e,N_(e)):typeof t=="function"?this.styleTween(e,EU(e,r,ov(this,"style."+e,t))).each(CU(this._id,e)):this.styleTween(e,SU(e,r,t),n).on("end.style."+e,null)}function TU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function _U(e,t,n){var r,i;function a(){var c=t.apply(this,arguments);return c!==i&&(r=(i=c)&&TU(e,c,n)),r}return a._value=t,a}function NU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,_U(e,t,n??""))}function MU(e){return function(){this.textContent=e}}function AU(e){return function(){var t=e(this);this.textContent=t??""}}function RU(e){return this.tween("text",typeof e=="function"?AU(ov(this,"text",e)):MU(e==null?"":e+""))}function OU(e){return function(t){this.textContent=e.call(this,t)}}function BU(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&OU(i)),t}return r._value=e,r}function jU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,BU(e))}function DU(){for(var e=this._name,t=this._id,n=M_(),r=this._groups,i=r.length,a=0;a<i;++a)for(var c=r[a],u=c.length,f,h=0;h<u;++h)if(f=c[h]){var p=Jr(f,t);Sh(f,e,n,h,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new ei(r,this._parents,e,n)}function LU(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,c){var u={value:c},f={value:function(){--i===0&&a()}};n.each(function(){var h=Eo(this,r),p=h.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),h.on=t}),i===0&&a()})}var IU=0;function ei(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function M_(){return++IU}var Fo=ru.prototype;ei.prototype={constructor:ei,select:mU,selectAll:yU,selectChild:Fo.selectChild,selectChildren:Fo.selectChildren,filter:uU,merge:dU,selection:bU,transition:DU,call:Fo.call,nodes:Fo.nodes,node:Fo.node,size:Fo.size,empty:Fo.empty,each:Fo.each,on:pU,attr:XH,attrTween:JH,style:kU,styleTween:NU,text:RU,textTween:jU,remove:gU,tween:HH,delay:nU,duration:iU,ease:aU,easeVarying:cU,end:LU,[Symbol.iterator]:Fo[Symbol.iterator]};function $U(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var PU={time:null,delay:0,duration:250,ease:$U};function zU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function HU(e){var t,n;e instanceof ei?(t=e._id,e=e._name):(t=M_(),(n=PU).time=nv(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var c=r[a],u=c.length,f,h=0;h<u;++h)(f=c[h])&&Sh(f,e,t,h,c,n||zU(f,t));return new ei(r,this._parents,e,t)}ru.prototype.interrupt=$H;ru.prototype.transition=HU;const Od=e=>()=>e;function UU(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ko(e,t,n){this.k=e,this.x=t,this.y=n}Ko.prototype={constructor:Ko,scale:function(e){return e===1?this:new Ko(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ko(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zo=new Ko(1,0,0);Ko.prototype;function Eg(e){e.stopImmediatePropagation()}function lc(e){e.preventDefault(),e.stopImmediatePropagation()}function FU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function VU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function uC(){return this.__zoom||Zo}function YU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function GU(){return navigator.maxTouchPoints||"ontouchstart"in this}function qU(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),c>a?(a+c)/2:Math.min(0,a)||Math.max(0,c))}function A_(){var e=FU,t=VU,n=qU,r=YU,i=GU,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,f=AH,h=vh("start","zoom","end"),p,g,y,b=500,w=150,S=0,k=10;function C(L){L.property("__zoom",uC).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",_).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(L,Y,j,G){var Q=L.selection?L.selection():L;Q.property("__zoom",uC),L!==Q?A(L,Y,j,G):Q.interrupt().each(function(){N(this,arguments).event(G).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},C.scaleBy=function(L,Y,j,G){C.scaleTo(L,function(){var Q=this.__zoom.k,V=typeof Y=="function"?Y.apply(this,arguments):Y;return Q*V},j,G)},C.scaleTo=function(L,Y,j,G){C.transform(L,function(){var Q=t.apply(this,arguments),V=this.__zoom,B=j==null?M(Q):typeof j=="function"?j.apply(this,arguments):j,H=V.invert(B),W=typeof Y=="function"?Y.apply(this,arguments):Y;return n(O(R(V,W),B,H),Q,c)},j,G)},C.translateBy=function(L,Y,j,G){C.transform(L,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),c)},null,G)},C.translateTo=function(L,Y,j,G,Q){C.transform(L,function(){var V=t.apply(this,arguments),B=this.__zoom,H=G==null?M(V):typeof G=="function"?G.apply(this,arguments):G;return n(Zo.translate(H[0],H[1]).scale(B.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof j=="function"?-j.apply(this,arguments):-j),V,c)},G,Q)};function R(L,Y){return Y=Math.max(a[0],Math.min(a[1],Y)),Y===L.k?L:new Ko(Y,L.x,L.y)}function O(L,Y,j){var G=Y[0]-j[0]*L.k,Q=Y[1]-j[1]*L.k;return G===L.x&&Q===L.y?L:new Ko(L.k,G,Q)}function M(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function A(L,Y,j,G){L.on("start.zoom",function(){N(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(G).end()}).tween("zoom",function(){var Q=this,V=arguments,B=N(Q,V).event(G),H=t.apply(Q,V),W=j==null?M(H):typeof j=="function"?j.apply(Q,V):j,re=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),ae=Q.__zoom,ye=typeof Y=="function"?Y.apply(Q,V):Y,me=f(ae.invert(W).concat(re/ae.k),ye.invert(W).concat(re/ye.k));return function(Ne){if(Ne===1)Ne=ye;else{var ue=me(Ne),be=re/ue[2];Ne=new Ko(be,W[0]-ue[0]*be,W[1]-ue[1]*be)}B.zoom(null,Ne)}})}function N(L,Y,j){return!j&&L.__zooming||new P(L,Y)}function P(L,Y){this.that=L,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,Y),this.taps=0}P.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,Y){return this.mouse&&L!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var Y=Ir(this.that).datum();h.call(L,this.that,new UU(L,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:h}),Y)}};function $(L,...Y){if(!e.apply(this,arguments))return;var j=N(this,Y).event(L),G=this.__zoom,Q=Math.max(a[0],Math.min(a[1],G.k*Math.pow(2,r.apply(this,arguments)))),V=Gr(L);if(j.wheel)(j.mouse[0][0]!==V[0]||j.mouse[0][1]!==V[1])&&(j.mouse[1]=G.invert(j.mouse[0]=V)),clearTimeout(j.wheel);else{if(G.k===Q)return;j.mouse=[V,G.invert(V)],of(this),j.start()}lc(L),j.wheel=setTimeout(B,w),j.zoom("mouse",n(O(R(G,Q),j.mouse[0],j.mouse[1]),j.extent,c));function B(){j.wheel=null,j.end()}}function I(L,...Y){if(y||!e.apply(this,arguments))return;var j=L.currentTarget,G=N(this,Y,!0).event(L),Q=Ir(L.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",re,!0),V=Gr(L,j),B=L.clientX,H=L.clientY;x_(L.view),Eg(L),G.mouse=[V,this.__zoom.invert(V)],of(this),G.start();function W(ae){if(lc(ae),!G.moved){var ye=ae.clientX-B,me=ae.clientY-H;G.moved=ye*ye+me*me>S}G.event(ae).zoom("mouse",n(O(G.that.__zoom,G.mouse[0]=Gr(ae,j),G.mouse[1]),G.extent,c))}function re(ae){Q.on("mousemove.zoom mouseup.zoom",null),g_(ae.view,G.moved),lc(ae),G.event(ae).end()}}function _(L,...Y){if(e.apply(this,arguments)){var j=this.__zoom,G=Gr(L.changedTouches?L.changedTouches[0]:L,this),Q=j.invert(G),V=j.k*(L.shiftKey?.5:2),B=n(O(R(j,V),G,Q),t.apply(this,Y),c);lc(L),u>0?Ir(this).transition().duration(u).call(A,B,G,L):Ir(this).call(C.transform,B,G,L)}}function F(L,...Y){if(e.apply(this,arguments)){var j=L.touches,G=j.length,Q=N(this,Y,L.changedTouches.length===G).event(L),V,B,H,W;for(Eg(L),B=0;B<G;++B)H=j[B],W=Gr(H,this),W=[W,this.__zoom.invert(W),H.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==W[2]&&(Q.touch1=W,Q.taps=0):(Q.touch0=W,V=!0,Q.taps=1+!!p);p&&(p=clearTimeout(p)),V&&(Q.taps<2&&(g=W[0],p=setTimeout(function(){p=null},b)),of(this),Q.start())}}function ee(L,...Y){if(this.__zooming){var j=N(this,Y).event(L),G=L.changedTouches,Q=G.length,V,B,H,W;for(lc(L),V=0;V<Q;++V)B=G[V],H=Gr(B,this),j.touch0&&j.touch0[2]===B.identifier?j.touch0[0]=H:j.touch1&&j.touch1[2]===B.identifier&&(j.touch1[0]=H);if(B=j.that.__zoom,j.touch1){var re=j.touch0[0],ae=j.touch0[1],ye=j.touch1[0],me=j.touch1[1],Ne=(Ne=ye[0]-re[0])*Ne+(Ne=ye[1]-re[1])*Ne,ue=(ue=me[0]-ae[0])*ue+(ue=me[1]-ae[1])*ue;B=R(B,Math.sqrt(Ne/ue)),H=[(re[0]+ye[0])/2,(re[1]+ye[1])/2],W=[(ae[0]+me[0])/2,(ae[1]+me[1])/2]}else if(j.touch0)H=j.touch0[0],W=j.touch0[1];else return;j.zoom("touch",n(O(B,H,W),j.extent,c))}}function K(L,...Y){if(this.__zooming){var j=N(this,Y).event(L),G=L.changedTouches,Q=G.length,V,B;for(Eg(L),y&&clearTimeout(y),y=setTimeout(function(){y=null},b),V=0;V<Q;++V)B=G[V],j.touch0&&j.touch0[2]===B.identifier?delete j.touch0:j.touch1&&j.touch1[2]===B.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(B=Gr(B,this),Math.hypot(g[0]-B[0],g[1]-B[1])<k)){var H=Ir(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return C.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:Od(+L),C):r},C.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Od(!!L),C):e},C.touchable=function(L){return arguments.length?(i=typeof L=="function"?L:Od(!!L),C):i},C.extent=function(L){return arguments.length?(t=typeof L=="function"?L:Od([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),C):t},C.scaleExtent=function(L){return arguments.length?(a[0]=+L[0],a[1]=+L[1],C):[a[0],a[1]]},C.translateExtent=function(L){return arguments.length?(c[0][0]=+L[0][0],c[1][0]=+L[1][0],c[0][1]=+L[0][1],c[1][1]=+L[1][1],C):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},C.constrain=function(L){return arguments.length?(n=L,C):n},C.duration=function(L){return arguments.length?(u=+L,C):u},C.interpolate=function(L){return arguments.length?(f=L,C):f},C.on=function(){var L=h.on.apply(h,arguments);return L===h?C:L},C.clickDistance=function(L){return arguments.length?(S=(L=+L)*L,C):Math.sqrt(S)},C.tapDistance=function(L){return arguments.length?(k=+L,C):k},C}const Eh=E.createContext(null),XU=Eh.Provider,ti={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},R_=ti.error001();function zt(e,t){const n=E.useContext(Eh);if(n===null)throw new Error(R_);return n_(n,e,t)}const yn=()=>{const e=E.useContext(Eh);if(e===null)throw new Error(R_);return E.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},KU=e=>e.userSelectionActive?"none":"all";function Ch({position:e,children:t,className:n,style:r,...i}){const a=zt(KU),c=`${e}`.split("-");return le.createElement("div",{className:Bn(["react-flow__panel",n,...c]),style:{...r,pointerEvents:a},...i},t)}function ZU({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:le.createElement(Ch,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},le.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const WU=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:f,className:h,...p})=>{const g=E.useRef(null),[y,b]=E.useState({x:0,y:0,width:0,height:0}),w=Bn(["react-flow__edge-textwrapper",h]);return E.useEffect(()=>{if(g.current){const S=g.current.getBBox();b({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),typeof n>"u"||!n?null:le.createElement("g",{transform:`translate(${e-y.width/2} ${t-y.height/2})`,className:w,visibility:y.width?"visible":"hidden",...p},i&&le.createElement("rect",{width:y.width+2*c[0],x:-c[0],y:-c[1],height:y.height+2*c[1],className:"react-flow__edge-textbg",style:a,rx:u,ry:u}),le.createElement("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:g,style:r},n),f)};var QU=E.memo(WU);const iv=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ga=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),sv=(e={x:0,y:0},t)=>({x:Ga(e.x,t[0][0],t[1][0]),y:Ga(e.y,t[0][1],t[1][1])}),dC=(e,t,n)=>e<t?Ga(Math.abs(e-t),1,50)/50:e>n?-Ga(Math.abs(e-n),1,50)/50:0,O_=(e,t)=>{const n=dC(e.x,35,t.width-35)*20,r=dC(e.y,35,t.height-35)*20;return[n,r]},B_=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},j_=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Hc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),D_=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),fC=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),JU=(e,t)=>D_(j_(Hc(e),Hc(t))),bm=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},eF=e=>$r(e.width)&&$r(e.height)&&$r(e.x)&&$r(e.y),$r=e=>!isNaN(e)&&isFinite(e),en=Symbol.for("internals"),L_=["Enter"," ","Escape"],tF=(e,t)=>{},nF=e=>"nativeEvent"in e;function wm(e){var i,a;const t=nF(e)?e.nativeEvent:e,n=((a=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const I_=e=>"clientX"in e,Ii=(e,t)=>{var a,c;const n=I_(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,i=n?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},jf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},iu=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:y,interactionWidth:b=20})=>le.createElement(le.Fragment,null,le.createElement("path",{id:e,style:p,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:y}),b&&le.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:b,className:"react-flow__edge-interaction"}),i&&$r(n)&&$r(r)?le.createElement(QU,{x:n,y:r,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h}):null);iu.displayName="BaseEdge";function cc(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(a=>a.id===e);i&&n(r,{...i})}}function $_({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,a=n<e?n+i:n-i,c=Math.abs(r-t)/2,u=r<t?r+c:r-c;return[a,u,i,c]}function P_({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:c,targetControlY:u}){const f=e*.125+i*.375+c*.375+n*.125,h=t*.125+a*.375+u*.375+r*.125,p=Math.abs(f-e),g=Math.abs(h-t);return[f,h,p,g]}var _s;(function(e){e.Strict="strict",e.Loose="loose"})(_s||(_s={}));var ys;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ys||(ys={}));var Uc;(function(e){e.Partial="partial",e.Full="full"})(Uc||(Uc={}));var Di;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Di||(Di={}));var xo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(xo||(xo={}));var Pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pe||(Pe={}));function hC({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Pe.Left||e===Pe.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function z_({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:a=Pe.Top}){const[c,u]=hC({pos:n,x1:e,y1:t,x2:r,y2:i}),[f,h]=hC({pos:a,x1:r,y1:i,x2:e,y2:t}),[p,g,y,b]=P_({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:c,sourceControlY:u,targetControlX:f,targetControlY:h});return[`M${e},${t} C${c},${u} ${f},${h} ${r},${i}`,p,g,y,b]}const av=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Pe.Bottom,targetPosition:a=Pe.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:w,interactionWidth:S})=>{const[k,C,R]=z_({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return le.createElement(iu,{path:k,labelX:C,labelY:R,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:w,interactionWidth:S})});av.displayName="SimpleBezierEdge";const pC={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}},rF=({source:e,sourcePosition:t=Pe.Bottom,target:n})=>t===Pe.Left||t===Pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},xC=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function oF({source:e,sourcePosition:t=Pe.Bottom,target:n,targetPosition:r=Pe.Top,center:i,offset:a}){const c=pC[t],u=pC[r],f={x:e.x+c.x*a,y:e.y+c.y*a},h={x:n.x+u.x*a,y:n.y+u.y*a},p=rF({source:f,sourcePosition:t,target:h}),g=p.x!==0?"x":"y",y=p[g];let b=[],w,S;const k={x:0,y:0},C={x:0,y:0},[R,O,M,A]=$_({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[g]*u[g]===-1){w=i.x??R,S=i.y??O;const P=[{x:w,y:f.y},{x:w,y:h.y}],$=[{x:f.x,y:S},{x:h.x,y:S}];c[g]===y?b=g==="x"?P:$:b=g==="x"?$:P}else{const P=[{x:f.x,y:h.y}],$=[{x:h.x,y:f.y}];if(g==="x"?b=c.x===y?$:P:b=c.y===y?P:$,t===r){const K=Math.abs(e[g]-n[g]);if(K<=a){const L=Math.min(a-1,a-K);c[g]===y?k[g]=(f[g]>e[g]?-1:1)*L:C[g]=(h[g]>n[g]?-1:1)*L}}if(t!==r){const K=g==="x"?"y":"x",L=c[g]===u[K],Y=f[K]>h[K],j=f[K]<h[K];(c[g]===1&&(!L&&Y||L&&j)||c[g]!==1&&(!L&&j||L&&Y))&&(b=g==="x"?P:$)}const I={x:f.x+k.x,y:f.y+k.y},_={x:h.x+C.x,y:h.y+C.y},F=Math.max(Math.abs(I.x-b[0].x),Math.abs(_.x-b[0].x)),ee=Math.max(Math.abs(I.y-b[0].y),Math.abs(_.y-b[0].y));F>=ee?(w=(I.x+_.x)/2,S=b[0].y):(w=b[0].x,S=(I.y+_.y)/2)}return[[e,{x:f.x+k.x,y:f.y+k.y},...b,{x:h.x+C.x,y:h.y+C.y},n],w,S,M,A]}function iF(e,t,n,r){const i=Math.min(xC(e,t)/2,xC(t,n)/2,r),{x:a,y:c}=t;if(e.x===a&&a===n.x||e.y===c&&c===n.y)return`L${a} ${c}`;if(e.y===c){const h=e.x<n.x?-1:1,p=e.y<n.y?1:-1;return`L ${a+i*h},${c}Q ${a},${c} ${a},${c+i*p}`}const u=e.x<n.x?1:-1,f=e.y<n.y?-1:1;return`L ${a},${c+i*f}Q ${a},${c} ${a+i*u},${c}`}function Sm({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:a=Pe.Top,borderRadius:c=5,centerX:u,centerY:f,offset:h=20}){const[p,g,y,b,w]=oF({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:u,y:f},offset:h});return[p.reduce((k,C,R)=>{let O="";return R>0&&R<p.length-1?O=iF(p[R-1],C,p[R+1],c):O=`${R===0?"M":"L"}${C.x} ${C.y}`,k+=O,k},""),g,y,b,w]}const kh=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:g=Pe.Bottom,targetPosition:y=Pe.Top,markerEnd:b,markerStart:w,pathOptions:S,interactionWidth:k})=>{const[C,R,O]=Sm({sourceX:e,sourceY:t,sourcePosition:g,targetX:n,targetY:r,targetPosition:y,borderRadius:S==null?void 0:S.borderRadius,offset:S==null?void 0:S.offset});return le.createElement(iu,{path:C,labelX:R,labelY:O,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:b,markerStart:w,interactionWidth:k})});kh.displayName="SmoothStepEdge";const lv=E.memo(e=>{var t;return le.createElement(kh,{...e,pathOptions:E.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});lv.displayName="StepEdge";function sF({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,a,c,u]=$_({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,a,c,u]}const cv=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:y,interactionWidth:b})=>{const[w,S,k]=sF({sourceX:e,sourceY:t,targetX:n,targetY:r});return le.createElement(iu,{path:w,labelX:S,labelY:k,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:y,interactionWidth:b})});cv.displayName="StraightEdge";function Bd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function gC({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){switch(e){case Pe.Left:return[t-Bd(t-r,a),n];case Pe.Right:return[t+Bd(r-t,a),n];case Pe.Top:return[t,n-Bd(n-i,a)];case Pe.Bottom:return[t,n+Bd(i-n,a)]}}function H_({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:a=Pe.Top,curvature:c=.25}){const[u,f]=gC({pos:n,x1:e,y1:t,x2:r,y2:i,c}),[h,p]=gC({pos:a,x1:r,y1:i,x2:e,y2:t,c}),[g,y,b,w]=P_({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:u,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${e},${t} C${u},${f} ${h},${p} ${r},${i}`,g,y,b,w]}const Df=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Pe.Bottom,targetPosition:a=Pe.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:w,pathOptions:S,interactionWidth:k})=>{const[C,R,O]=H_({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:S==null?void 0:S.curvature});return le.createElement(iu,{path:C,labelX:R,labelY:O,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:w,interactionWidth:k})});Df.displayName="BezierEdge";const uv=E.createContext(null),aF=uv.Provider;uv.Consumer;const lF=()=>E.useContext(uv),cF=e=>"id"in e&&"source"in e&&"target"in e,uF=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Em=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,dF=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),U_=(e,t)=>{if(!e.source||!e.target)return t;let n;return cF(e)?n={...e}:n={...e,id:uF(e)},dF(n,t)?t:t.concat(n)},Cm=({x:e,y:t},[n,r,i],a,[c,u])=>{const f={x:(e-n)/i,y:(t-r)/i};return a?{x:c*Math.round(f.x/c),y:u*Math.round(f.y/u)}:f},F_=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Ss=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Th=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:a,y:c}=Ss(i,t).positionAbsolute;return j_(r,Hc({x:a,y:c,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return D_(n)},V_=(e,t,[n,r,i]=[0,0,1],a=!1,c=!1,u=[0,0])=>{const f={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},h=[];return e.forEach(p=>{const{width:g,height:y,selectable:b=!0,hidden:w=!1}=p;if(c&&!b||w)return!1;const{positionAbsolute:S}=Ss(p,u),k={x:S.x,y:S.y,width:g||0,height:y||0},C=bm(f,k),R=typeof g>"u"||typeof y>"u"||g===null||y===null,O=a&&C>0,M=(g||0)*(y||0);(R||O||C>=M||p.dragging)&&h.push(p)}),h},Y_=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},G_=(e,t,n,r,i,a=.1)=>{const c=t/(e.width*(1+a)),u=n/(e.height*(1+a)),f=Math.min(c,u),h=Ga(f,r,i),p=e.x+e.width/2,g=e.y+e.height/2,y=t/2-p*h,b=n/2-g*h;return{x:y,y:b,zoom:h}},ds=(e,t=0)=>e.transition().duration(t);function mC(e,t,n,r){return(t[n]||[]).reduce((i,a)=>{var c,u;return`${e.id}-${a.id}-${n}`!==r&&i.push({id:a.id||null,type:n,nodeId:e.id,x:(((c=e.positionAbsolute)==null?void 0:c.x)??0)+a.x+a.width/2,y:(((u=e.positionAbsolute)==null?void 0:u.y)??0)+a.y+a.height/2}),i},[])}function fF(e,t,n,r,i,a){const{x:c,y:u}=Ii(e),h=t.elementsFromPoint(c,u).find(w=>w.classList.contains("react-flow__handle"));if(h){const w=h.getAttribute("data-nodeid");if(w){const S=dv(void 0,h),k=h.getAttribute("data-handleid"),C=a({nodeId:w,id:k,type:S});if(C){const R=i.find(O=>O.nodeId===w&&O.type===S&&O.id===k);return{handle:{id:k,type:S,nodeId:w,x:(R==null?void 0:R.x)||n.x,y:(R==null?void 0:R.y)||n.y},validHandleResult:C}}}}let p=[],g=1/0;if(i.forEach(w=>{const S=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(S<=r){const k=a(w);S<=g&&(S<g?p=[{handle:w,validHandleResult:k}]:S===g&&p.push({handle:w,validHandleResult:k}),g=S)}}),!p.length)return{handle:null,validHandleResult:q_()};if(p.length===1)return p[0];const y=p.some(({validHandleResult:w})=>w.isValid),b=p.some(({handle:w})=>w.type==="target");return p.find(({handle:w,validHandleResult:S})=>b?w.type==="target":y?S.isValid:!0)||p[0]}const hF={source:null,target:null,sourceHandle:null,targetHandle:null},q_=()=>({handleDomNode:null,isValid:!1,connection:hF,endHandle:null});function X_(e,t,n,r,i,a,c){const u=i==="target",f=c.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),h={...q_(),handleDomNode:f};if(f){const p=dv(void 0,f),g=f.getAttribute("data-nodeid"),y=f.getAttribute("data-handleid"),b=f.classList.contains("connectable"),w=f.classList.contains("connectableend"),S={source:u?g:n,sourceHandle:u?y:r,target:u?n:g,targetHandle:u?r:y};h.connection=S,b&&w&&(t===_s.Strict?u&&p==="source"||!u&&p==="target":g!==n||y!==r)&&(h.endHandle={nodeId:g,handleId:y,type:p},h.isValid=a(S))}return h}function pF({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,a)=>{if(a[en]){const{handleBounds:c}=a[en];let u=[],f=[];c&&(u=mC(a,c,"source",`${t}-${n}-${r}`),f=mC(a,c,"target",`${t}-${n}-${r}`)),i.push(...u,...f)}return i},[])}function dv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Cg(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function xF(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function K_({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:a,setState:c,isValidConnection:u,edgeUpdaterType:f,onReconnectEnd:h}){const p=B_(e.target),{connectionMode:g,domNode:y,autoPanOnConnect:b,connectionRadius:w,onConnectStart:S,panBy:k,getNodes:C,cancelConnection:R}=a();let O=0,M;const{x:A,y:N}=Ii(e),P=p==null?void 0:p.elementFromPoint(A,N),$=dv(f,P),I=y==null?void 0:y.getBoundingClientRect();if(!I||!$)return;let _,F=Ii(e,I),ee=!1,K=null,L=!1,Y=null;const j=pF({nodes:C(),nodeId:n,handleId:t,handleType:$}),G=()=>{if(!b)return;const[B,H]=O_(F,I);k({x:B,y:H}),O=requestAnimationFrame(G)};c({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:$,connectionStartHandle:{nodeId:n,handleId:t,type:$},connectionEndHandle:null}),S==null||S(e,{nodeId:n,handleId:t,handleType:$});function Q(B){const{transform:H}=a();F=Ii(B,I);const{handle:W,validHandleResult:re}=fF(B,p,Cm(F,H,!1,[1,1]),w,j,ae=>X_(ae,g,n,t,i?"target":"source",u,p));if(M=W,ee||(G(),ee=!0),Y=re.handleDomNode,K=re.connection,L=re.isValid,c({connectionPosition:M&&L?F_({x:M.x,y:M.y},H):F,connectionStatus:xF(!!M,L),connectionEndHandle:re.endHandle}),!M&&!L&&!Y)return Cg(_);K.source!==K.target&&Y&&(Cg(_),_=Y,Y.classList.add("connecting","react-flow__handle-connecting"),Y.classList.toggle("valid",L),Y.classList.toggle("react-flow__handle-valid",L))}function V(B){var H,W;(M||Y)&&K&&L&&(r==null||r(K)),(W=(H=a()).onConnectEnd)==null||W.call(H,B),f&&(h==null||h(B)),Cg(_),R(),cancelAnimationFrame(O),ee=!1,L=!1,K=null,Y=null,p.removeEventListener("mousemove",Q),p.removeEventListener("mouseup",V),p.removeEventListener("touchmove",Q),p.removeEventListener("touchend",V)}p.addEventListener("mousemove",Q),p.addEventListener("mouseup",V),p.addEventListener("touchmove",Q),p.addEventListener("touchend",V)}const yC=()=>!0,gF=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),mF=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:c}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.handleId)===t&&(c==null?void 0:c.type)===n}},Z_=E.forwardRef(({type:e="source",position:t=Pe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:c,onConnect:u,children:f,className:h,onMouseDown:p,onTouchStart:g,...y},b)=>{var I,_;const w=c||null,S=e==="target",k=yn(),C=lF(),{connectOnClick:R,noPanClassName:O}=zt(gF,Sn),{connecting:M,clickConnecting:A}=zt(mF(C,w,e),Sn);C||(_=(I=k.getState()).onError)==null||_.call(I,"010",ti.error010());const N=F=>{const{defaultEdgeOptions:ee,onConnect:K,hasDefaultEdges:L}=k.getState(),Y={...ee,...F};if(L){const{edges:j,setEdges:G}=k.getState();G(U_(Y,j))}K==null||K(Y),u==null||u(Y)},P=F=>{if(!C)return;const ee=I_(F);i&&(ee&&F.button===0||!ee)&&K_({event:F,handleId:w,nodeId:C,onConnect:N,isTarget:S,getState:k.getState,setState:k.setState,isValidConnection:n||k.getState().isValidConnection||yC}),ee?p==null||p(F):g==null||g(F)},$=F=>{const{onClickConnectStart:ee,onClickConnectEnd:K,connectionClickStartHandle:L,connectionMode:Y,isValidConnection:j}=k.getState();if(!C||!L&&!i)return;if(!L){ee==null||ee(F,{nodeId:C,handleId:w,handleType:e}),k.setState({connectionClickStartHandle:{nodeId:C,type:e,handleId:w}});return}const G=B_(F.target),Q=n||j||yC,{connection:V,isValid:B}=X_({nodeId:C,id:w,type:e},Y,L.nodeId,L.handleId||null,L.type,Q,G);B&&N(V),K==null||K(F),k.setState({connectionClickStartHandle:null})};return le.createElement("div",{"data-handleid":w,"data-nodeid":C,"data-handlepos":t,"data-id":`${C}-${w}-${e}`,className:Bn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",O,h,{source:!S,target:S,connectable:r,connectablestart:i,connectableend:a,connecting:A,connectionindicator:r&&(i&&!M||a&&M)}]),onMouseDown:P,onTouchStart:P,onClick:R?$:void 0,ref:b,...y},f)});Z_.displayName="Handle";var Lf=E.memo(Z_);const W_=({data:e,isConnectable:t,targetPosition:n=Pe.Top,sourcePosition:r=Pe.Bottom})=>le.createElement(le.Fragment,null,le.createElement(Lf,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,le.createElement(Lf,{type:"source",position:r,isConnectable:t}));W_.displayName="DefaultNode";var km=E.memo(W_);const Q_=({data:e,isConnectable:t,sourcePosition:n=Pe.Bottom})=>le.createElement(le.Fragment,null,e==null?void 0:e.label,le.createElement(Lf,{type:"source",position:n,isConnectable:t}));Q_.displayName="InputNode";var J_=E.memo(Q_);const eN=({data:e,isConnectable:t,targetPosition:n=Pe.Top})=>le.createElement(le.Fragment,null,le.createElement(Lf,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);eN.displayName="OutputNode";var tN=E.memo(eN);const fv=()=>null;fv.displayName="GroupNode";const yF=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),jd=e=>e.id;function vF(e,t){return Sn(e.selectedNodes.map(jd),t.selectedNodes.map(jd))&&Sn(e.selectedEdges.map(jd),t.selectedEdges.map(jd))}const nN=E.memo(({onSelectionChange:e})=>{const t=yn(),{selectedNodes:n,selectedEdges:r}=zt(yF,vF);return E.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(a=>a(i))},[n,r,e]),null});nN.displayName="SelectionListener";const bF=e=>!!e.onSelectionChange;function wF({onSelectionChange:e}){const t=zt(bF);return e||t?le.createElement(nN,{onSelectionChange:e}):null}const SF=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ea(e,t){E.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ot(e,t,n){E.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const EF=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:c,onClickConnectStart:u,onClickConnectEnd:f,nodesDraggable:h,nodesConnectable:p,nodesFocusable:g,edgesFocusable:y,edgesUpdatable:b,elevateNodesOnSelect:w,minZoom:S,maxZoom:k,nodeExtent:C,onNodesChange:R,onEdgesChange:O,elementsSelectable:M,connectionMode:A,snapGrid:N,snapToGrid:P,translateExtent:$,connectOnClick:I,defaultEdgeOptions:_,fitView:F,fitViewOptions:ee,onNodesDelete:K,onEdgesDelete:L,onNodeDrag:Y,onNodeDragStart:j,onNodeDragStop:G,onSelectionDrag:Q,onSelectionDragStart:V,onSelectionDragStop:B,noPanClassName:H,nodeOrigin:W,rfId:re,autoPanOnConnect:ae,autoPanOnNodeDrag:ye,onError:me,connectionRadius:Ne,isValidConnection:ue,nodeDragThreshold:be})=>{const{setNodes:Ce,setEdges:Ue,setDefaultNodesAndEdges:Te,setMinZoom:Ke,setMaxZoom:Be,setTranslateExtent:Fe,setNodeExtent:Ve,reset:_e}=zt(SF,Sn),Se=yn();return E.useEffect(()=>{const ze=r==null?void 0:r.map(ft=>({...ft,..._}));return Te(n,ze),()=>{_e()}},[]),ot("defaultEdgeOptions",_,Se.setState),ot("connectionMode",A,Se.setState),ot("onConnect",i,Se.setState),ot("onConnectStart",a,Se.setState),ot("onConnectEnd",c,Se.setState),ot("onClickConnectStart",u,Se.setState),ot("onClickConnectEnd",f,Se.setState),ot("nodesDraggable",h,Se.setState),ot("nodesConnectable",p,Se.setState),ot("nodesFocusable",g,Se.setState),ot("edgesFocusable",y,Se.setState),ot("edgesUpdatable",b,Se.setState),ot("elementsSelectable",M,Se.setState),ot("elevateNodesOnSelect",w,Se.setState),ot("snapToGrid",P,Se.setState),ot("snapGrid",N,Se.setState),ot("onNodesChange",R,Se.setState),ot("onEdgesChange",O,Se.setState),ot("connectOnClick",I,Se.setState),ot("fitViewOnInit",F,Se.setState),ot("fitViewOnInitOptions",ee,Se.setState),ot("onNodesDelete",K,Se.setState),ot("onEdgesDelete",L,Se.setState),ot("onNodeDrag",Y,Se.setState),ot("onNodeDragStart",j,Se.setState),ot("onNodeDragStop",G,Se.setState),ot("onSelectionDrag",Q,Se.setState),ot("onSelectionDragStart",V,Se.setState),ot("onSelectionDragStop",B,Se.setState),ot("noPanClassName",H,Se.setState),ot("nodeOrigin",W,Se.setState),ot("rfId",re,Se.setState),ot("autoPanOnConnect",ae,Se.setState),ot("autoPanOnNodeDrag",ye,Se.setState),ot("onError",me,Se.setState),ot("connectionRadius",Ne,Se.setState),ot("isValidConnection",ue,Se.setState),ot("nodeDragThreshold",be,Se.setState),Ea(e,Ce),Ea(t,Ue),Ea(S,Ke),Ea(k,Be),Ea($,Fe),Ea(C,Ve),null},vC={display:"none"},CF={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rN="react-flow__node-desc",oN="react-flow__edge-desc",kF="react-flow__aria-live",TF=e=>e.ariaLiveMessage;function _F({rfId:e}){const t=zt(TF);return le.createElement("div",{id:`${kF}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:CF},t)}function NF({rfId:e,disableKeyboardA11y:t}){return le.createElement(le.Fragment,null,le.createElement("div",{id:`${rN}-${e}`,style:vC},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),le.createElement("div",{id:`${oN}-${e}`,style:vC},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&le.createElement(_F,{rfId:e}))}var Fc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=E.useState(!1),i=E.useRef(!1),a=E.useRef(new Set([])),[c,u]=E.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.split("+")),p=h.reduce((g,y)=>g.concat(...y),[]);return[h,p]}return[[],[]]},[e]);return E.useEffect(()=>{const f=typeof document<"u"?document:null,h=(t==null?void 0:t.target)||f;if(e!==null){const p=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&wm(b))return!1;const S=wC(b.code,u);a.current.add(b[S]),bC(c,a.current,!1)&&(b.preventDefault(),r(!0))},g=b=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&wm(b))return!1;const S=wC(b.code,u);bC(c,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(b[S]),b.key==="Meta"&&a.current.clear(),i.current=!1},y=()=>{a.current.clear(),r(!1)};return h==null||h.addEventListener("keydown",p),h==null||h.addEventListener("keyup",g),window.addEventListener("blur",y),()=>{h==null||h.removeEventListener("keydown",p),h==null||h.removeEventListener("keyup",g),window.removeEventListener("blur",y)}}},[e,r]),n};function bC(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function wC(e,t){return t.includes(e)?"code":"key"}function iN(e,t,n,r){var u,f;const i=e.parentNode||e.parentId;if(!i)return n;const a=t.get(i),c=Ss(a,r);return iN(a,t,{x:(n.x??0)+c.x,y:(n.y??0)+c.y,z:(((u=a[en])==null?void 0:u.z)??0)>(n.z??0)?((f=a[en])==null?void 0:f.z)??0:n.z??0},r)}function sN(e,t,n){e.forEach(r=>{var a;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:c,y:u,z:f}=iN(r,e,{...r.position,z:((a=r[en])==null?void 0:a.z)??0},t);r.positionAbsolute={x:c,y:u},r[en].z=f,n!=null&&n[r.id]&&(r[en].isParent=!0)}})}function kg(e,t,n,r){const i=new Map,a={},c=r?1e3:0;return e.forEach(u=>{var b;const f=($r(u.zIndex)?u.zIndex:0)+(u.selected?c:0),h=t.get(u.id),p={...u,positionAbsolute:{x:u.position.x,y:u.position.y}},g=u.parentNode||u.parentId;g&&(a[g]=!0);const y=(h==null?void 0:h.type)&&(h==null?void 0:h.type)!==u.type;Object.defineProperty(p,en,{enumerable:!1,value:{handleBounds:y||(b=h==null?void 0:h[en])==null?void 0:b.handleBounds,z:f}}),i.set(u.id,p)}),sN(i,n,a),i}function aN(e,t={}){const{getNodes:n,width:r,height:i,minZoom:a,maxZoom:c,d3Zoom:u,d3Selection:f,fitViewOnInitDone:h,fitViewOnInit:p,nodeOrigin:g}=e(),y=t.initial&&!h&&p;if(u&&f&&(y||!t.initial)){const w=n().filter(k=>{var R;const C=t.includeHiddenNodes?k.width&&k.height:!k.hidden;return(R=t.nodes)!=null&&R.length?C&&t.nodes.some(O=>O.id===k.id):C}),S=w.every(k=>k.width&&k.height);if(w.length>0&&S){const k=Th(w,g),{x:C,y:R,zoom:O}=G_(k,r,i,t.minZoom??a,t.maxZoom??c,t.padding??.1),M=Zo.translate(C,R).scale(O);return typeof t.duration=="number"&&t.duration>0?u.transform(ds(f,t.duration),M):u.transform(f,M),!0}}return!1}function MF(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[en]:r[en],selected:n.selected})}),new Map(t)}function AF(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Dd({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:a,onNodesChange:c,onEdgesChange:u,hasDefaultNodes:f,hasDefaultEdges:h}=n();e!=null&&e.length&&(f&&r({nodeInternals:MF(e,i)}),c==null||c(e)),t!=null&&t.length&&(h&&r({edges:AF(t,a)}),u==null||u(t))}const Ca=()=>{},RF={zoomIn:Ca,zoomOut:Ca,zoomTo:Ca,getZoom:()=>1,setViewport:Ca,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ca,fitBounds:Ca,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},OF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),BF=()=>{const e=yn(),{d3Zoom:t,d3Selection:n}=zt(OF,Sn);return E.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(ds(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(ds(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,a)=>t.scaleTo(ds(n,a==null?void 0:a.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,a)=>{const[c,u,f]=e.getState().transform,h=Zo.translate(i.x??c,i.y??u).scale(i.zoom??f);t.transform(ds(n,a==null?void 0:a.duration),h)},getViewport:()=>{const[i,a,c]=e.getState().transform;return{x:i,y:a,zoom:c}},fitView:i=>aN(e.getState,i),setCenter:(i,a,c)=>{const{width:u,height:f,maxZoom:h}=e.getState(),p=typeof(c==null?void 0:c.zoom)<"u"?c.zoom:h,g=u/2-i*p,y=f/2-a*p,b=Zo.translate(g,y).scale(p);t.transform(ds(n,c==null?void 0:c.duration),b)},fitBounds:(i,a)=>{const{width:c,height:u,minZoom:f,maxZoom:h}=e.getState(),{x:p,y:g,zoom:y}=G_(i,c,u,f,h,(a==null?void 0:a.padding)??.1),b=Zo.translate(p,g).scale(y);t.transform(ds(n,a==null?void 0:a.duration),b)},project:i=>{const{transform:a,snapToGrid:c,snapGrid:u}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Cm(i,a,c,u)},screenToFlowPosition:i=>{const{transform:a,snapToGrid:c,snapGrid:u,domNode:f}=e.getState();if(!f)return i;const{x:h,y:p}=f.getBoundingClientRect(),g={x:i.x-h,y:i.y-p};return Cm(g,a,c,u)},flowToScreenPosition:i=>{const{transform:a,domNode:c}=e.getState();if(!c)return i;const{x:u,y:f}=c.getBoundingClientRect(),h=F_(i,a);return{x:h.x+u,y:h.y+f}},viewportInitialized:!0}:RF,[t,n])};function hv(){const e=BF(),t=yn(),n=E.useCallback(()=>t.getState().getNodes().map(S=>({...S})),[]),r=E.useCallback(S=>t.getState().nodeInternals.get(S),[]),i=E.useCallback(()=>{const{edges:S=[]}=t.getState();return S.map(k=>({...k}))},[]),a=E.useCallback(S=>{const{edges:k=[]}=t.getState();return k.find(C=>C.id===S)},[]),c=E.useCallback(S=>{const{getNodes:k,setNodes:C,hasDefaultNodes:R,onNodesChange:O}=t.getState(),M=k(),A=typeof S=="function"?S(M):S;if(R)C(A);else if(O){const N=A.length===0?M.map(P=>({type:"remove",id:P.id})):A.map(P=>({item:P,type:"reset"}));O(N)}},[]),u=E.useCallback(S=>{const{edges:k=[],setEdges:C,hasDefaultEdges:R,onEdgesChange:O}=t.getState(),M=typeof S=="function"?S(k):S;if(R)C(M);else if(O){const A=M.length===0?k.map(N=>({type:"remove",id:N.id})):M.map(N=>({item:N,type:"reset"}));O(A)}},[]),f=E.useCallback(S=>{const k=Array.isArray(S)?S:[S],{getNodes:C,setNodes:R,hasDefaultNodes:O,onNodesChange:M}=t.getState();if(O){const N=[...C(),...k];R(N)}else if(M){const A=k.map(N=>({item:N,type:"add"}));M(A)}},[]),h=E.useCallback(S=>{const k=Array.isArray(S)?S:[S],{edges:C=[],setEdges:R,hasDefaultEdges:O,onEdgesChange:M}=t.getState();if(O)R([...C,...k]);else if(M){const A=k.map(N=>({item:N,type:"add"}));M(A)}},[]),p=E.useCallback(()=>{const{getNodes:S,edges:k=[],transform:C}=t.getState(),[R,O,M]=C;return{nodes:S().map(A=>({...A})),edges:k.map(A=>({...A})),viewport:{x:R,y:O,zoom:M}}},[]),g=E.useCallback(({nodes:S,edges:k})=>{const{nodeInternals:C,getNodes:R,edges:O,hasDefaultNodes:M,hasDefaultEdges:A,onNodesDelete:N,onEdgesDelete:P,onNodesChange:$,onEdgesChange:I}=t.getState(),_=(S||[]).map(Y=>Y.id),F=(k||[]).map(Y=>Y.id),ee=R().reduce((Y,j)=>{const G=j.parentNode||j.parentId,Q=!_.includes(j.id)&&G&&Y.find(B=>B.id===G);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(_.includes(j.id)||Q)&&Y.push(j),Y},[]),K=O.filter(Y=>typeof Y.deletable=="boolean"?Y.deletable:!0),L=K.filter(Y=>F.includes(Y.id));if(ee||L){const Y=Y_(ee,K),j=[...L,...Y],G=j.reduce((Q,V)=>(Q.includes(V.id)||Q.push(V.id),Q),[]);if((A||M)&&(A&&t.setState({edges:O.filter(Q=>!G.includes(Q.id))}),M&&(ee.forEach(Q=>{C.delete(Q.id)}),t.setState({nodeInternals:new Map(C)}))),G.length>0&&(P==null||P(j),I&&I(G.map(Q=>({id:Q,type:"remove"})))),ee.length>0&&(N==null||N(ee),$)){const Q=ee.map(V=>({id:V.id,type:"remove"}));$(Q)}}},[]),y=E.useCallback(S=>{const k=eF(S),C=k?null:t.getState().nodeInternals.get(S.id);return!k&&!C?[null,null,k]:[k?S:fC(C),C,k]},[]),b=E.useCallback((S,k=!0,C)=>{const[R,O,M]=y(S);return R?(C||t.getState().getNodes()).filter(A=>{if(!M&&(A.id===O.id||!A.positionAbsolute))return!1;const N=fC(A),P=bm(N,R);return k&&P>0||P>=R.width*R.height}):[]},[]),w=E.useCallback((S,k,C=!0)=>{const[R]=y(S);if(!R)return!1;const O=bm(R,k);return C&&O>0||O>=R.width*R.height},[]);return E.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:c,setEdges:u,addNodes:f,addEdges:h,toObject:p,deleteElements:g,getIntersectingNodes:b,isNodeIntersecting:w}),[e,n,r,i,a,c,u,f,h,p,g,b,w])}const jF={actInsideInputWithModifier:!1};var DF=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=yn(),{deleteElements:r}=hv(),i=Fc(e,jF),a=Fc(t);E.useEffect(()=>{if(i){const{edges:c,getNodes:u}=n.getState(),f=u().filter(p=>p.selected),h=c.filter(p=>p.selected);r({nodes:f,edges:h}),n.setState({nodesSelectionActive:!1})}},[i]),E.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function LF(e){const t=yn();E.useEffect(()=>{let n;const r=()=>{var a,c;if(!e.current)return;const i=iv(e.current);(i.height===0||i.width===0)&&((c=(a=t.getState()).onError)==null||c.call(a,"004",ti.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const pv={position:"absolute",width:"100%",height:"100%",top:0,left:0},IF=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ld=e=>({x:e.x,y:e.y,zoom:e.k}),ka=(e,t)=>e.target.closest(`.${t}`),SC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),EC=e=>{const t=e.ctrlKey&&jf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},$F=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),PF=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:c=!1,panOnScrollSpeed:u=.5,panOnScrollMode:f=ys.Free,zoomOnDoubleClick:h=!0,elementsSelectable:p,panOnDrag:g=!0,defaultViewport:y,translateExtent:b,minZoom:w,maxZoom:S,zoomActivationKeyCode:k,preventScrolling:C=!0,children:R,noWheelClassName:O,noPanClassName:M})=>{const A=E.useRef(),N=yn(),P=E.useRef(!1),$=E.useRef(!1),I=E.useRef(null),_=E.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:ee,d3ZoomHandler:K,userSelectionActive:L}=zt($F,Sn),Y=Fc(k),j=E.useRef(0),G=E.useRef(!1),Q=E.useRef();return LF(I),E.useEffect(()=>{if(I.current){const V=I.current.getBoundingClientRect(),B=A_().scaleExtent([w,S]).translateExtent(b),H=Ir(I.current).call(B),W=Zo.translate(y.x,y.y).scale(Ga(y.zoom,w,S)),re=[[0,0],[V.width,V.height]],ae=B.constrain()(W,re,b);B.transform(H,ae),B.wheelDelta(EC),N.setState({d3Zoom:B,d3Selection:H,d3ZoomHandler:H.on("wheel.zoom"),transform:[ae.x,ae.y,ae.k],domNode:I.current.closest(".react-flow")})}},[]),E.useEffect(()=>{ee&&F&&(c&&!Y&&!L?ee.on("wheel.zoom",V=>{if(ka(V,O))return!1;V.preventDefault(),V.stopImmediatePropagation();const B=ee.property("__zoom").k||1;if(V.ctrlKey&&a){const ue=Gr(V),be=EC(V),Ce=B*Math.pow(2,be);F.scaleTo(ee,Ce,ue,V);return}const H=V.deltaMode===1?20:1;let W=f===ys.Vertical?0:V.deltaX*H,re=f===ys.Horizontal?0:V.deltaY*H;!jf()&&V.shiftKey&&f!==ys.Vertical&&(W=V.deltaY*H,re=0),F.translateBy(ee,-(W/B)*u,-(re/B)*u,{internal:!0});const ae=Ld(ee.property("__zoom")),{onViewportChangeStart:ye,onViewportChange:me,onViewportChangeEnd:Ne}=N.getState();clearTimeout(Q.current),G.current||(G.current=!0,t==null||t(V,ae),ye==null||ye(ae)),G.current&&(e==null||e(V,ae),me==null||me(ae),Q.current=setTimeout(()=>{n==null||n(V,ae),Ne==null||Ne(ae),G.current=!1},150))},{passive:!1}):typeof K<"u"&&ee.on("wheel.zoom",function(V,B){if(!C&&V.type==="wheel"&&!V.ctrlKey||ka(V,O))return null;V.preventDefault(),K.call(this,V,B)},{passive:!1}))},[L,c,f,ee,F,K,Y,a,C,O,t,e,n]),E.useEffect(()=>{F&&F.on("start",V=>{var W,re;if(!V.sourceEvent||V.sourceEvent.internal)return null;j.current=(W=V.sourceEvent)==null?void 0:W.button;const{onViewportChangeStart:B}=N.getState(),H=Ld(V.transform);P.current=!0,_.current=H,((re=V.sourceEvent)==null?void 0:re.type)==="mousedown"&&N.setState({paneDragging:!0}),B==null||B(H),t==null||t(V.sourceEvent,H)})},[F,t]),E.useEffect(()=>{F&&(L&&!P.current?F.on("zoom",null):L||F.on("zoom",V=>{var H;const{onViewportChange:B}=N.getState();if(N.setState({transform:[V.transform.x,V.transform.y,V.transform.k]}),$.current=!!(r&&SC(g,j.current??0)),(e||B)&&!((H=V.sourceEvent)!=null&&H.internal)){const W=Ld(V.transform);B==null||B(W),e==null||e(V.sourceEvent,W)}}))},[L,F,e,g,r]),E.useEffect(()=>{F&&F.on("end",V=>{if(!V.sourceEvent||V.sourceEvent.internal)return null;const{onViewportChangeEnd:B}=N.getState();if(P.current=!1,N.setState({paneDragging:!1}),r&&SC(g,j.current??0)&&!$.current&&r(V.sourceEvent),$.current=!1,(n||B)&&IF(_.current,V.transform)){const H=Ld(V.transform);_.current=H,clearTimeout(A.current),A.current=setTimeout(()=>{B==null||B(H),n==null||n(V.sourceEvent,H)},c?150:0)}})},[F,c,g,n,r]),E.useEffect(()=>{F&&F.filter(V=>{const B=Y||i,H=a&&V.ctrlKey;if((g===!0||Array.isArray(g)&&g.includes(1))&&V.button===1&&V.type==="mousedown"&&(ka(V,"react-flow__node")||ka(V,"react-flow__edge")))return!0;if(!g&&!B&&!c&&!h&&!a||L||!h&&V.type==="dblclick"||ka(V,O)&&V.type==="wheel"||ka(V,M)&&(V.type!=="wheel"||c&&V.type==="wheel"&&!Y)||!a&&V.ctrlKey&&V.type==="wheel"||!B&&!c&&!H&&V.type==="wheel"||!g&&(V.type==="mousedown"||V.type==="touchstart")||Array.isArray(g)&&!g.includes(V.button)&&V.type==="mousedown")return!1;const W=Array.isArray(g)&&g.includes(V.button)||!V.button||V.button<=1;return(!V.ctrlKey||V.type==="wheel")&&W})},[L,F,i,a,c,h,g,p,Y]),le.createElement("div",{className:"react-flow__renderer",ref:I,style:pv},R)},zF=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function HF(){const{userSelectionActive:e,userSelectionRect:t}=zt(zF,Sn);return e&&t?le.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function CC(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(i>0||a>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),a>0&&(r.style.height+=a),t.position.x<0){const c=Math.abs(t.position.x);r.position.x=r.position.x-c,r.style.width+=c,t.position.x=0}if(t.position.y<0){const c=Math.abs(t.position.y);r.position.y=r.position.y-c,r.style.height+=c,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function lN(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const a=e.filter(u=>u.id===i.id);if(a.length===0)return r.push(i),r;const c={...i};for(const u of a)if(u)switch(u.type){case"select":{c.selected=u.selected;break}case"position":{typeof u.position<"u"&&(c.position=u.position),typeof u.positionAbsolute<"u"&&(c.positionAbsolute=u.positionAbsolute),typeof u.dragging<"u"&&(c.dragging=u.dragging),c.expandParent&&CC(r,c);break}case"dimensions":{typeof u.dimensions<"u"&&(c.width=u.dimensions.width,c.height=u.dimensions.height),typeof u.updateStyle<"u"&&(c.style={...c.style||{},...u.dimensions}),typeof u.resizing=="boolean"&&(c.resizing=u.resizing),c.expandParent&&CC(r,c);break}case"remove":return r}return r.push(c),r},n)}function cN(e,t){return lN(e,t)}function UF(e,t){return lN(e,t)}const Oi=(e,t)=>({id:e,type:"select",selected:t});function Ba(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Oi(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Oi(r.id,!1))),n},[])}const Tg=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},FF=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),uN=E.memo(({isSelecting:e,selectionMode:t=Uc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:p,children:g})=>{const y=E.useRef(null),b=yn(),w=E.useRef(0),S=E.useRef(0),k=E.useRef(),{userSelectionActive:C,elementsSelectable:R,dragging:O}=zt(FF,Sn),M=()=>{b.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,S.current=0},A=K=>{a==null||a(K),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},N=K=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){K.preventDefault();return}c==null||c(K)},P=u?K=>u(K):void 0,$=K=>{const{resetSelectedElements:L,domNode:Y}=b.getState();if(k.current=Y==null?void 0:Y.getBoundingClientRect(),!R||!e||K.button!==0||K.target!==y.current||!k.current)return;const{x:j,y:G}=Ii(K,k.current);L(),b.setState({userSelectionRect:{width:0,height:0,startX:j,startY:G,x:j,y:G}}),r==null||r(K)},I=K=>{const{userSelectionRect:L,nodeInternals:Y,edges:j,transform:G,onNodesChange:Q,onEdgesChange:V,nodeOrigin:B,getNodes:H}=b.getState();if(!e||!k.current||!L)return;b.setState({userSelectionActive:!0,nodesSelectionActive:!1});const W=Ii(K,k.current),re=L.startX??0,ae=L.startY??0,ye={...L,x:W.x<re?W.x:re,y:W.y<ae?W.y:ae,width:Math.abs(W.x-re),height:Math.abs(W.y-ae)},me=H(),Ne=V_(Y,ye,G,t===Uc.Partial,!0,B),ue=Y_(Ne,j).map(Ce=>Ce.id),be=Ne.map(Ce=>Ce.id);if(w.current!==be.length){w.current=be.length;const Ce=Ba(me,be);Ce.length&&(Q==null||Q(Ce))}if(S.current!==ue.length){S.current=ue.length;const Ce=Ba(j,ue);Ce.length&&(V==null||V(Ce))}b.setState({userSelectionRect:ye})},_=K=>{if(K.button!==0)return;const{userSelectionRect:L}=b.getState();!C&&L&&K.target===y.current&&(A==null||A(K)),b.setState({nodesSelectionActive:w.current>0}),M(),i==null||i(K)},F=K=>{C&&(b.setState({nodesSelectionActive:w.current>0}),i==null||i(K)),M()},ee=R&&(e||C);return le.createElement("div",{className:Bn(["react-flow__pane",{dragging:O,selection:e}]),onClick:ee?void 0:Tg(A,y),onContextMenu:Tg(N,y),onWheel:Tg(P,y),onMouseEnter:ee?void 0:f,onMouseDown:ee?$:void 0,onMouseMove:ee?I:h,onMouseUp:ee?_:void 0,onMouseLeave:ee?F:p,ref:y,style:pv},g,le.createElement(HF,null))});uN.displayName="Pane";function dN(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:dN(r,t):!1}function kC(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function VF(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!dN(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var a,c;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=i.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((c=i.positionAbsolute)==null?void 0:c.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function YF(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function fN(e,t,n,r,i=[0,0],a){const c=YF(e,e.extent||r);let u=c;const f=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(f&&e.width&&e.height){const g=n.get(f),{x:y,y:b}=Ss(g,i).positionAbsolute;u=g&&$r(y)&&$r(b)&&$r(g.width)&&$r(g.height)?[[y+e.width*i[0],b+e.height*i[1]],[y+g.width-e.width+e.width*i[0],b+g.height-e.height+e.height*i[1]]]:u}else a==null||a("005",ti.error005()),u=c;else if(e.extent&&f&&e.extent!=="parent"){const g=n.get(f),{x:y,y:b}=Ss(g,i).positionAbsolute;u=[[e.extent[0][0]+y,e.extent[0][1]+b],[e.extent[1][0]+y,e.extent[1][1]+b]]}let h={x:0,y:0};if(f){const g=n.get(f);h=Ss(g,i).positionAbsolute}const p=u&&u!=="parent"?sv(t,u):t;return{position:{x:p.x-h.x,y:p.y-h.y},positionAbsolute:p}}function _g({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const TC=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const a=Array.from(i),c=t.getBoundingClientRect(),u={x:c.width*r[0],y:c.height*r[1]};return a.map(f=>{const h=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(h.left-c.left-u.x)/n,y:(h.top-c.top-u.y)/n,...iv(f)}})};function uc(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Tm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:c,nodeInternals:u,onError:f}=t.getState(),h=u.get(e);if(!h){f==null||f("012",ti.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&c)&&(a({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var p;return(p=r==null?void 0:r.current)==null?void 0:p.blur()})):i([e])}function GF(){const e=yn();return E.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:a}=e.getState(),c=n.touches?n.touches[0].clientX:n.clientX,u=n.touches?n.touches[0].clientY:n.clientY,f={x:(c-r[0])/r[2],y:(u-r[1])/r[2]};return{xSnapped:a?i[0]*Math.round(f.x/i[0]):f.x,ySnapped:a?i[1]*Math.round(f.y/i[1]):f.y,...f}},[])}function Ng(e){return(t,n,r)=>e==null?void 0:e(t,r)}function hN({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:c}){const u=yn(),[f,h]=E.useState(!1),p=E.useRef([]),g=E.useRef({x:null,y:null}),y=E.useRef(0),b=E.useRef(null),w=E.useRef({x:0,y:0}),S=E.useRef(null),k=E.useRef(!1),C=E.useRef(!1),R=E.useRef(!1),O=GF();return E.useEffect(()=>{if(e!=null&&e.current){const M=Ir(e.current),A=({x:$,y:I})=>{const{nodeInternals:_,onNodeDrag:F,onSelectionDrag:ee,updateNodePositions:K,nodeExtent:L,snapGrid:Y,snapToGrid:j,nodeOrigin:G,onError:Q}=u.getState();g.current={x:$,y:I};let V=!1,B={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&L){const W=Th(p.current,G);B=Hc(W)}if(p.current=p.current.map(W=>{const re={x:$-W.distance.x,y:I-W.distance.y};j&&(re.x=Y[0]*Math.round(re.x/Y[0]),re.y=Y[1]*Math.round(re.y/Y[1]));const ae=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];p.current.length>1&&L&&!W.extent&&(ae[0][0]=W.positionAbsolute.x-B.x+L[0][0],ae[1][0]=W.positionAbsolute.x+(W.width??0)-B.x2+L[1][0],ae[0][1]=W.positionAbsolute.y-B.y+L[0][1],ae[1][1]=W.positionAbsolute.y+(W.height??0)-B.y2+L[1][1]);const ye=fN(W,re,_,ae,G,Q);return V=V||W.position.x!==ye.position.x||W.position.y!==ye.position.y,W.position=ye.position,W.positionAbsolute=ye.positionAbsolute,W}),!V)return;K(p.current,!0,!0),h(!0);const H=i?F:Ng(ee);if(H&&S.current){const[W,re]=_g({nodeId:i,dragItems:p.current,nodeInternals:_});H(S.current,W,re)}},N=()=>{if(!b.current)return;const[$,I]=O_(w.current,b.current);if($!==0||I!==0){const{transform:_,panBy:F}=u.getState();g.current.x=(g.current.x??0)-$/_[2],g.current.y=(g.current.y??0)-I/_[2],F({x:$,y:I})&&A(g.current)}y.current=requestAnimationFrame(N)},P=$=>{var G;const{nodeInternals:I,multiSelectionActive:_,nodesDraggable:F,unselectNodesAndEdges:ee,onNodeDragStart:K,onSelectionDragStart:L}=u.getState();C.current=!0;const Y=i?K:Ng(L);(!c||!a)&&!_&&i&&((G=I.get(i))!=null&&G.selected||ee()),i&&a&&c&&Tm({id:i,store:u,nodeRef:e});const j=O($);if(g.current=j,p.current=VF(I,F,j,i),Y&&p.current){const[Q,V]=_g({nodeId:i,dragItems:p.current,nodeInternals:I});Y($.sourceEvent,Q,V)}};if(t)M.on(".drag",null);else{const $=oH().on("start",I=>{const{domNode:_,nodeDragThreshold:F}=u.getState();F===0&&P(I),R.current=!1;const ee=O(I);g.current=ee,b.current=(_==null?void 0:_.getBoundingClientRect())||null,w.current=Ii(I.sourceEvent,b.current)}).on("drag",I=>{var K,L;const _=O(I),{autoPanOnNodeDrag:F,nodeDragThreshold:ee}=u.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(R.current=!0),!R.current){if(!k.current&&C.current&&F&&(k.current=!0,N()),!C.current){const Y=_.xSnapped-(((K=g==null?void 0:g.current)==null?void 0:K.x)??0),j=_.ySnapped-(((L=g==null?void 0:g.current)==null?void 0:L.y)??0);Math.sqrt(Y*Y+j*j)>ee&&P(I)}(g.current.x!==_.xSnapped||g.current.y!==_.ySnapped)&&p.current&&C.current&&(S.current=I.sourceEvent,w.current=Ii(I.sourceEvent,b.current),A(_))}}).on("end",I=>{if(!(!C.current||R.current)&&(h(!1),k.current=!1,C.current=!1,cancelAnimationFrame(y.current),p.current)){const{updateNodePositions:_,nodeInternals:F,onNodeDragStop:ee,onSelectionDragStop:K}=u.getState(),L=i?ee:Ng(K);if(_(p.current,!1,!1),L){const[Y,j]=_g({nodeId:i,dragItems:p.current,nodeInternals:F});L(I.sourceEvent,Y,j)}}}).filter(I=>{const _=I.target;return!I.button&&(!n||!kC(_,`.${n}`,e))&&(!r||kC(_,r,e))});return M.call($),()=>{M.on(".drag",null)}}}},[e,t,n,r,a,u,i,c,O]),f}function pN(){const e=yn();return E.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:a,getNodes:c,snapToGrid:u,snapGrid:f,onError:h,nodesDraggable:p}=e.getState(),g=c().filter(R=>R.selected&&(R.draggable||p&&typeof R.draggable>"u")),y=u?f[0]:5,b=u?f[1]:5,w=n.isShiftPressed?4:1,S=n.x*y*w,k=n.y*b*w,C=g.map(R=>{if(R.positionAbsolute){const O={x:R.positionAbsolute.x+S,y:R.positionAbsolute.y+k};u&&(O.x=f[0]*Math.round(O.x/f[0]),O.y=f[1]*Math.round(O.y/f[1]));const{positionAbsolute:M,position:A}=fN(R,O,r,i,void 0,h);R.position=A,R.positionAbsolute=M}return R});a(C,!0,!1)},[])}const za={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var dc=e=>{const t=({id:n,type:r,data:i,xPos:a,yPos:c,xPosOrigin:u,yPosOrigin:f,selected:h,onClick:p,onMouseEnter:g,onMouseMove:y,onMouseLeave:b,onContextMenu:w,onDoubleClick:S,style:k,className:C,isDraggable:R,isSelectable:O,isConnectable:M,isFocusable:A,selectNodesOnDrag:N,sourcePosition:P,targetPosition:$,hidden:I,resizeObserver:_,dragHandle:F,zIndex:ee,isParent:K,noDragClassName:L,noPanClassName:Y,initialized:j,disableKeyboardA11y:G,ariaLabel:Q,rfId:V,hasHandleBounds:B})=>{const H=yn(),W=E.useRef(null),re=E.useRef(null),ae=E.useRef(P),ye=E.useRef($),me=E.useRef(r),Ne=O||R||p||g||y||b,ue=pN(),be=uc(n,H.getState,g),Ce=uc(n,H.getState,y),Ue=uc(n,H.getState,b),Te=uc(n,H.getState,w),Ke=uc(n,H.getState,S),Be=_e=>{const{nodeDragThreshold:Se}=H.getState();if(O&&(!N||!R||Se>0)&&Tm({id:n,store:H,nodeRef:W}),p){const ze=H.getState().nodeInternals.get(n);ze&&p(_e,{...ze})}},Fe=_e=>{if(!wm(_e)&&!G)if(L_.includes(_e.key)&&O){const Se=_e.key==="Escape";Tm({id:n,store:H,unselect:Se,nodeRef:W})}else R&&h&&Object.prototype.hasOwnProperty.call(za,_e.key)&&(H.setState({ariaLiveMessage:`Moved selected node ${_e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~c}`}),ue({x:za[_e.key].x,y:za[_e.key].y,isShiftPressed:_e.shiftKey}))};E.useEffect(()=>()=>{re.current&&(_==null||_.unobserve(re.current),re.current=null)},[]),E.useEffect(()=>{if(W.current&&!I){const _e=W.current;(!j||!B||re.current!==_e)&&(re.current&&(_==null||_.unobserve(re.current)),_==null||_.observe(_e),re.current=_e)}},[I,j,B]),E.useEffect(()=>{const _e=me.current!==r,Se=ae.current!==P,ze=ye.current!==$;W.current&&(_e||Se||ze)&&(_e&&(me.current=r),Se&&(ae.current=P),ze&&(ye.current=$),H.getState().updateNodeDimensions([{id:n,nodeElement:W.current,forceUpdate:!0}]))},[n,r,P,$]);const Ve=hN({nodeRef:W,disabled:I||!R,noDragClassName:L,handleSelector:F,nodeId:n,isSelectable:O,selectNodesOnDrag:N});return I?null:le.createElement("div",{className:Bn(["react-flow__node",`react-flow__node-${r}`,{[Y]:R},C,{selected:h,selectable:O,parent:K,dragging:Ve}]),ref:W,style:{zIndex:ee,transform:`translate(${u}px,${f}px)`,pointerEvents:Ne?"all":"none",visibility:j?"visible":"hidden",...k},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:be,onMouseMove:Ce,onMouseLeave:Ue,onContextMenu:Te,onClick:Be,onDoubleClick:Ke,onKeyDown:A?Fe:void 0,tabIndex:A?0:void 0,role:A?"button":void 0,"aria-describedby":G?void 0:`${rN}-${V}`,"aria-label":Q},le.createElement(aF,{value:n},le.createElement(e,{id:n,data:i,type:r,xPos:a,yPos:c,selected:h,isConnectable:M,sourcePosition:P,targetPosition:$,dragging:Ve,dragHandle:F,zIndex:ee})))};return t.displayName="NodeWrapper",E.memo(t)};const qF=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Th(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function XF({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=yn(),{width:i,height:a,x:c,y:u,transformString:f,userSelectionActive:h}=zt(qF,Sn),p=pN(),g=E.useRef(null);if(E.useEffect(()=>{var w;n||(w=g.current)==null||w.focus({preventScroll:!0})},[n]),hN({nodeRef:g}),h||!i||!a)return null;const y=e?w=>{const S=r.getState().getNodes().filter(k=>k.selected);e(w,S)}:void 0,b=w=>{Object.prototype.hasOwnProperty.call(za,w.key)&&p({x:za[w.key].x,y:za[w.key].y,isShiftPressed:w.shiftKey})};return le.createElement("div",{className:Bn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:f}},le.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:n?void 0:-1,onKeyDown:n?void 0:b,style:{width:i,height:a,top:u,left:c}}))}var KF=E.memo(XF);const ZF=e=>e.nodesSelectionActive,xN=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:c,deleteKeyCode:u,onMove:f,onMoveStart:h,onMoveEnd:p,selectionKeyCode:g,selectionOnDrag:y,selectionMode:b,onSelectionStart:w,onSelectionEnd:S,multiSelectionKeyCode:k,panActivationKeyCode:C,zoomActivationKeyCode:R,elementsSelectable:O,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:N,panOnScrollSpeed:P,panOnScrollMode:$,zoomOnDoubleClick:I,panOnDrag:_,defaultViewport:F,translateExtent:ee,minZoom:K,maxZoom:L,preventScrolling:Y,onSelectionContextMenu:j,noWheelClassName:G,noPanClassName:Q,disableKeyboardA11y:V})=>{const B=zt(ZF),H=Fc(g),W=Fc(C),re=W||_,ae=W||N,ye=H||y&&re!==!0;return DF({deleteKeyCode:u,multiSelectionKeyCode:k}),le.createElement(PF,{onMove:f,onMoveStart:h,onMoveEnd:p,onPaneContextMenu:a,elementsSelectable:O,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:ae,panOnScrollSpeed:P,panOnScrollMode:$,zoomOnDoubleClick:I,panOnDrag:!H&&re,defaultViewport:F,translateExtent:ee,minZoom:K,maxZoom:L,zoomActivationKeyCode:R,preventScrolling:Y,noWheelClassName:G,noPanClassName:Q},le.createElement(uN,{onSelectionStart:w,onSelectionEnd:S,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:c,panOnDrag:re,isSelecting:!!ye,selectionMode:b},e,B&&le.createElement(KF,{onSelectionContextMenu:j,noPanClassName:Q,disableKeyboardA11y:V})))};xN.displayName="FlowRenderer";var WF=E.memo(xN);function QF(e){return zt(E.useCallback(n=>e?V_(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function JF(e){const t={input:dc(e.input||J_),default:dc(e.default||km),output:dc(e.output||tN),group:dc(e.group||fv)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,a)=>(i[a]=dc(e[a]||km),i),n);return{...t,...r}}const eV=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},tV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),gN=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:c}=zt(tV,Sn),u=QF(e.onlyRenderVisibleElements),f=E.useRef(),h=E.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const p=new ResizeObserver(g=>{const y=g.map(b=>({id:b.target.getAttribute("data-id"),nodeElement:b.target,forceUpdate:!0}));a(y)});return f.current=p,p},[]);return E.useEffect(()=>()=>{var p;(p=f==null?void 0:f.current)==null||p.disconnect()},[]),le.createElement("div",{className:"react-flow__nodes",style:pv},u.map(p=>{var A,N,P;let g=p.type||"default";e.nodeTypes[g]||(c==null||c("003",ti.error003(g)),g="default");const y=e.nodeTypes[g]||e.nodeTypes.default,b=!!(p.draggable||t&&typeof p.draggable>"u"),w=!!(p.selectable||i&&typeof p.selectable>"u"),S=!!(p.connectable||n&&typeof p.connectable>"u"),k=!!(p.focusable||r&&typeof p.focusable>"u"),C=e.nodeExtent?sv(p.positionAbsolute,e.nodeExtent):p.positionAbsolute,R=(C==null?void 0:C.x)??0,O=(C==null?void 0:C.y)??0,M=eV({x:R,y:O,width:p.width??0,height:p.height??0,origin:e.nodeOrigin});return le.createElement(y,{key:p.id,id:p.id,className:p.className,style:p.style,type:g,data:p.data,sourcePosition:p.sourcePosition||Pe.Bottom,targetPosition:p.targetPosition||Pe.Top,hidden:p.hidden,xPos:R,yPos:O,xPosOrigin:M.x,yPosOrigin:M.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!p.selected,isDraggable:b,isSelectable:w,isConnectable:S,isFocusable:k,resizeObserver:h,dragHandle:p.dragHandle,zIndex:((A=p[en])==null?void 0:A.z)??0,isParent:!!((N=p[en])!=null&&N.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!p.width&&!!p.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:p.ariaLabel,hasHandleBounds:!!((P=p[en])!=null&&P.handleBounds)})}))};gN.displayName="NodeRenderer";var nV=E.memo(gN);const rV=(e,t,n)=>n===Pe.Left?e-t:n===Pe.Right?e+t:e,oV=(e,t,n)=>n===Pe.Top?e-t:n===Pe.Bottom?e+t:e,_C="react-flow__edgeupdater",NC=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:c,type:u})=>le.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:c,className:Bn([_C,`${_C}-${u}`]),cx:rV(t,r,e),cy:oV(n,r,e),r,stroke:"transparent",fill:"transparent"}),iV=()=>!0;var Ta=e=>{const t=({id:n,className:r,type:i,data:a,onClick:c,onEdgeDoubleClick:u,selected:f,animated:h,label:p,labelStyle:g,labelShowBg:y,labelBgStyle:b,labelBgPadding:w,labelBgBorderRadius:S,style:k,source:C,target:R,sourceX:O,sourceY:M,targetX:A,targetY:N,sourcePosition:P,targetPosition:$,elementsSelectable:I,hidden:_,sourceHandleId:F,targetHandleId:ee,onContextMenu:K,onMouseEnter:L,onMouseMove:Y,onMouseLeave:j,reconnectRadius:G,onReconnect:Q,onReconnectStart:V,onReconnectEnd:B,markerEnd:H,markerStart:W,rfId:re,ariaLabel:ae,isFocusable:ye,isReconnectable:me,pathOptions:Ne,interactionWidth:ue,disableKeyboardA11y:be})=>{const Ce=E.useRef(null),[Ue,Te]=E.useState(!1),[Ke,Be]=E.useState(!1),Fe=yn(),Ve=E.useMemo(()=>`url('#${Em(W,re)}')`,[W,re]),_e=E.useMemo(()=>`url('#${Em(H,re)}')`,[H,re]);if(_)return null;const Se=mt=>{var yt;const{edges:ce,addSelectedEdges:ve,unselectNodesAndEdges:Ie,multiSelectionActive:Ze}=Fe.getState(),Ht=ce.find(Cn=>Cn.id===n);Ht&&(I&&(Fe.setState({nodesSelectionActive:!1}),Ht.selected&&Ze?(Ie({nodes:[],edges:[Ht]}),(yt=Ce.current)==null||yt.blur()):ve([n])),c&&c(mt,Ht))},ze=cc(n,Fe.getState,u),ft=cc(n,Fe.getState,K),it=cc(n,Fe.getState,L),Oe=cc(n,Fe.getState,Y),tn=cc(n,Fe.getState,j),ln=(mt,ce)=>{if(mt.button!==0)return;const{edges:ve,isValidConnection:Ie}=Fe.getState(),Ze=ce?R:C,Ht=(ce?ee:F)||null,yt=ce?"target":"source",Cn=Ie||iV,kn=ce,Dn=ve.find(Fn=>Fn.id===n);Be(!0),V==null||V(mt,Dn,yt);const Hn=Fn=>{Be(!1),B==null||B(Fn,Dn,yt)};K_({event:mt,handleId:Ht,nodeId:Ze,onConnect:Fn=>Q==null?void 0:Q(Dn,Fn),isTarget:kn,getState:Fe.getState,setState:Fe.setState,isValidConnection:Cn,edgeUpdaterType:yt,onReconnectEnd:Hn})},En=mt=>ln(mt,!0),Ct=mt=>ln(mt,!1),ut=()=>Te(!0),Bt=()=>Te(!1),_t=!I&&!c,jn=mt=>{var ce;if(!be&&L_.includes(mt.key)&&I){const{unselectNodesAndEdges:ve,addSelectedEdges:Ie,edges:Ze}=Fe.getState();mt.key==="Escape"?((ce=Ce.current)==null||ce.blur(),ve({edges:[Ze.find(yt=>yt.id===n)]})):Ie([n])}};return le.createElement("g",{className:Bn(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:f,animated:h,inactive:_t,updating:Ue}]),onClick:Se,onDoubleClick:ze,onContextMenu:ft,onMouseEnter:it,onMouseMove:Oe,onMouseLeave:tn,onKeyDown:ye?jn:void 0,tabIndex:ye?0:void 0,role:ye?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ae===null?void 0:ae||`Edge from ${C} to ${R}`,"aria-describedby":ye?`${oN}-${re}`:void 0,ref:Ce},!Ke&&le.createElement(e,{id:n,source:C,target:R,selected:f,animated:h,label:p,labelStyle:g,labelShowBg:y,labelBgStyle:b,labelBgPadding:w,labelBgBorderRadius:S,data:a,style:k,sourceX:O,sourceY:M,targetX:A,targetY:N,sourcePosition:P,targetPosition:$,sourceHandleId:F,targetHandleId:ee,markerStart:Ve,markerEnd:_e,pathOptions:Ne,interactionWidth:ue}),me&&le.createElement(le.Fragment,null,(me==="source"||me===!0)&&le.createElement(NC,{position:P,centerX:O,centerY:M,radius:G,onMouseDown:En,onMouseEnter:ut,onMouseOut:Bt,type:"source"}),(me==="target"||me===!0)&&le.createElement(NC,{position:$,centerX:A,centerY:N,radius:G,onMouseDown:Ct,onMouseEnter:ut,onMouseOut:Bt,type:"target"})))};return t.displayName="EdgeWrapper",E.memo(t)};function sV(e){const t={default:Ta(e.default||Df),straight:Ta(e.bezier||cv),step:Ta(e.step||lv),smoothstep:Ta(e.step||kh),simplebezier:Ta(e.simplebezier||av)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,a)=>(i[a]=Ta(e[a]||Df),i),n);return{...t,...r}}function MC(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,c=(n==null?void 0:n.height)||t.height;switch(e){case Pe.Top:return{x:r+a/2,y:i};case Pe.Right:return{x:r+a,y:i+c/2};case Pe.Bottom:return{x:r+a/2,y:i+c};case Pe.Left:return{x:r,y:i+c/2}}}function AC(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const aV=(e,t,n,r,i,a)=>{const c=MC(n,e,t),u=MC(a,r,i);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y}};function lV({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:c,height:u,transform:f}){const h={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+a)};h.x===h.x2&&(h.x2+=1),h.y===h.y2&&(h.y2+=1);const p=Hc({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:c/f[2],height:u/f[2]}),g=Math.max(0,Math.min(p.x2,h.x2)-Math.max(p.x,h.x)),y=Math.max(0,Math.min(p.y2,h.y2)-Math.max(p.y,h.y));return Math.ceil(g*y)>0}function RC(e){var r,i,a,c,u;const t=((r=e==null?void 0:e[en])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((c=e==null?void 0:e.positionAbsolute)==null?void 0:c.x)||0,y:((u=e==null?void 0:e.positionAbsolute)==null?void 0:u.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const cV=[{level:0,isMaxLevel:!0,edges:[]}];function uV(e,t,n=!1){let r=-1;const i=e.reduce((c,u)=>{var p,g;const f=$r(u.zIndex);let h=f?u.zIndex:0;if(n){const y=t.get(u.target),b=t.get(u.source),w=u.selected||(y==null?void 0:y.selected)||(b==null?void 0:b.selected),S=Math.max(((p=b==null?void 0:b[en])==null?void 0:p.z)||0,((g=y==null?void 0:y[en])==null?void 0:g.z)||0,1e3);h=(f?u.zIndex:0)+(w?S:0)}return c[h]?c[h].push(u):c[h]=[u],r=h>r?h:r,c},{}),a=Object.entries(i).map(([c,u])=>{const f=+c;return{edges:u,level:f,isMaxLevel:f===r}});return a.length===0?cV:a}function dV(e,t,n){const r=zt(E.useCallback(i=>e?i.edges.filter(a=>{const c=t.get(a.source),u=t.get(a.target);return(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&(u==null?void 0:u.width)&&(u==null?void 0:u.height)&&lV({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:u.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:u.width,targetHeight:u.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return uV(r,t,n)}const fV=({color:e="none",strokeWidth:t=1})=>le.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hV=({color:e="none",strokeWidth:t=1})=>le.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),OC={[xo.Arrow]:fV,[xo.ArrowClosed]:hV};function pV(e){const t=yn();return E.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call(OC,e)?OC[e]:((a=(i=t.getState()).onError)==null||a.call(i,"009",ti.error009(e)),null)},[e])}const xV=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:c,orient:u="auto-start-reverse"})=>{const f=pV(t);return f?le.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:u,refX:"0",refY:"0"},le.createElement(f,{color:n,strokeWidth:c})):null},gV=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,a)=>([a.markerStart,a.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const u=Em(c,t);r.includes(u)||(i.push({id:u,color:c.color||e,...c}),r.push(u))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))},mN=({defaultColor:e,rfId:t})=>{const n=zt(E.useCallback(gV({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((a,c)=>a.id!==i[c].id)));return le.createElement("defs",null,n.map(r=>le.createElement(xV,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};mN.displayName="MarkerDefinitions";var mV=E.memo(mN);const yV=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),yN=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:a,onEdgeContextMenu:c,onEdgeMouseEnter:u,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:p,onEdgeDoubleClick:g,onReconnect:y,onReconnectStart:b,onReconnectEnd:w,reconnectRadius:S,children:k,disableKeyboardA11y:C})=>{const{edgesFocusable:R,edgesUpdatable:O,elementsSelectable:M,width:A,height:N,connectionMode:P,nodeInternals:$,onError:I}=zt(yV,Sn),_=dV(t,$,n);return A?le.createElement(le.Fragment,null,_.map(({level:F,edges:ee,isMaxLevel:K})=>le.createElement("svg",{key:F,style:{zIndex:F},width:A,height:N,className:"react-flow__edges react-flow__container"},K&&le.createElement(mV,{defaultColor:e,rfId:r}),le.createElement("g",null,ee.map(L=>{const[Y,j,G]=RC($.get(L.source)),[Q,V,B]=RC($.get(L.target));if(!G||!B)return null;let H=L.type||"default";i[H]||(I==null||I("011",ti.error011(H)),H="default");const W=i[H]||i.default,re=P===_s.Strict?V.target:(V.target??[]).concat(V.source??[]),ae=AC(j.source,L.sourceHandle),ye=AC(re,L.targetHandle),me=(ae==null?void 0:ae.position)||Pe.Bottom,Ne=(ye==null?void 0:ye.position)||Pe.Top,ue=!!(L.focusable||R&&typeof L.focusable>"u"),be=L.reconnectable||L.updatable,Ce=typeof y<"u"&&(be||O&&typeof be>"u");if(!ae||!ye)return I==null||I("008",ti.error008(ae,L)),null;const{sourceX:Ue,sourceY:Te,targetX:Ke,targetY:Be}=aV(Y,ae,me,Q,ye,Ne);return le.createElement(W,{key:L.id,id:L.id,className:Bn([L.className,a]),type:H,data:L.data,selected:!!L.selected,animated:!!L.animated,hidden:!!L.hidden,label:L.label,labelStyle:L.labelStyle,labelShowBg:L.labelShowBg,labelBgStyle:L.labelBgStyle,labelBgPadding:L.labelBgPadding,labelBgBorderRadius:L.labelBgBorderRadius,style:L.style,source:L.source,target:L.target,sourceHandleId:L.sourceHandle,targetHandleId:L.targetHandle,markerEnd:L.markerEnd,markerStart:L.markerStart,sourceX:Ue,sourceY:Te,targetX:Ke,targetY:Be,sourcePosition:me,targetPosition:Ne,elementsSelectable:M,onContextMenu:c,onMouseEnter:u,onMouseMove:f,onMouseLeave:h,onClick:p,onEdgeDoubleClick:g,onReconnect:y,onReconnectStart:b,onReconnectEnd:w,reconnectRadius:S,rfId:r,ariaLabel:L.ariaLabel,isFocusable:ue,isReconnectable:Ce,pathOptions:"pathOptions"in L?L.pathOptions:void 0,interactionWidth:L.interactionWidth,disableKeyboardA11y:C})})))),k):null};yN.displayName="EdgeRenderer";var vV=E.memo(yN);const bV=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function wV({children:e}){const t=zt(bV);return le.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function SV(e){const t=hv(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const EV={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top},vN=({nodeId:e,handleType:t,style:n,type:r=Di.Bezier,CustomComponent:i,connectionStatus:a})=>{var N,P,$;const{fromNode:c,handleId:u,toX:f,toY:h,connectionMode:p}=zt(E.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),Sn),g=(N=c==null?void 0:c[en])==null?void 0:N.handleBounds;let y=g==null?void 0:g[t];if(p===_s.Loose&&(y=y||(g==null?void 0:g[t==="source"?"target":"source"])),!c||!y)return null;const b=u?y.find(I=>I.id===u):y[0],w=b?b.x+b.width/2:(c.width??0)/2,S=b?b.y+b.height/2:c.height??0,k=(((P=c.positionAbsolute)==null?void 0:P.x)??0)+w,C=((($=c.positionAbsolute)==null?void 0:$.y)??0)+S,R=b==null?void 0:b.position,O=R?EV[R]:null;if(!R||!O)return null;if(i)return le.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:c,fromHandle:b,fromX:k,fromY:C,toX:f,toY:h,fromPosition:R,toPosition:O,connectionStatus:a});let M="";const A={sourceX:k,sourceY:C,sourcePosition:R,targetX:f,targetY:h,targetPosition:O};return r===Di.Bezier?[M]=H_(A):r===Di.Step?[M]=Sm({...A,borderRadius:0}):r===Di.SmoothStep?[M]=Sm(A):r===Di.SimpleBezier?[M]=z_(A):M=`M${k},${C} ${f},${h}`,le.createElement("path",{d:M,fill:"none",className:"react-flow__connection-path",style:n})};vN.displayName="ConnectionLine";const CV=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function kV({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:a,nodesConnectable:c,width:u,height:f,connectionStatus:h}=zt(CV,Sn);return!(i&&a&&u&&c)?null:le.createElement("svg",{style:e,width:u,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},le.createElement("g",{className:Bn(["react-flow__connection",h])},le.createElement(vN,{nodeId:i,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:h})))}function BC(e,t){return E.useRef(null),yn(),E.useMemo(()=>t(e),[e])}const bN=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:c,onEdgeClick:u,onNodeDoubleClick:f,onEdgeDoubleClick:h,onNodeMouseEnter:p,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:b,onSelectionContextMenu:w,onSelectionStart:S,onSelectionEnd:k,connectionLineType:C,connectionLineStyle:R,connectionLineComponent:O,connectionLineContainerStyle:M,selectionKeyCode:A,selectionOnDrag:N,selectionMode:P,multiSelectionKeyCode:$,panActivationKeyCode:I,zoomActivationKeyCode:_,deleteKeyCode:F,onlyRenderVisibleElements:ee,elementsSelectable:K,selectNodesOnDrag:L,defaultViewport:Y,translateExtent:j,minZoom:G,maxZoom:Q,preventScrolling:V,defaultMarkerColor:B,zoomOnScroll:H,zoomOnPinch:W,panOnScroll:re,panOnScrollSpeed:ae,panOnScrollMode:ye,zoomOnDoubleClick:me,panOnDrag:Ne,onPaneClick:ue,onPaneMouseEnter:be,onPaneMouseMove:Ce,onPaneMouseLeave:Ue,onPaneScroll:Te,onPaneContextMenu:Ke,onEdgeContextMenu:Be,onEdgeMouseEnter:Fe,onEdgeMouseMove:Ve,onEdgeMouseLeave:_e,onReconnect:Se,onReconnectStart:ze,onReconnectEnd:ft,reconnectRadius:it,noDragClassName:Oe,noWheelClassName:tn,noPanClassName:ln,elevateEdgesOnSelect:En,disableKeyboardA11y:Ct,nodeOrigin:ut,nodeExtent:Bt,rfId:_t})=>{const jn=BC(e,JF),mt=BC(t,sV);return SV(a),le.createElement(WF,{onPaneClick:ue,onPaneMouseEnter:be,onPaneMouseMove:Ce,onPaneMouseLeave:Ue,onPaneContextMenu:Ke,onPaneScroll:Te,deleteKeyCode:F,selectionKeyCode:A,selectionOnDrag:N,selectionMode:P,onSelectionStart:S,onSelectionEnd:k,multiSelectionKeyCode:$,panActivationKeyCode:I,zoomActivationKeyCode:_,elementsSelectable:K,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:H,zoomOnPinch:W,zoomOnDoubleClick:me,panOnScroll:re,panOnScrollSpeed:ae,panOnScrollMode:ye,panOnDrag:Ne,defaultViewport:Y,translateExtent:j,minZoom:G,maxZoom:Q,onSelectionContextMenu:w,preventScrolling:V,noDragClassName:Oe,noWheelClassName:tn,noPanClassName:ln,disableKeyboardA11y:Ct},le.createElement(wV,null,le.createElement(vV,{edgeTypes:mt,onEdgeClick:u,onEdgeDoubleClick:h,onlyRenderVisibleElements:ee,onEdgeContextMenu:Be,onEdgeMouseEnter:Fe,onEdgeMouseMove:Ve,onEdgeMouseLeave:_e,onReconnect:Se,onReconnectStart:ze,onReconnectEnd:ft,reconnectRadius:it,defaultMarkerColor:B,noPanClassName:ln,elevateEdgesOnSelect:!!En,disableKeyboardA11y:Ct,rfId:_t},le.createElement(kV,{style:R,type:C,component:O,containerStyle:M})),le.createElement("div",{className:"react-flow__edgelabel-renderer"}),le.createElement(nV,{nodeTypes:jn,onNodeClick:c,onNodeDoubleClick:f,onNodeMouseEnter:p,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:b,selectNodesOnDrag:L,onlyRenderVisibleElements:ee,noPanClassName:ln,noDragClassName:Oe,disableKeyboardA11y:Ct,nodeOrigin:ut,nodeExtent:Bt,rfId:_t})))};bN.displayName="GraphView";var TV=E.memo(bN);const _m=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ti={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:_m,nodeExtent:_m,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_s.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:tF,isValidConnection:void 0},_V=()=>g7((e,t)=>({...Ti,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:kg(n,r,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",a=typeof r<"u",c=i?kg(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:c,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:c,fitViewOnInitOptions:u,domNode:f,nodeOrigin:h}=t(),p=f==null?void 0:f.querySelector(".react-flow__viewport");if(!p)return;const g=window.getComputedStyle(p),{m22:y}=new window.DOMMatrixReadOnly(g.transform),b=n.reduce((S,k)=>{const C=i.get(k.id);if(C!=null&&C.hidden)i.set(C.id,{...C,[en]:{...C[en],handleBounds:void 0}});else if(C){const R=iv(k.nodeElement);!!(R.width&&R.height&&(C.width!==R.width||C.height!==R.height||k.forceUpdate))&&(i.set(C.id,{...C,[en]:{...C[en],handleBounds:{source:TC(".source",k.nodeElement,y,h),target:TC(".target",k.nodeElement,y,h)}},...R}),S.push({id:C.id,type:"dimensions",dimensions:R}))}return S},[]);sN(i,h);const w=c||a&&!c&&aN(t,{initial:!0,...u});e({nodeInternals:new Map(i),fitViewOnInitDone:w}),(b==null?void 0:b.length)>0&&(r==null||r(b))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:a}=t(),c=n.map(u=>{const f={id:u.id,type:"position",dragging:i};return r&&(f.positionAbsolute=u.positionAbsolute,f.position=u.position),f});a(c)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:c,getNodes:u,elevateNodesOnSelect:f}=t();if(n!=null&&n.length){if(a){const h=cN(n,u()),p=kg(h,i,c,f);e({nodeInternals:p})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let c,u=null;r?c=n.map(f=>Oi(f,!0)):(c=Ba(a(),n),u=Ba(i,[])),Dd({changedNodes:c,changedEdges:u,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let c,u=null;r?c=n.map(f=>Oi(f,!0)):(c=Ba(i,n),u=Ba(a(),[])),Dd({changedNodes:u,changedEdges:c,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:a}=t(),c=n||a(),u=r||i,f=c.map(p=>(p.selected=!1,Oi(p.id,!1))),h=u.map(p=>Oi(p.id,!1));Dd({changedNodes:f,changedEdges:h,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(u=>u.selected).map(u=>Oi(u.id,!1)),c=n.filter(u=>u.selected).map(u=>Oi(u.id,!1));Dd({changedNodes:a,changedEdges:c,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=sv(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:a,d3Zoom:c,d3Selection:u,translateExtent:f}=t();if(!c||!u||!n.x&&!n.y)return!1;const h=Zo.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),p=[[0,0],[i,a]],g=c==null?void 0:c.constrain()(h,p,f);return c.transform(u,g),r[0]!==g.x||r[1]!==g.y||r[2]!==g.k},cancelConnection:()=>e({connectionNodeId:Ti.connectionNodeId,connectionHandleId:Ti.connectionHandleId,connectionHandleType:Ti.connectionHandleType,connectionStatus:Ti.connectionStatus,connectionStartHandle:Ti.connectionStartHandle,connectionEndHandle:Ti.connectionEndHandle}),reset:()=>e({...Ti})}),Object.is),wN=({children:e})=>{const t=E.useRef(null);return t.current||(t.current=_V()),le.createElement(XU,{value:t.current},e)};wN.displayName="ReactFlowProvider";const SN=({children:e})=>E.useContext(Eh)?le.createElement(le.Fragment,null,e):le.createElement(wN,null,e);SN.displayName="ReactFlowWrapper";const NV={input:J_,default:km,output:tN,group:fv},MV={default:Df,straight:cv,step:lv,smoothstep:kh,simplebezier:av},AV=[0,0],RV=[15,15],OV={x:0,y:0,zoom:1},BV={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},EN=E.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a=NV,edgeTypes:c=MV,onNodeClick:u,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:g,onMoveEnd:y,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:k,onClickConnectEnd:C,onNodeMouseEnter:R,onNodeMouseMove:O,onNodeMouseLeave:M,onNodeContextMenu:A,onNodeDoubleClick:N,onNodeDragStart:P,onNodeDrag:$,onNodeDragStop:I,onNodesDelete:_,onEdgesDelete:F,onSelectionChange:ee,onSelectionDragStart:K,onSelectionDrag:L,onSelectionDragStop:Y,onSelectionContextMenu:j,onSelectionStart:G,onSelectionEnd:Q,connectionMode:V=_s.Strict,connectionLineType:B=Di.Bezier,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:re,deleteKeyCode:ae="Backspace",selectionKeyCode:ye="Shift",selectionOnDrag:me=!1,selectionMode:Ne=Uc.Full,panActivationKeyCode:ue="Space",multiSelectionKeyCode:be=jf()?"Meta":"Control",zoomActivationKeyCode:Ce=jf()?"Meta":"Control",snapToGrid:Ue=!1,snapGrid:Te=RV,onlyRenderVisibleElements:Ke=!1,selectNodesOnDrag:Be=!0,nodesDraggable:Fe,nodesConnectable:Ve,nodesFocusable:_e,nodeOrigin:Se=AV,edgesFocusable:ze,edgesUpdatable:ft,elementsSelectable:it,defaultViewport:Oe=OV,minZoom:tn=.5,maxZoom:ln=2,translateExtent:En=_m,preventScrolling:Ct=!0,nodeExtent:ut,defaultMarkerColor:Bt="#b1b1b7",zoomOnScroll:_t=!0,zoomOnPinch:jn=!0,panOnScroll:mt=!1,panOnScrollSpeed:ce=.5,panOnScrollMode:ve=ys.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:Ze=!0,onPaneClick:Ht,onPaneMouseEnter:yt,onPaneMouseMove:Cn,onPaneMouseLeave:kn,onPaneScroll:Dn,onPaneContextMenu:Hn,children:Un,onEdgeContextMenu:Fn,onEdgeDoubleClick:fn,onEdgeMouseEnter:hn,onEdgeMouseMove:Er,onEdgeMouseLeave:Co,onEdgeUpdate:q,onEdgeUpdateStart:z,onEdgeUpdateEnd:X,onReconnect:se,onReconnectStart:fe,onReconnectEnd:Ee,reconnectRadius:Me=10,edgeUpdaterRadius:ke=10,onNodesChange:Re,onEdgesChange:je,noDragClassName:$e="nodrag",noWheelClassName:De="nowheel",noPanClassName:Ye="nopan",fitView:dt=!1,fitViewOptions:jt,connectOnClick:Ut=!0,attributionPosition:ht,proOptions:st,defaultEdgeOptions:eo,elevateNodesOnSelect:Tn=!0,elevateEdgesOnSelect:Kn=!1,disableKeyboardA11y:_n=!1,autoPanOnConnect:to=!0,autoPanOnNodeDrag:no=!0,connectionRadius:qi=20,isValidConnection:Zn,onError:Ur,style:tt,id:pn,nodeDragThreshold:ir,...sr},ko)=>{const Nt=pn||"1";return le.createElement("div",{...sr,style:{...tt,...BV},ref:ko,className:Bn(["react-flow",i]),"data-testid":"rf__wrapper",id:pn},le.createElement(SN,null,le.createElement(TV,{onInit:h,onMove:p,onMoveStart:g,onMoveEnd:y,onNodeClick:u,onEdgeClick:f,onNodeMouseEnter:R,onNodeMouseMove:O,onNodeMouseLeave:M,onNodeContextMenu:A,onNodeDoubleClick:N,nodeTypes:a,edgeTypes:c,connectionLineType:B,connectionLineStyle:H,connectionLineComponent:W,connectionLineContainerStyle:re,selectionKeyCode:ye,selectionOnDrag:me,selectionMode:Ne,deleteKeyCode:ae,multiSelectionKeyCode:be,panActivationKeyCode:ue,zoomActivationKeyCode:Ce,onlyRenderVisibleElements:Ke,selectNodesOnDrag:Be,defaultViewport:Oe,translateExtent:En,minZoom:tn,maxZoom:ln,preventScrolling:Ct,zoomOnScroll:_t,zoomOnPinch:jn,zoomOnDoubleClick:Ie,panOnScroll:mt,panOnScrollSpeed:ce,panOnScrollMode:ve,panOnDrag:Ze,onPaneClick:Ht,onPaneMouseEnter:yt,onPaneMouseMove:Cn,onPaneMouseLeave:kn,onPaneScroll:Dn,onPaneContextMenu:Hn,onSelectionContextMenu:j,onSelectionStart:G,onSelectionEnd:Q,onEdgeContextMenu:Fn,onEdgeDoubleClick:fn,onEdgeMouseEnter:hn,onEdgeMouseMove:Er,onEdgeMouseLeave:Co,onReconnect:se??q,onReconnectStart:fe??z,onReconnectEnd:Ee??X,reconnectRadius:Me??ke,defaultMarkerColor:Bt,noDragClassName:$e,noWheelClassName:De,noPanClassName:Ye,elevateEdgesOnSelect:Kn,rfId:Nt,disableKeyboardA11y:_n,nodeOrigin:Se,nodeExtent:ut}),le.createElement(EF,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:w,onConnectEnd:S,onClickConnectStart:k,onClickConnectEnd:C,nodesDraggable:Fe,nodesConnectable:Ve,nodesFocusable:_e,edgesFocusable:ze,edgesUpdatable:ft,elementsSelectable:it,elevateNodesOnSelect:Tn,minZoom:tn,maxZoom:ln,nodeExtent:ut,onNodesChange:Re,onEdgesChange:je,snapToGrid:Ue,snapGrid:Te,connectionMode:V,translateExtent:En,connectOnClick:Ut,defaultEdgeOptions:eo,fitView:dt,fitViewOptions:jt,onNodesDelete:_,onEdgesDelete:F,onNodeDragStart:P,onNodeDrag:$,onNodeDragStop:I,onSelectionDrag:L,onSelectionDragStart:K,onSelectionDragStop:Y,noPanClassName:Ye,nodeOrigin:Se,rfId:Nt,autoPanOnConnect:to,autoPanOnNodeDrag:no,onError:Ur,connectionRadius:qi,isValidConnection:Zn,nodeDragThreshold:ir}),le.createElement(wF,{onSelectionChange:ee}),Un,le.createElement(ZU,{proOptions:st,position:ht}),le.createElement(NF,{rfId:Nt,disableKeyboardA11y:_n})))});EN.displayName="ReactFlow";function CN(e){return t=>{const[n,r]=E.useState(t),i=E.useCallback(a=>r(c=>e(a,c)),[]);return[n,r,i]}}const jV=CN(cN),DV=CN(UF),kN=({id:e,x:t,y:n,width:r,height:i,style:a,color:c,strokeColor:u,strokeWidth:f,className:h,borderRadius:p,shapeRendering:g,onClick:y,selected:b})=>{const{background:w,backgroundColor:S}=a||{},k=c||w||S;return le.createElement("rect",{className:Bn(["react-flow__minimap-node",{selected:b},h]),x:t,y:n,rx:p,ry:p,width:r,height:i,fill:k,stroke:u,strokeWidth:f,shapeRendering:g,onClick:y?C=>y(C,e):void 0})};kN.displayName="MiniMapNode";var LV=E.memo(kN);const IV=e=>e.nodeOrigin,$V=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Mg=e=>e instanceof Function?e:()=>e;function PV({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:a=LV,onClick:c}){const u=zt($V,Sn),f=zt(IV),h=Mg(t),p=Mg(e),g=Mg(n),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return le.createElement(le.Fragment,null,u.map(b=>{const{x:w,y:S}=Ss(b,f).positionAbsolute;return le.createElement(a,{key:b.id,x:w,y:S,width:b.width,height:b.height,style:b.style,selected:b.selected,className:g(b),color:h(b),borderRadius:r,strokeColor:p(b),strokeWidth:i,shapeRendering:y,onClick:c,id:b.id})}))}var zV=E.memo(PV);const HV=200,UV=150,FV=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?JU(Th(t,e.nodeOrigin),n):n,rfId:e.rfId}},VV="react-flow__minimap-desc";function TN({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:c=2,nodeComponent:u,maskColor:f="rgb(240, 240, 240, 0.6)",maskStrokeColor:h="none",maskStrokeWidth:p=1,position:g="bottom-right",onClick:y,onNodeClick:b,pannable:w=!1,zoomable:S=!1,ariaLabel:k="React Flow mini map",inversePan:C=!1,zoomStep:R=10,offsetScale:O=5}){const M=yn(),A=E.useRef(null),{boundingRect:N,viewBB:P,rfId:$}=zt(FV,Sn),I=(e==null?void 0:e.width)??HV,_=(e==null?void 0:e.height)??UV,F=N.width/I,ee=N.height/_,K=Math.max(F,ee),L=K*I,Y=K*_,j=O*K,G=N.x-(L-N.width)/2-j,Q=N.y-(Y-N.height)/2-j,V=L+j*2,B=Y+j*2,H=`${VV}-${$}`,W=E.useRef(0);W.current=K,E.useEffect(()=>{if(A.current){const ye=Ir(A.current),me=be=>{const{transform:Ce,d3Selection:Ue,d3Zoom:Te}=M.getState();if(be.sourceEvent.type!=="wheel"||!Ue||!Te)return;const Ke=-be.sourceEvent.deltaY*(be.sourceEvent.deltaMode===1?.05:be.sourceEvent.deltaMode?1:.002)*R,Be=Ce[2]*Math.pow(2,Ke);Te.scaleTo(Ue,Be)},Ne=be=>{const{transform:Ce,d3Selection:Ue,d3Zoom:Te,translateExtent:Ke,width:Be,height:Fe}=M.getState();if(be.sourceEvent.type!=="mousemove"||!Ue||!Te)return;const Ve=W.current*Math.max(1,Ce[2])*(C?-1:1),_e={x:Ce[0]-be.sourceEvent.movementX*Ve,y:Ce[1]-be.sourceEvent.movementY*Ve},Se=[[0,0],[Be,Fe]],ze=Zo.translate(_e.x,_e.y).scale(Ce[2]),ft=Te.constrain()(ze,Se,Ke);Te.transform(Ue,ft)},ue=A_().on("zoom",w?Ne:null).on("zoom.wheel",S?me:null);return ye.call(ue),()=>{ye.on("zoom",null)}}},[w,S,C,R]);const re=y?ye=>{const me=Gr(ye);y(ye,{x:me[0],y:me[1]})}:void 0,ae=b?(ye,me)=>{const Ne=M.getState().nodeInternals.get(me);b(ye,Ne)}:void 0;return le.createElement(Ch,{position:g,style:e,className:Bn(["react-flow__minimap",t]),"data-testid":"rf__minimap"},le.createElement("svg",{width:I,height:_,viewBox:`${G} ${Q} ${V} ${B}`,role:"img","aria-labelledby":H,ref:A,onClick:re},k&&le.createElement("title",{id:H},k),le.createElement(zV,{onClick:ae,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:i,nodeStrokeWidth:c,nodeComponent:u}),le.createElement("path",{className:"react-flow__minimap-mask",d:`M${G-j},${Q-j}h${V+j*2}v${B+j*2}h${-V-j*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fill:f,fillRule:"evenodd",stroke:h,strokeWidth:p,pointerEvents:"none"})))}TN.displayName="MiniMap";var YV=E.memo(TN);function GV(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},le.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function qV(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},le.createElement("path",{d:"M0 0h32v4.2H0z"}))}function XV(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},le.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function KV(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},le.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ZV(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},le.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const bc=({children:e,className:t,...n})=>le.createElement("button",{type:"button",className:Bn(["react-flow__controls-button",t]),...n},e);bc.displayName="ControlButton";const WV=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),_N=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:c,onFitView:u,onInteractiveChange:f,className:h,children:p,position:g="bottom-left"})=>{const y=yn(),[b,w]=E.useState(!1),{isInteractive:S,minZoomReached:k,maxZoomReached:C}=zt(WV,Sn),{zoomIn:R,zoomOut:O,fitView:M}=hv();if(E.useEffect(()=>{w(!0)},[]),!b)return null;const A=()=>{R(),a==null||a()},N=()=>{O(),c==null||c()},P=()=>{M(i),u==null||u()},$=()=>{y.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),f==null||f(!S)};return le.createElement(Ch,{className:Bn(["react-flow__controls",h]),position:g,style:e,"data-testid":"rf__controls"},t&&le.createElement(le.Fragment,null,le.createElement(bc,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C},le.createElement(GV,null)),le.createElement(bc,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k},le.createElement(qV,null))),n&&le.createElement(bc,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view"},le.createElement(XV,null)),r&&le.createElement(bc,{className:"react-flow__controls-interactive",onClick:$,title:"toggle interactivity","aria-label":"toggle interactivity"},S?le.createElement(ZV,null):le.createElement(KV,null)),p)};_N.displayName="Controls";var QV=E.memo(_N),Zr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zr||(Zr={}));function JV({color:e,dimensions:t,lineWidth:n}){return le.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function eY({color:e,radius:t}){return le.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const tY={[Zr.Dots]:"#91919a",[Zr.Lines]:"#eee",[Zr.Cross]:"#e2e2e2"},nY={[Zr.Dots]:1,[Zr.Lines]:1,[Zr.Cross]:6},rY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function NN({id:e,variant:t=Zr.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=2,color:c,style:u,className:f}){const h=E.useRef(null),{transform:p,patternId:g}=zt(rY,Sn),y=c||tY[t],b=r||nY[t],w=t===Zr.Dots,S=t===Zr.Cross,k=Array.isArray(n)?n:[n,n],C=[k[0]*p[2]||1,k[1]*p[2]||1],R=b*p[2],O=S?[R,R]:C,M=w?[R/a,R/a]:[O[0]/a,O[1]/a];return le.createElement("svg",{className:Bn(["react-flow__background",f]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:h,"data-testid":"rf__background"},le.createElement("pattern",{id:g+e,x:p[0]%C[0],y:p[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`},w?le.createElement(eY,{color:y,radius:R/a}):le.createElement(JV,{dimensions:O,color:y,lineWidth:i})),le.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${g+e})`}))}NN.displayName="Background";var oY=E.memo(NN);const iY=({data:e})=>v.jsxs("div",{className:`p-2 border-2 rounded-md shadow-md w-20 text-center ${e.nodeType==="npc"?"bg-gray-100":"bg-blue-50"}`,children:[v.jsx("div",{className:"font-bold",children:e.label}),e.subLabel&&v.jsx("div",{className:"text-xs text-gray-500",children:e.subLabel})]}),sY={characterNode:iY};function aY(){const e=["大纲","角色","关系","章节","分幕","剧本"],t=k=>{console.log("Tab changed to:",k)},n=[{id:"1",data:{label:"男1",nodeType:"character"},position:{x:250,y:150},type:"characterNode"},{id:"2",data:{label:"男2",nodeType:"character"},position:{x:450,y:150},type:"characterNode"},{id:"3",data:{label:"女1",nodeType:"character"},position:{x:250,y:300},type:"characterNode"},{id:"4",data:{label:"女2",nodeType:"character"},position:{x:450,y:300},type:"characterNode"},{id:"5",data:{label:"女3",nodeType:"character"},position:{x:650,y:300},type:"characterNode"},{id:"6",data:{label:"女4",nodeType:"character"},position:{x:850,y:300},type:"characterNode"},{id:"7",data:{label:"男恋路",subLabel:"NPC1",nodeType:"npc"},position:{x:650,y:150},type:"characterNode"},{id:"8",data:{label:"男恋路",subLabel:"NPC2",nodeType:"npc"},position:{x:850,y:150},type:"characterNode"}],r=[{id:"e1-3",source:"1",target:"3",label:"爱人",type:"default",markerEnd:{type:xo.ArrowClosed},style:{stroke:"#FF6B6B"}},{id:"e1-2",source:"1",target:"2",label:"生死仇敌",type:"default",markerEnd:{type:xo.ArrowClosed}},{id:"e3-4",source:"3",target:"4",label:"义结金兰",type:"default",markerEnd:{type:xo.ArrowClosed}},{id:"e2-4",source:"2",target:"4",label:`假兄妹
利用爱情`,type:"default",markerEnd:{type:xo.ArrowClosed}},{id:"e4-5",source:"4",target:"5",label:"换魂",type:"default",markerEnd:{type:xo.ArrowClosed}}],[i,a,c]=jV(n),[u,f,h]=DV(r),[p]=E.useState({label:"爱情线80%",char:"角色1"}),g=E.useRef(null),y=E.useCallback(k=>{f(C=>U_({...k,type:"default",markerEnd:{type:xo.ArrowClosed}},C))},[f]),b=E.useCallback(()=>{const k={id:`${i.length+1}`,data:{label:`新角色${i.length+1}`,nodeType:"character"},position:{x:100+Math.random()*100,y:100+Math.random()*100},type:"characterNode"};a(C=>C.concat(k))},[i,a]),[w,S]=E.useState("select");return v.jsxs("div",{className:"w-full h-screen flex",children:[v.jsx(Yi,{}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pl-5",children:[v.jsx("div",{className:"flex w-full pl-10",children:v.jsx(Rs,{tabs:e,defaultTab:"关系",onTabChange:t})}),v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"flex flex-1",children:[v.jsxs("div",{className:"w-12 border-r flex flex-col items-center py-4 space-y-4",children:[v.jsx("button",{className:`p-2 rounded ${w==="select"?"bg-gray-200":""}`,onClick:()=>S("select"),title:"选择",children:v.jsx(we,{icon:"mdi:cursor-default",className:"w-6 h-6"})}),v.jsx("button",{className:`p-2 rounded ${w==="add-node"?"bg-gray-200":""}`,onClick:()=>S("add-node"),title:"添加节点",children:v.jsx(we,{icon:"mdi:shape-square-plus",className:"w-6 h-6"})}),v.jsx("button",{className:`p-2 rounded ${w==="add-edge"?"bg-gray-200":""}`,onClick:()=>S("add-edge"),title:"添加连线",children:v.jsx(we,{icon:"mdi:vector-line",className:"w-6 h-6"})}),v.jsx("button",{className:`p-2 rounded ${w==="delete"?"bg-gray-200":""}`,onClick:()=>S("delete"),title:"删除",children:v.jsx(we,{icon:"mdi:delete-outline",className:"w-6 h-6"})})]}),v.jsx("div",{className:"flex-1 h-full",children:v.jsxs(EN,{nodes:i,edges:u,onNodesChange:c,onEdgesChange:h,onConnect:y,nodeTypes:sY,fitView:!0,ref:g,children:[v.jsx(QV,{}),v.jsx(oY,{color:"#aaa",gap:16}),v.jsx(YV,{}),v.jsx(Ch,{position:"top-right",children:v.jsxs("button",{className:"flex items-center space-x-1 bg-white border rounded-md px-3 py-1.5 text-gray-700 shadow-sm hover:bg-gray-50",onClick:b,children:[v.jsx("span",{children:"添加角色"}),v.jsx(we,{icon:"mdi:plus-circle-outline",className:"w-5 h-5"})]})})]})})]}),v.jsxs("div",{className:"h-64 border-t flex",children:[v.jsxs("div",{className:"w-1/2 border-r p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("div",{className:"text-lg font-bold",children:"情感线"}),v.jsxs("div",{className:"inline-flex items-center space-x-2",children:[v.jsxs("span",{className:"text-blue-500 font-medium",children:[p.label," (",p.char,")"]}),v.jsx("button",{className:"p-1 bg-gray-100 rounded-full",children:v.jsx(we,{icon:"mdi:plus",className:"w-5 h-5"})})]})]}),v.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[v.jsx("span",{children:"和"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-1 pr-8 bg-white focus:outline-none",children:[v.jsx("option",{children:"角色1"}),v.jsx("option",{children:"角色2"}),v.jsx("option",{children:"角色3"})]}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsx("span",{children:"的"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-1 pr-8 bg-white focus:outline-none",children:[v.jsx("option",{children:"事业线"}),v.jsx("option",{children:"爱情线"}),v.jsx("option",{children:"友情线"})]}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsx("span",{children:"占比"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-1 pr-8 bg-white focus:outline-none",children:[v.jsx("option",{children:"80%"}),v.jsx("option",{children:"70%"}),v.jsx("option",{children:"60%"}),v.jsx("option",{children:"50%"})]}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]}),v.jsx(we,{icon:"mdi:check",className:"w-5 h-5 text-green-500"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("div",{className:"text-sm font-medium mb-1",children:"情感点"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none border border-gray-300 rounded-md px-4 py-2 pr-8 bg-white focus:outline-none w-full bg-purple-50",children:v.jsx("option",{children:"「只差一步就能永远在一起」"})}),v.jsx(we,{icon:"ri:arrow-down-s-line",className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500"})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-4 py-2 pr-10",placeholder:"角色关系不好？告诉我如何优化，如：xxxxxx"}),v.jsx(we,{icon:"ri:corner-down-right-fill",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer"})]})]}),v.jsxs("div",{className:"w-1/2 p-4",children:[v.jsx("div",{className:"text-lg font-bold mb-4",children:"关联剧情"}),v.jsxs("div",{className:"space-y-4 overflow-y-auto h-[calc(100%-2rem)]",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:"第一本-第一幕:"}),v.jsx("p",{className:"text-gray-700 ml-4",children:"1. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxx"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:"第一本-第一幕:"}),v.jsx("p",{className:"text-gray-700 ml-4",children:"2. xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxx"})]})]})]})]})]})]})]})}function lY(){const e=["大纲","角色","关系","章节","分幕","剧本"],t=n=>{console.log("Tab changed to:",n)};return v.jsxs("div",{className:"w-full h-screen flex",children:[v.jsx(Yi,{}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden pl-5",children:[v.jsx("div",{className:"flex w-full pl-10",children:v.jsx(Rs,{tabs:e,defaultTab:"章节",onTabChange:t})}),v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx("div",{className:"text-xl text-gray-600 p-8 rounded-lg bg-white",style:{boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px"},children:"此页面正在加班加点更新中"})})]})]})}function cY(){const e=["大纲","角色","关系","章节","分幕","剧本"],t=n=>{console.log(`选择了标签: ${n}`)};return v.jsxs("div",{className:"flex h-screen bg-gray-50",children:[v.jsx(Yi,{}),v.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:v.jsxs("div",{className:"max-w-2xl w-full px-4",children:[v.jsx("h1",{className:"text-3xl text-center font-normal text-gray-800 mb-16",children:"Hello，选择一个方式，开始您的创作吧"}),v.jsx("div",{className:"mb-16",children:v.jsx(Rs,{tabs:e,defaultTab:"大纲",onTabChange:t})}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs(Ra,{to:"/editor",className:"bg-black text-white py-3 px-6 rounded-md text-center flex items-center justify-center gap-2",children:[v.jsx("span",{children:"一键生成剧本内容"}),v.jsx("span",{className:"text-lg",children:"›"})]}),v.jsx(Ra,{to:"/",className:"border border-gray-300 bg-white py-3 px-6 rounded-md text-center",children:"导入我的作品"}),v.jsx(Ra,{to:"/",className:"border border-gray-300 bg-white py-3 px-6 rounded-md text-center",children:"上传我的素材"}),v.jsxs(Ra,{to:"/",className:"border border-gray-300 bg-white py-3 px-6 rounded-md text-center flex items-center justify-center gap-2",children:[v.jsx("span",{children:"不喜欢这个方式？新建工作流"}),v.jsx("span",{className:"text-lg",children:"›"})]})]})]})})]})}function uY(){return v.jsxs("div",{className:"app",children:[v.jsx(G5,{}),v.jsx(mO,{})]})}const dY=UO([{path:"/",element:v.jsx(uY,{}),children:[{index:!0,element:v.jsx(cY,{})},{path:"editor",element:v.jsx(VL,{})},{path:"outline",element:v.jsx(YI,{})},{path:"characters",element:v.jsx(o7,{})},{path:"relations",element:v.jsx(aY,{})},{path:"chapters",element:v.jsx(lY,{})},{path:"scenes",element:v.jsx(HI,{})},{path:"scenes/:sceneId",element:v.jsx(FI,{})}]}]);YA.createRoot(document.getElementById("root")).render(v.jsx(E.StrictMode,{children:v.jsx(t3,{router:dY})}));
